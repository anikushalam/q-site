import{r as b,j as e,aq as J,n as L,F as H,aa as W,t as q,x as G,C as K}from"./index-2d8c782e.js";import{u as X,a as Z,b as Q}from"./career-api-91537005.js";import{s as l}from"./ApplicationForm.module-128fad79.js";import{s as w}from"./InputDateField.module-fcef49b4.js";import{s as g}from"./Careers.module-9cc457d6.js";const V=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ee=["January","February","March","April","May","June","July","August","September","October","November","December"],se=(h=V,N=ee)=>{const o=new Date,i=`${o.getDate()}-${o.getMonth()+1}-${o.getFullYear()}`,v=[1,2,3,4,5,6,0],[t,s]=b.useState(o),f=new Date(t.getFullYear(),t.getMonth()+1,0),c=new Date(t.getFullYear(),t.getMonth(),0),u=f.getDate(),a=new Date(t.getFullYear(),t.getMonth(),1).getDay(),m=v.indexOf(a)+1;let $=c.getDate()-v.indexOf(a)+1,y=1,S=1;const d=6,j=7,p={};for(let r=1;r<d+1;r++)for(let C=1;C<j+1;C++)p[r]||(p[r]=[]),r===1?C<m?(p[r]=[...p[r],{classes:"in-prev-month",date:`${$}-${t.getMonth()===0?12:t.getMonth()}-${t.getMonth()===0?t.getFullYear()-1:t.getFullYear()}`,value:$}],$++):(p[r]=[...p[r],{classes:"",date:`${y}-${t.getMonth()+1}-${t.getFullYear()}`,value:y}],y++):r>1&&y<u+1?(p[r]=[...p[r],{classes:"",date:`${y}-${t.getMonth()+1}-${t.getFullYear()}`,value:y}],y++):(p[r]=[...p[r],{classes:"in-next-month",date:`${S}-${t.getMonth()+2===13?1:t.getMonth()+2}-${t.getMonth()+2===13?t.getFullYear()+1:t.getFullYear()}`,value:S}],S++);return{daysShort:h,monthNames:N,todayFormatted:i,calendarRows:p,selectedDate:t,getPrevMonth:()=>{s(r=>new Date(r.getFullYear(),r.getMonth()-1,1))},getNextMonth:()=>{s(r=>new Date(r.getFullYear(),r.getMonth()+1,1))},getDesiredData:r=>{s(new Date(`${r.month} ${r.year}`))},setSelectedDate:s}};function te({handleClick:h}){return e.jsx("div",{children:e.jsx("img",{className:"arrowicon",src:"/images/Input/arrow-left.svg",alt:"",onClick:h})})}function ne({handleClick:h}){return e.jsx("div",{children:e.jsx("img",{className:"arrowicon",src:"/images/Input/arrow-right.svg",alt:"",onClick:h})})}const ae={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},re={position:"absolute",width:"35%",left:"11%",top:"15%",zIndex:10,overflowY:"scroll",height:"82%",boxShadow:"0px 3px 8px 0px rgba(0,0,0,0.75)"};function le({open:h,onClose:N,setSelectedData:o,setSelectedDate:i,monthNames:v,selectedData:t,setIndex:s}){return h?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:N,style:ae}),e.jsx("div",{className:"years",style:re,children:v.map((f,c)=>e.jsx("div",{className:"monththhh",onClick:()=>{o({...t,month:f}),i(new Date(`${f} ${t.year}`)),s(0)},children:f},c))})]}):null}const ie={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},de={position:"absolute",width:"35%",left:"53%",top:"15%",zIndex:10,overflowY:"scroll",height:"82%",boxShadow:"0px 3px 8px 0px rgba(0,0,0,0.75)"};function oe({open:h,onClose:N,setSelectedData:o,setSelectedDate:i,currentYears:v,currentYear:t,selectedData:s,setIndex:f}){return h?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:N,style:ie}),e.jsx("div",{className:"years",style:de,children:v.map((c,u)=>e.jsx("div",{className:"monththhh",onClick:()=>{o({...s,year:c}),i(new Date(`${c} ${s.month}`)),f(0)},children:c},u))})]}):null}const E=J(e.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),ce={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},he=({range:h,onClose:N,dateInput:o,setDateInput:i,datePickerPosition:v})=>{const{calendarRows:t,selectedDate:s,todayFormatted:f,daysShort:c,monthNames:u,getNextMonth:a,getPrevMonth:m,setSelectedDate:$}=se(),[y,S]=b.useState([]),[d,j]=b.useState(0),[p,U]=b.useState({date:"",month:u[s.getMonth()],year:s.getFullYear().toString()}),[M,D]=b.useState([]),r=new Date;`${r.getDate()<10?`0${r.getDate()}`:r.getDate()}`,r.getMonth()+1<10?r.getMonth()+1:r.getMonth()+1,`${r.getFullYear()}`;const C=x=>{D(x)},O=x=>{D(n=>[...n,x])};function I(){for(var x=new Date().getFullYear(),n=x-70,F=[],A=x+30;A>=n;A--)F.push(A);return F}const Y=I(),k=x=>{if(h)if(M.length>0&&M.includes(x)){const n=M.filter(function(F){return F!==x});C(n),S(n)}else O(x),S(n=>[...n,x]);else D(x),i(x),setTimeout(()=>{!h&&N()},100)},R=new Date().getFullYear();Math.ceil(Y.length/12);const P=Y.indexOf(R),T=Math.ceil(P/12),[B,xe]=b.useState(T),_=B*12,z=_-12;return Y.slice(z,_),b.useEffect(()=>{h&&i(M)},[M]),e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:N,style:ce}),e.jsxs("div",{className:"datepickercontainer",style:{...v},children:[e.jsxs("div",{className:"calenderheader",children:[e.jsx("div",{className:"calenderheaderLeft",children:e.jsx(te,{handleClick:m})}),e.jsxs("div",{className:"calenderheaderMid",children:[e.jsxs("div",{className:d===1?"monthcontainer containerDark":"monthcontainer",onClick:()=>j(1),children:[e.jsx("h6",{className:"month",children:`${u[s.getMonth()]}`}),d===1?e.jsx(E,{style:{color:"gray"}}):e.jsx("img",{className:"arrow",src:"/images/Input/dropdown-icon.svg",alt:""})]}),e.jsxs("div",{className:d===2?"yearcontainer containerDark":"yearcontainer",onClick:()=>j(2),children:[e.jsx("h6",{className:"year",children:`${s.getFullYear()}`}),d===2?e.jsx(E,{style:{color:"gray"}}):e.jsx("img",{className:"arrow",src:"/images/Input/dropdown-icon.svg",alt:""})]})]}),e.jsx("div",{className:"calenderheaderright",children:e.jsx(ne,{handleClick:a})})]}),d===1&&e.jsx(le,{open:d===1,onClose:()=>j(0),monthNames:u,setIndex:j,setSelectedData:U,setSelectedDate:$,selectedData:p}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:c.map(x=>e.jsx("th",{className:"day",children:x},x))})}),e.jsx("tbody",{children:Object.values(t).map(x=>e.jsx("tr",{children:x.map(n=>n.date===f?e.jsx("td",{className:`${n.classes} date`,onClick:()=>{k(`${n.value<10?`0${n.value}`:n.value}/${s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1}/${s.getFullYear()}`)},children:e.jsx("div",{className:M.includes(`${n.value<10?`0${n.value}`:n.value}/${s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1}/${s.getFullYear()}`)||o===`${n.value<10?`0${n.value}`:n.value}/${s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1}/${s.getFullYear()}`?`${n.classes} datediv  active`:`${n.classes} datediv aaji`,children:n.value})},n.date):n.classes==="in-prev-month"||n.classes==="in-next-month"?e.jsx("td",{className:`${n.classes} date`,children:e.jsx("div",{className:`${n.classes} datediv `,children:n.value})},n.date):e.jsx("td",{className:`${n.classes} date`,onClick:()=>k(`${n.value<10?`0${n.value}`:n.value}/${s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1}/${s.getFullYear()}`),children:e.jsx("div",{className:M.includes(`${n.value<10?`0${n.value}`:n.value}/${s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1}/${s.getFullYear()}`)?`${n.classes} datediv  active`:`${n.classes} datediv `,children:n.value})},n.date))},x[0].date))})]}),d===2&&e.jsx(oe,{open:d===2,onClose:()=>j(0),currentYears:Y,setSelectedData:U,setSelectedDate:$,selectedData:p,setIndex:j,currentYear:R})]})]})};function me({datePickerPosition:h,range:N,iconStyle:o,dateInput:i,setDateInput:v,customStyleInput:t,placeholder:s,label:f,setOpenDate:c,asOpen:u}){const[a,m]=b.useState(!1);L();const $=()=>{u==="Enquiry"&&c(!0),m(!0)};return e.jsxs("div",{className:w.input_without_icon_container,children:[e.jsxs("h3",{className:w.inputLabel,children:[f," ",e.jsx("span",{className:w.labelSpan,children:"*"})]}),e.jsx("input",{className:w.input_without_icon,style:{...t},placeholder:s||"dd/mm/yyyy",type:"text",onFocus:$,value:N&&i?i[0]:i||""}),e.jsx("img",{style:{...o},className:o?"":w.arrowIcon,src:"/images/Input/calendar.svg",alt:""}),a&&e.jsx(he,{datePickerPosition:h,range:N,onClose:()=>m(!1),dateInput:i,setDateInput:v})]})}const ue=h=>{var u,a;const N=new Date,o=h==null?void 0:h.split("/"),i=+o[0],v=+o[1],t=+o[2],s=(u=N.toISOString())==null?void 0:u.split("-");+((a=s[2])==null?void 0:a.substring(0,2)),+s[1],+s[0];var f=new Date(`${o[1]}/${o[0]}/${o[2]}`);function c(m){return(m<10?"0":"")+m}return f.setHours(0,0,0,0)>new Date().setHours(0,0,0,0)?[!1,`${t}-${c(v)}-${c(i)}`]:[!0,`${t}-${c(v)}-${c(i)}`]};function pe({vid:h}){const{t:N}=L(),[o,i]=b.useState(!1),[v]=X(),[t]=Z(),[s,f]=b.useState(""),[c,u]=b.useState({msg:"",run:!1}),[a,m]=b.useState({endUserName:"",endUserEmail:"",endUserPhoneNumber:"",endUserAddress:"",endUserResume:"",endUserResumeNsme:"",endUserDOB:""}),$=d=>{const j=ue(d);j[0]?(f(j[1]),m({...a,endUserDOB:j[1]})):u({msg:"You cannot select upcoming date",run:!0})},y=d=>{i(!0);const j=new FormData;j.append("file",d.target.files[0]),v({fileUpload:j}).then(p=>{var U;m({...a,endUserResume:(U=p.data)==null?void 0:U.imageKey,endUserResumeNsme:d.target.files[0].name}),i(!1)})},S=()=>{i(!0),t({vid:h,applyData:{endUserName:a.endUserName,endUserEmail:a.endUserEmail,endUserPhoneNumber:a.endUserPhoneNumber,endUserAddress:a.endUserAddress,endUserResume:a.endUserResume,endUserResumeNsme:a.endUserResumeNsme,endUserDOB:a.endUserDOB}}).then(d=>{i(!1),m({endUserName:"",endUserEmail:"",endUserPhoneNumber:"",endUserAddress:"",endUserResume:"",endUserResumeNsme:"",endUserDOB:""}),u({msg:"You have applied for the post",run:!0})}).catch(d=>{i(!1)})};return e.jsx("div",{className:l.applyformcontainer,children:e.jsxs("div",{className:l.applyform,children:[e.jsx("h5",{className:l.personalinfo,children:"Personal information"}),e.jsx("h6",{className:l.tellus,children:"Tell us something about yourself"}),e.jsxs("div",{className:l.peventinputContainer,children:[e.jsxs("h5",{className:l.inputLabel,children:["Name ",e.jsx("span",{className:l.labelSpan,children:"*"})," "]}),e.jsx("input",{className:l.input,type:"text",placeholder:"Enter Name",value:a.endUserName,onChange:d=>m({...a,endUserName:d.target.value})})]}),e.jsxs("div",{className:l.peventinputContainer,children:[e.jsxs("h5",{className:l.inputLabel,children:["Mobile Number ",e.jsx("span",{className:l.labelSpan,children:"*"})," "]}),e.jsx("input",{className:l.input,type:"number",maxlength:"10",placeholder:"Enter Mobile Name",value:a.endUserPhoneNumber,onChange:d=>m({...a,endUserPhoneNumber:d.target.value})})]}),e.jsxs("div",{className:l.peventinputContainer,children:[e.jsxs("h5",{className:l.inputLabel,children:["Email Address ",e.jsx("span",{className:l.labelSpan,children:"*"})," "]}),e.jsx("input",{className:l.input,type:"email",placeholder:"Enter email address",value:a.endUserEmail,onChange:d=>m({...a,endUserEmail:d.target.value})})]}),e.jsx("div",{className:l.peventinputContainer,children:e.jsx(me,{customStyleInput:{width:"100%",height:"2.9rem",padding:"1rem 0.5rem"},datePickerPosition:{bottom:"0",left:"0",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",bottom:"0.6rem",height:"1rem",display:"none"},range:!1,label:N("dob"),placeholder:N("plz_select_date_"),dateInput:s,setDateInput:$})}),e.jsxs("div",{className:l.peventinputContainer,children:[e.jsxs("h5",{className:l.inputLabel,children:["Address ",e.jsx("span",{className:l.labelSpan,children:"*"})," "]}),e.jsx("input",{className:l.input,type:"text",placeholder:"Enter Address",value:a.endUserAddress,onChange:d=>m({...a,endUserAddress:d.target.value})})]}),e.jsxs("div",{className:l.peventinputContainer,children:[e.jsx("input",{class:l.upload,type:"file",id:"formFile",name:"file",onChange:y}),e.jsxs("h5",{className:l.inputLabel,children:["CV or resume ",e.jsx("span",{className:l.labelSpan,children:"*"})," "]}),e.jsx("label",{for:"formFile",className:l.cvContainer,children:e.jsxs("div",{children:[a.endUserResume!==""&&e.jsx("div",{className:l.screenShotText,children:a.endUserResumeNsme}),a.endUserResume===""?e.jsx("div",{className:`${l.uploadText} ${l.uploadd}`,children:"Upload a file"}):e.jsx("div",{className:l.changeButton,children:"Change file"})]})})]}),e.jsx("div",{className:l.buttonContainer,children:a.endUserName!==""&&a.endUserEmail!==""&&a.endUserPhoneNumber!==""&&a.endUserAddress!==""&&a.endUserResume!==""&&a.endUserResumeNsme!==""&&a.endUserDOB!==""&&e.jsx("div",{className:`${l.changeButton} ${l.submitbtn}`,onClick:S,children:"Submit"})}),c.run&&e.jsx(H,{msg:c.msg,run:c.run,setRun:()=>u({msg:"",run:!1}),postiton:"bottom",type:"success"}),o&&e.jsx(W,{})]})})}function $e({setDetail:h,vid:N,carryParentState:o}){var c,u,a,m,$,y,S,d,j,p,U,M,D,r;const[i,v]=b.useState(!1),t=q(),{getVacancyDetail:s,getVacancyDetailRefetch:f}=Q({vid:(c=t==null?void 0:t.state)==null?void 0:c.vid,skip:!((u=t==null?void 0:t.state)!=null&&u.vid)});return e.jsxs("div",{className:g.jd,children:[e.jsx("div",{className:g.jdtop,children:e.jsxs("div",{className:g.jdtopwrap,children:[e.jsx(G,{state:{vid:`${(a=t==null?void 0:t.state)==null?void 0:a.vid}`,lcid:`${(m=t==null?void 0:t.state)==null?void 0:m.lcid}`},to:"/career",children:e.jsx("div",{className:g.backicon,children:e.jsx("img",{className:g.backiconimg,src:"/images/career/back-icon-white.svg"})})}),e.jsx("div",{className:g.jdtopbody,children:e.jsxs("div",{className:g.jdtopbodycontent,children:[e.jsx("h5",{children:($=s==null?void 0:s.vacancy)==null?void 0:$.vacancy_position}),e.jsxs("p",{children:[" ",e.jsx("span",{children:e.jsx("img",{className:g.user,src:"/images/career/user.png"})})," ",((y=s==null?void 0:s.vacancy)==null?void 0:y.vacancy_job_type)==="Administrative Job"?`${(d=(S=s==null?void 0:s.vacancy)==null?void 0:S.department)==null?void 0:d.dName} ( ${(j=s==null?void 0:s.vacancy)==null?void 0:j.vacancy_job_type})`:`  ${(p=s==null?void 0:s.vacancy)==null?void 0:p.vacancy_job_type}`]})]})})]})}),e.jsxs("div",{className:g.jdmid,children:[e.jsxs("div",{className:g.jdmidleft,children:[e.jsx("div",{className:i?g.jdunder:`${g.jdunder} ${g.underline}`,onClick:()=>v(!1),children:"Job Details"}),e.jsx("div",{className:i?`${g.jdunder} ${g.underline}`:g.applybtn,onClick:()=>v(!0),children:"Apply"})]}),e.jsx("a",{href:`${K}/${(U=s==null?void 0:s.vacancy)==null?void 0:U.vacancy_banner}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/images/career/download-icon.svg"})})]}),!i&&e.jsxs("div",{className:g.jdbody,children:[e.jsx("h5",{children:"Job Overview"}),e.jsx("p",{children:(M=s==null?void 0:s.vacancy)==null?void 0:M.vacancy_about}),e.jsx("h5",{children:"Package"}),e.jsxs("p",{children:["Rs. ",(D=s==null?void 0:s.vacancy)==null?void 0:D.vacancy_package,"/-"]})]}),i&&e.jsx("div",{className:g.applyform,children:e.jsx(pe,{vid:(r=s==null?void 0:s.vacancy)==null?void 0:r._id})})]})}export{$e as default};
