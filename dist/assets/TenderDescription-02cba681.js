import{k as w,r as h,j as e,F as B,a8 as F,s as A,m as E,n as U,i as R,w as T,ap as G}from"./index-62e7bf43.js";import{u as I,d as M,e as P}from"./career-api-073c6b96.js";import"./InputDateField.module-fcef49b4.js";import{s as t}from"./Careers.module-975bd970.js";const J="_applyformcontainer_1l5hr_1",K="_applyform_1l5hr_1",O="_personalinfo_1l5hr_9",W="_tellus_1l5hr_24",Y="_inputLabel_1l5hr_34",z="_labelSpan_1l5hr_47",H="_peventinputContainer_1l5hr_53",V="_buttonContainer_1l5hr_54",X="_input_1l5hr_34",Z="_cvContainer_1l5hr_80",D="_uploadText_1l5hr_81",Q="_uploadd_1l5hr_104",ee="_changeButton_1l5hr_109",ae="_upload_1l5hr_81",ne="_button_1l5hr_54",se="_submitbtn_1l5hr_160",a={applyformcontainer:J,applyform:K,personalinfo:O,tellus:W,inputLabel:Y,labelSpan:z,peventinputContainer:H,buttonContainer:V,input:X,cvContainer:Z,uploadText:D,uploadd:Q,changeButton:ee,upload:ae,button:ne,submitbtn:se};function te({tid:_}){w();const[b,r]=h.useState(!1),[j]=I(),[l]=M(),[o,i]=h.useState({msg:"",run:!1}),[n,s]=h.useState({bidder_name:"",bidder_email:"",bidder_phone_number:"",bidder_address:"",bidder_quotation:"",bidder_quotation_name:""}),x=d=>{r(!0);const p=new FormData;p.append("file",d.target.files[0]),j({fileUpload:p}).then(u=>{var m;s({...n,bidder_quotation:(m=u.data)==null?void 0:m.imageKey,bidder_quotation_name:d.target.files[0].name}),r(!1)})},c=()=>{r(!0),l({tid:_,bidData:{bidder_name:n.bidder_name,bidder_email:n.bidder_email,bidder_phone_number:n.bidder_phone_number,bidder_address:n.bidder_address,bidder_quotation:n.bidder_quotation,bidder_quotation_name:n.bidder_quotation_name}}).then(d=>{r(!1),s({bidder_name:"",bidder_email:"",bidder_phone_number:"",bidder_address:"",bidder_quotation:"",bidder_quotation_name:""}),i({msg:"You have applied for ths bid",run:!0})}).catch(d=>{r(!1)})};return e.jsx("div",{className:a.applyformcontainer,children:e.jsxs("div",{className:a.applyform,children:[e.jsx("h5",{className:a.personalinfo,children:"Personal information"}),e.jsx("h6",{className:a.tellus,children:"Tell us something about yourself"}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsxs("h5",{className:a.inputLabel,children:["Name / Company Name ",e.jsx("span",{className:a.labelSpan,children:"*"})," "]}),e.jsx("input",{className:a.input,type:"text",placeholder:"Enter Name / Company Name",value:n.bidder_name,onChange:d=>s({...n,bidder_name:d.target.value})})]}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsxs("h5",{className:a.inputLabel,children:["Mobile Number ",e.jsx("span",{className:a.labelSpan,children:"*"})," "]}),e.jsx("input",{className:a.input,type:"number",maxlength:"10",placeholder:"Enter Mobile Name",value:n.bidder_phone_number,onChange:d=>s({...n,bidder_phone_number:d.target.value})})]}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsxs("h5",{className:a.inputLabel,children:["Email Address ",e.jsx("span",{className:a.labelSpan,children:"*"})," "]}),e.jsx("input",{className:a.input,type:"email",placeholder:"Enter email address",value:n.bidder_email,onChange:d=>s({...n,bidder_email:d.target.value})})]}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsxs("h5",{className:a.inputLabel,children:["Address ",e.jsx("span",{className:a.labelSpan,children:"*"})," "]}),e.jsx("input",{className:a.input,type:"text",placeholder:"Enter Address",value:n.bidder_address,onChange:d=>s({...n,bidder_address:d.target.value})})]}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("input",{class:a.upload,type:"file",id:"formFile",name:"file",onChange:x}),e.jsxs("h5",{className:a.inputLabel,children:["Quotation ",e.jsx("span",{className:a.labelSpan,children:"*"})," "]}),e.jsx("label",{for:"formFile",className:a.cvContainer,children:e.jsxs("div",{children:[n.bidder_quotation!==""&&e.jsx("div",{className:a.screenShotText,children:n.bidder_quotation_name}),n.bidder_quotation===""?e.jsx("div",{className:`${a.uploadText} ${a.uploadd}`,children:"Upload a file"}):e.jsx("div",{className:a.changeButton,children:"Change file"})]})})]}),e.jsx("div",{className:a.buttonContainer,children:n.bidder_name!==""&&n.bidder_email!==""&&n.bidder_phone_number!==""&&n.bidder_address!==""&&n.bidder_quotation!==""&&e.jsx("div",{className:`${a.changeButton} ${a.submitbtn}`,onClick:c,children:"Submit"})}),o.run&&e.jsx(B,{msg:o.msg,run:o.run,setRun:()=>i({msg:"",run:!1}),postiton:"bottom",type:"success"}),b&&e.jsx(F,{})]})})}function oe({setDetail:_,vid:b,tid:r,carryParentState:j}){var p,u,m,f,N,v,C,g,y,S,k,q,$;const[l,o]=h.useState(!1),i=A(),n=E(L=>L.domainCom.id),{getTenderDetail:s,getTenderDetailRefetch:x}=P({tid:(p=i==null?void 0:i.state)==null?void 0:p.tid,skip:!((u=i==null?void 0:i.state)!=null&&u.tid)}),{getwebsiteInfoGetByInstitute:c,getwebsiteInfoGetByInstituteRefetch:d}=U({id:n,skip:!n});return e.jsxs("div",{className:t.jd,children:[e.jsx("div",{className:t.jdtop,style:{background:`url(${R}/${(f=(m=c==null?void 0:c.one_ins)==null?void 0:m.website_looks)==null?void 0:f.background_image})`},children:e.jsxs("div",{className:t.jdtopwrap,children:[e.jsx(T,{state:{tid:`${(N=i==null?void 0:i.state)==null?void 0:N.tid}`,ltid:`${(v=i==null?void 0:i.state)==null?void 0:v.ltid}`},to:"/tender/detail",children:e.jsx("div",{className:t.backicon,onClick:()=>_(!1),children:e.jsx("img",{className:t.backiconimg,src:"/images/career/back-icon-white.svg"})})}),e.jsx("div",{className:t.jdtopbody,children:e.jsxs("div",{className:t.jdtopbodycontent,children:[e.jsxs("h5",{children:[" ",(C=s==null?void 0:s.tender)==null?void 0:C.tender_requirement]}),e.jsxs("p",{children:[" ",e.jsx("span",{children:e.jsx("img",{className:t.user,src:"/images/career/user.png"})})," ",(y=(g=s==null?void 0:s.tender)==null?void 0:g.department)==null?void 0:y.dName]})]})})]})}),e.jsxs("div",{className:t.jdmid,children:[e.jsxs("div",{className:t.jdmidleft,children:[e.jsx("div",{className:l?t.jdunder:`${t.jdunder} ${t.underline}`,onClick:()=>o(!1),children:"Tender Details"}),e.jsx("div",{className:l?`${t.jdunder} ${t.underline}`:t.applybtn,onClick:()=>o(!0),children:"Bid"})]}),e.jsx("a",{href:`${G}/${(S=s==null?void 0:s.tender)==null?void 0:S.tender_order}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/images/career/download-icon.svg"})})]}),!l&&e.jsxs("div",{className:t.jdbody,children:[e.jsx("h5",{children:"Tender Overview"}),e.jsx("p",{children:(k=s==null?void 0:s.tender)==null?void 0:k.tender_about}),e.jsx("h5",{children:"Budget"}),e.jsxs("p",{children:["Rs. ",(q=s==null?void 0:s.tender)==null?void 0:q.tender_budget,"/-"]})]}),l&&e.jsx("div",{className:t.applyform,children:e.jsx(te,{tid:($=s==null?void 0:s.tender)==null?void 0:$._id})})]})}export{oe as default};
