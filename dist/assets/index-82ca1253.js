var Ha=Object.defineProperty;var Va=(A,$,H)=>$ in A?Ha(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var Sn=(A,$,H)=>(Va(A,typeof $!="symbol"?$+"":$,H),H),zr=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var ge=(A,$,H)=>(zr(A,$,"read from private field"),H?H.call(A):$.get(A)),at=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},Ct=(A,$,H,B)=>(zr(A,$,"write to private field"),B?B.call(A,H):$.set(A,H),H);var Hr=(A,$,H,B)=>({set _(O){Ct(A,$,O,H)},get _(){return ge(A,$,B)}}),dt=(A,$,H)=>(zr(A,$,"access private method"),H);import{aC as getAugmentedNamespace,aD as commonjsRequire,r as reactExports,aE as reactDomExports}from"./index-f1249455.js";var lib$h={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Se,$.bytesToString=Xe,$.createPromiseCapability=Nt,$.createValidAbsoluteUrl=ne,$.getModificationDate=zt,$.getVerbosityLevel=Le,$.info=Oe,$.isArrayBuffer=yt,$.isArrayEqual=Ft,$.objectFromMap=Pe,$.objectSize=Ee,$.setVerbosityLevel=Be,$.shadow=fe,$.string32=ue,$.stringToBytes=oe,$.stringToPDFString=ft,$.stringToUTF8String=ut,$.unreachable=Qe,$.utf8StringToString=bt,$.warn=Je;const H=[1,0,0,1,0,0];$.IDENTITY_MATRIX=H;const B=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=B;const O=1.35;$.LINE_FACTOR=O;const R=.35;$.LINE_DESCENT_FACTOR=R;const re=R/O;$.BASELINE_FACTOR=re;const de={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=de;const pe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=pe;const ae="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ae;const te={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=te;const ve={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=ve;const ie={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=ie;const Q={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Q;const ee={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=ee;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const J={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=J;const Y={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=Y;const W={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=W;const q={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=q;const V={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=V;const X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=X;const ce={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ce;const me={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=me;const _e={O:"PageOpen",C:"PageClose"};$.PageActionEventType=_e;const Ce={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Ce;const le={NONE:0,BINARY:1};$.CMapCompressionType=le;const xe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=xe;const nt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=nt;const ze={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=ze;let Ue=Ce.WARNINGS;function Be($e){Number.isInteger($e)&&(Ue=$e)}function Le(){return Ue}function Oe($e){Ue>=Ce.INFOS&&console.log(`Info: ${$e}`)}function Je($e){Ue>=Ce.WARNINGS&&console.log(`Warning: ${$e}`)}function Qe($e){throw new Error($e)}function Se($e,Re){$e||Qe(Re)}function se($e){if(!$e)return!1;switch($e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ne($e,Re=null,Ne=null){if(!$e)return null;try{if(Ne&&typeof $e=="string"){if(Ne.addDefaultProtocol&&$e.startsWith("www.")){const Ot=$e.match(/\./g);Ot&&Ot.length>=2&&($e=`http://${$e}`)}if(Ne.tryConvertEncoding)try{$e=ut($e)}catch{}}const ht=Re?new URL($e,Re):new URL($e);if(se(ht))return ht}catch{}return null}function fe($e,Re,Ne,ht=!1){return Object.defineProperty($e,Re,{value:Ne,enumerable:!ht,configurable:!0,writable:!1}),Ne}const ye=function(){function Re(Ne,ht){this.constructor===Re&&Qe("Cannot initialize BaseException."),this.message=Ne,this.name=ht}return Re.prototype=new Error,Re.constructor=Re,Re}();$.BaseException=ye;class Ae extends ye{constructor(Re,Ne){super(Re,"PasswordException"),this.code=Ne}}$.PasswordException=Ae;class Me extends ye{constructor(Re,Ne){super(Re,"UnknownErrorException"),this.details=Ne}}$.UnknownErrorException=Me;class Ie extends ye{constructor(Re){super(Re,"InvalidPDFException")}}$.InvalidPDFException=Ie;class qe extends ye{constructor(Re){super(Re,"MissingPDFException")}}$.MissingPDFException=qe;class rt extends ye{constructor(Re,Ne){super(Re,"UnexpectedResponseException"),this.status=Ne}}$.UnexpectedResponseException=rt;class Ze extends ye{constructor(Re){super(Re,"FormatError")}}$.FormatError=Ze;class et extends ye{constructor(Re){super(Re,"AbortException")}}$.AbortException=et;function Xe($e){(typeof $e!="object"||$e===null||$e.length===void 0)&&Qe("Invalid argument for bytesToString");const Re=$e.length,Ne=8192;if(Re<Ne)return String.fromCharCode.apply(null,$e);const ht=[];for(let Ot=0;Ot<Re;Ot+=Ne){const Yt=Math.min(Ot+Ne,Re),Ke=$e.subarray(Ot,Yt);ht.push(String.fromCharCode.apply(null,Ke))}return ht.join("")}function oe($e){typeof $e!="string"&&Qe("Invalid argument for stringToBytes");const Re=$e.length,Ne=new Uint8Array(Re);for(let ht=0;ht<Re;++ht)Ne[ht]=$e.charCodeAt(ht)&255;return Ne}function ue($e){return String.fromCharCode($e>>24&255,$e>>16&255,$e>>8&255,$e&255)}function Ee($e){return Object.keys($e).length}function Pe($e){const Re=Object.create(null);for(const[Ne,ht]of $e)Re[Ne]=ht;return Re}function be(){const $e=new Uint8Array(4);return $e[0]=1,new Uint32Array($e.buffer,0,1)[0]===1}function ke(){try{return new Function(""),!0}catch{return!1}}class tt{static get isLittleEndian(){return fe(this,"isLittleEndian",be())}static get isEvalSupported(){return fe(this,"isEvalSupported",ke())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?fe(this,"platform",{isWin:!1,isMac:!1}):fe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=tt;const ot=[...Array(256).keys()].map($e=>$e.toString(16).padStart(2,"0"));class it{static makeHexColor(Re,Ne,ht){return`#${ot[Re]}${ot[Ne]}${ot[ht]}`}static scaleMinMax(Re,Ne){let ht;Re[0]?(Re[0]<0&&(ht=Ne[0],Ne[0]=Ne[1],Ne[1]=ht),Ne[0]*=Re[0],Ne[1]*=Re[0],Re[3]<0&&(ht=Ne[2],Ne[2]=Ne[3],Ne[3]=ht),Ne[2]*=Re[3],Ne[3]*=Re[3]):(ht=Ne[0],Ne[0]=Ne[2],Ne[2]=ht,ht=Ne[1],Ne[1]=Ne[3],Ne[3]=ht,Re[1]<0&&(ht=Ne[2],Ne[2]=Ne[3],Ne[3]=ht),Ne[2]*=Re[1],Ne[3]*=Re[1],Re[2]<0&&(ht=Ne[0],Ne[0]=Ne[1],Ne[1]=ht),Ne[0]*=Re[2],Ne[1]*=Re[2]),Ne[0]+=Re[4],Ne[1]+=Re[4],Ne[2]+=Re[5],Ne[3]+=Re[5]}static transform(Re,Ne){return[Re[0]*Ne[0]+Re[2]*Ne[1],Re[1]*Ne[0]+Re[3]*Ne[1],Re[0]*Ne[2]+Re[2]*Ne[3],Re[1]*Ne[2]+Re[3]*Ne[3],Re[0]*Ne[4]+Re[2]*Ne[5]+Re[4],Re[1]*Ne[4]+Re[3]*Ne[5]+Re[5]]}static applyTransform(Re,Ne){const ht=Re[0]*Ne[0]+Re[1]*Ne[2]+Ne[4],Ot=Re[0]*Ne[1]+Re[1]*Ne[3]+Ne[5];return[ht,Ot]}static applyInverseTransform(Re,Ne){const ht=Ne[0]*Ne[3]-Ne[1]*Ne[2],Ot=(Re[0]*Ne[3]-Re[1]*Ne[2]+Ne[2]*Ne[5]-Ne[4]*Ne[3])/ht,Yt=(-Re[0]*Ne[1]+Re[1]*Ne[0]+Ne[4]*Ne[1]-Ne[5]*Ne[0])/ht;return[Ot,Yt]}static getAxialAlignedBoundingBox(Re,Ne){const ht=it.applyTransform(Re,Ne),Ot=it.applyTransform(Re.slice(2,4),Ne),Yt=it.applyTransform([Re[0],Re[3]],Ne),Ke=it.applyTransform([Re[2],Re[1]],Ne);return[Math.min(ht[0],Ot[0],Yt[0],Ke[0]),Math.min(ht[1],Ot[1],Yt[1],Ke[1]),Math.max(ht[0],Ot[0],Yt[0],Ke[0]),Math.max(ht[1],Ot[1],Yt[1],Ke[1])]}static inverseTransform(Re){const Ne=Re[0]*Re[3]-Re[1]*Re[2];return[Re[3]/Ne,-Re[1]/Ne,-Re[2]/Ne,Re[0]/Ne,(Re[2]*Re[5]-Re[4]*Re[3])/Ne,(Re[4]*Re[1]-Re[5]*Re[0])/Ne]}static singularValueDecompose2dScale(Re){const Ne=[Re[0],Re[2],Re[1],Re[3]],ht=Re[0]*Ne[0]+Re[1]*Ne[2],Ot=Re[0]*Ne[1]+Re[1]*Ne[3],Yt=Re[2]*Ne[0]+Re[3]*Ne[2],Ke=Re[2]*Ne[1]+Re[3]*Ne[3],pt=(ht+Ke)/2,_t=Math.sqrt((ht+Ke)**2-4*(ht*Ke-Yt*Ot))/2,St=pt+_t||1,qt=pt-_t||1;return[Math.sqrt(St),Math.sqrt(qt)]}static normalizeRect(Re){const Ne=Re.slice(0);return Re[0]>Re[2]&&(Ne[0]=Re[2],Ne[2]=Re[0]),Re[1]>Re[3]&&(Ne[1]=Re[3],Ne[3]=Re[1]),Ne}static intersect(Re,Ne){const ht=Math.max(Math.min(Re[0],Re[2]),Math.min(Ne[0],Ne[2])),Ot=Math.min(Math.max(Re[0],Re[2]),Math.max(Ne[0],Ne[2]));if(ht>Ot)return null;const Yt=Math.max(Math.min(Re[1],Re[3]),Math.min(Ne[1],Ne[3])),Ke=Math.min(Math.max(Re[1],Re[3]),Math.max(Ne[1],Ne[3]));return Yt>Ke?null:[ht,Yt,Ot,Ke]}static bezierBoundingBox(Re,Ne,ht,Ot,Yt,Ke,pt,_t){const St=[],qt=[[],[]];let on,Kt,Zt,Gt,tn,kn,_n,En;for(let On=0;On<2;++On){if(On===0?(Kt=6*Re-12*ht+6*Yt,on=-3*Re+9*ht-9*Yt+3*pt,Zt=3*ht-3*Re):(Kt=6*Ne-12*Ot+6*Ke,on=-3*Ne+9*Ot-9*Ke+3*_t,Zt=3*Ot-3*Ne),Math.abs(on)<1e-12){if(Math.abs(Kt)<1e-12)continue;Gt=-Zt/Kt,0<Gt&&Gt<1&&St.push(Gt);continue}_n=Kt*Kt-4*Zt*on,En=Math.sqrt(_n),!(_n<0)&&(tn=(-Kt+En)/(2*on),0<tn&&tn<1&&St.push(tn),kn=(-Kt-En)/(2*on),0<kn&&kn<1&&St.push(kn))}let yn=St.length,pn;const Fn=yn;for(;yn--;)Gt=St[yn],pn=1-Gt,qt[0][yn]=pn*pn*pn*Re+3*pn*pn*Gt*ht+3*pn*Gt*Gt*Yt+Gt*Gt*Gt*pt,qt[1][yn]=pn*pn*pn*Ne+3*pn*pn*Gt*Ot+3*pn*Gt*Gt*Ke+Gt*Gt*Gt*_t;return qt[0][Fn]=Re,qt[1][Fn]=Ne,qt[0][Fn+1]=pt,qt[1][Fn+1]=_t,qt[0].length=qt[1].length=Fn+2,[Math.min(...qt[0]),Math.min(...qt[1]),Math.max(...qt[0]),Math.max(...qt[1])]}}$.Util=it;const Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ft($e){if($e[0]>="ï"){let Ne;if($e[0]==="þ"&&$e[1]==="ÿ"?Ne="utf-16be":$e[0]==="ÿ"&&$e[1]==="þ"?Ne="utf-16le":$e[0]==="ï"&&$e[1]==="»"&&$e[2]==="¿"&&(Ne="utf-8"),Ne)try{const ht=new TextDecoder(Ne,{fatal:!0}),Ot=oe($e);return ht.decode(Ot)}catch(ht){Je(`stringToPDFString: "${ht}".`)}}const Re=[];for(let Ne=0,ht=$e.length;Ne<ht;Ne++){const Ot=Ye[$e.charCodeAt(Ne)];Re.push(Ot?String.fromCharCode(Ot):$e.charAt(Ne))}return Re.join("")}function ut($e){return decodeURIComponent(escape($e))}function bt($e){return unescape(encodeURIComponent($e))}function yt($e){return typeof $e=="object"&&$e!==null&&$e.byteLength!==void 0}function Ft($e,Re){if($e.length!==Re.length)return!1;for(let Ne=0,ht=$e.length;Ne<ht;Ne++)if($e[Ne]!==Re[Ne])return!1;return!0}function zt($e=new Date){return[$e.getUTCFullYear().toString(),($e.getUTCMonth()+1).toString().padStart(2,"0"),$e.getUTCDate().toString().padStart(2,"0"),$e.getUTCHours().toString().padStart(2,"0"),$e.getUTCMinutes().toString().padStart(2,"0"),$e.getUTCSeconds().toString().padStart(2,"0")].join("")}function Nt(){const $e=Object.create(null);let Re=!1;return Object.defineProperty($e,"settled",{get(){return Re}}),$e.promise=new Promise(function(Ne,ht){$e.resolve=function(Ot){Re=!0,Ne(Ot)},$e.reject=function(Ot){Re=!0,ht(Ot)}}),$e}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,B,O,R,re,de,pe,ae,te,Vr,ie,Q,Ur,G,U;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Y,NodeCMapReaderFactory:W,NodeStandardFontDataFactory:q}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Y,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=W,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=q}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:Y}=__w_pdfjs_require__(21);createPDFNetworkStream=W=>new Y(W)}else{const{PDFNetworkStream:Y}=__w_pdfjs_require__(24),{PDFFetchStream:W}=__w_pdfjs_require__(25);createPDFNetworkStream=q=>(0,_display_utils.isValidFetchUrl)(q.url)?new W(q):new Y(q)}function getDocument(Y){if(typeof Y=="string"||Y instanceof URL)Y={url:Y};else if((0,_util.isArrayBuffer)(Y))Y={data:Y};else if(Y instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),Y={range:Y};else if(typeof Y!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Y.url&&!Y.data&&!Y.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const W=new PDFDocumentLoadingTask,q=Y.url?getUrlProp(Y.url):null,V=Y.data?getDataProp(Y.data):null,X=Y.httpHeaders||null,ce=Y.withCredentials===!0,me=Y.password??null,_e=Y.range instanceof PDFDataRangeTransport?Y.range:null,Ce=Number.isInteger(Y.rangeChunkSize)&&Y.rangeChunkSize>0?Y.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let le=Y.worker instanceof PDFWorker?Y.worker:null;const xe=Y.verbosity,nt=typeof Y.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Y.docBaseUrl)?Y.docBaseUrl:null,ze=typeof Y.cMapUrl=="string"?Y.cMapUrl:null,Ue=Y.cMapPacked!==!1,Be=Y.CMapReaderFactory||DefaultCMapReaderFactory,Le=typeof Y.standardFontDataUrl=="string"?Y.standardFontDataUrl:null,Oe=Y.StandardFontDataFactory||DefaultStandardFontDataFactory,Je=Y.stopAtErrors!==!0,Qe=Number.isInteger(Y.maxImageSize)&&Y.maxImageSize>-1?Y.maxImageSize:-1,Se=Y.isEvalSupported!==!1,se=typeof Y.isOffscreenCanvasSupported=="boolean"?Y.isOffscreenCanvasSupported:!_is_node.isNodeJS,ne=typeof Y.disableFontFace=="boolean"?Y.disableFontFace:_is_node.isNodeJS,fe=Y.fontExtraProperties===!0,ye=Y.enableXfa===!0,Ae=Y.ownerDocument||globalThis.document,Me=Y.disableRange===!0,Ie=Y.disableStream===!0,qe=Y.disableAutoFetch===!0,rt=Y.pdfBug===!0,Ze=_e?_e.length:Y.length??NaN,et=typeof Y.useSystemFonts=="boolean"?Y.useSystemFonts:!_is_node.isNodeJS&&!ne,Xe=typeof Y.useWorkerFetch=="boolean"?Y.useWorkerFetch:Be===_display_utils.DOMCMapReaderFactory&&Oe===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(ze,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Le,document.baseURI),oe=null;(0,_util.setVerbosityLevel)(xe);const ue=Xe?null:{cMapReaderFactory:new Be({baseUrl:ze,isCompressed:Ue}),standardFontDataFactory:new Oe({baseUrl:Le})};if(!le){const ke={verbosity:xe,port:_worker_options.GlobalWorkerOptions.workerPort};le=ke.port?PDFWorker.fromPort(ke):new PDFWorker(ke),W._worker=le}const Ee=W.docId,Pe={docId:Ee,apiVersion:"3.4.120",data:V,password:me,disableAutoFetch:qe,rangeChunkSize:Ce,length:Ze,docBaseUrl:nt,enableXfa:ye,evaluatorOptions:{maxImageSize:Qe,disableFontFace:ne,ignoreErrors:Je,isEvalSupported:Se,isOffscreenCanvasSupported:se,fontExtraProperties:fe,useSystemFonts:et,cMapUrl:Xe?ze:null,standardFontDataUrl:Xe?Le:null}},be={ignoreErrors:Je,isEvalSupported:Se,disableFontFace:ne,fontExtraProperties:fe,enableXfa:ye,ownerDocument:Ae,disableAutoFetch:qe,pdfBug:rt,styleElement:oe};return le.promise.then(function(){if(W.destroyed)throw new Error("Loading aborted");const ke=_fetchDocument(le,Pe),tt=new Promise(function(ot){let it;_e?it=new _transport_stream.PDFDataTransportStream({length:Ze,initialData:_e.initialData,progressiveDone:_e.progressiveDone,contentDispositionFilename:_e.contentDispositionFilename,disableRange:Me,disableStream:Ie},_e):V||(it=createPDFNetworkStream({url:q,length:Ze,httpHeaders:X,withCredentials:ce,rangeChunkSize:Ce,disableRange:Me,disableStream:Ie})),ot(it)});return Promise.all([ke,tt]).then(function([ot,it]){if(W.destroyed)throw new Error("Loading aborted");const Ye=new _message_handler.MessageHandler(Ee,ot,le.port),ft=new WorkerTransport(Ye,W,it,be,ue);W._transport=ft,Ye.send("Ready",null)})}).catch(W._capability.reject),W}async function _fetchDocument(Y,W){if(Y.destroyed)throw new Error("Worker was destroyed");const q=await Y.messageHandler.sendWithPromise("GetDocRequest",W,W.data?[W.data.buffer]:null);if(Y.destroyed)throw new Error("Worker was destroyed");return q}function getUrlProp(Y){if(Y instanceof URL)return Y.href;try{return new URL(Y,window.location).href}catch{if(_is_node.isNodeJS&&typeof Y=="string")return Y}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Y){if(_is_node.isNodeJS&&typeof Buffer<"u"&&Y instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(Y);if(Y instanceof Uint8Array&&Y.byteLength===Y.buffer.byteLength)return Y;if(typeof Y=="string")return(0,_util.stringToBytes)(Y);if(typeof Y=="object"&&!isNaN(Y==null?void 0:Y.length)||(0,_util.isArrayBuffer)(Y))return new Uint8Array(Y);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const H=class H{constructor(){at(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Hr(H,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ge(this,$)}set onUnsupportedFeature(W){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),Ct(this,$,W)}get promise(){return this._capability.promise}async destroy(){var W;this.destroyed=!0,await((W=this._transport)==null?void 0:W.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$=new WeakMap,at(H,A,0);let PDFDocumentLoadingTask=H;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(W,q,V=!1,X=null){this.length=W,this.initialData=q,this.progressiveDone=V,this.contentDispositionFilename=X,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(W){this._rangeListeners.push(W)}addProgressListener(W){this._progressListeners.push(W)}addProgressiveReadListener(W){this._progressiveReadListeners.push(W)}addProgressiveDoneListener(W){this._progressiveDoneListeners.push(W)}onDataRange(W,q){for(const V of this._rangeListeners)V(W,q)}onDataProgress(W,q){this._readyCapability.promise.then(()=>{for(const V of this._progressListeners)V(W,q)})}onDataProgressiveRead(W){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(W)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const W of this._progressiveDoneListeners)W()})}transportReady(){this._readyCapability.resolve()}requestDataRange(W,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(W,q){this._pdfInfo=W,this._transport=q}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(W){return this._transport.getPage(W)}getPageIndex(W){return this._transport.getPageIndex(W)}getDestinations(){return this._transport.getDestinations()}getDestination(W){return this._transport.getDestination(W)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(W=!1){return this._transport.startCleanup(W||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(W,q,V,X,ce=!1){this._pageIndex=W,this._pageInfo=q,this._ownerDocument=X,this._transport=V,this._stats=ce?new _display_utils.StatTimer:null,this._pdfBug=ce,this.commonObjs=V.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:W,rotation:q=this.rotate,offsetX:V=0,offsetY:X=0,dontFlip:ce=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:W,rotation:q,offsetX:V,offsetY:X,dontFlip:ce})}getAnnotations({intent:W="display"}={}){const q=this._transport.getRenderingIntent(W);return this._transport.getAnnotations(this._pageIndex,q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var W;return((W=this._transport._htmlForXfa)==null?void 0:W.children[this._pageIndex])||null}render({canvasContext:W,viewport:q,intent:V="display",annotationMode:X=_util.AnnotationMode.ENABLE,transform:ce=null,canvasFactory:me=null,background:_e=null,optionalContentConfigPromise:Ce=null,annotationCanvasMap:le=null,pageColors:xe=null,printAnnotationStorage:nt=null}){var Se,se;(Se=this._stats)==null||Se.time("Overall");const ze=this._transport.getRenderingIntent(V,X,nt);this.pendingCleanup=!1,Ce||(Ce=this._transport.getOptionalContentConfig());let Ue=this._intentStates.get(ze.cacheKey);Ue||(Ue=Object.create(null),this._intentStates.set(ze.cacheKey,Ue)),Ue.streamReaderCancelTimeout&&(clearTimeout(Ue.streamReaderCancelTimeout),Ue.streamReaderCancelTimeout=null);const Be=me||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Le=!!(ze.renderingIntent&_util.RenderingIntentFlag.PRINT);Ue.displayReadyCapability||(Ue.displayReadyCapability=(0,_util.createPromiseCapability)(),Ue.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(se=this._stats)==null||se.time("Page Request"),this._pumpOperatorList(ze));const Oe=ne=>{var fe,ye;Ue.renderTasks.delete(Je),(this.cleanupAfterRender||Le)&&(this.pendingCleanup=!0),this._tryCleanup(),ne?(Je.capability.reject(ne),this._abortOperatorList({intentState:Ue,reason:ne instanceof Error?ne:new Error(ne)})):Je.capability.resolve(),(fe=this._stats)==null||fe.timeEnd("Rendering"),(ye=this._stats)==null||ye.timeEnd("Overall")},Je=new InternalRenderTask({callback:Oe,params:{canvasContext:W,viewport:q,transform:ce,background:_e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:le,operatorList:Ue.operatorList,pageIndex:this._pageIndex,canvasFactory:Be,useRequestAnimationFrame:!Le,pdfBug:this._pdfBug,pageColors:xe});(Ue.renderTasks||(Ue.renderTasks=new Set)).add(Je);const Qe=Je.task;return Promise.all([Ue.displayReadyCapability.promise,Ce]).then(([ne,fe])=>{var ye;if(this.pendingCleanup){Oe();return}(ye=this._stats)==null||ye.time("Rendering"),Je.initializeGraphics({transparency:ne,optionalContentConfig:fe}),Je.operatorListChanged()}).catch(Oe),Qe}getOperatorList({intent:W="display",annotationMode:q=_util.AnnotationMode.ENABLE,printAnnotationStorage:V=null}={}){var Ce;function X(){me.operatorList.lastChunk&&(me.opListReadCapability.resolve(me.operatorList),me.renderTasks.delete(_e))}const ce=this._transport.getRenderingIntent(W,q,V,!0);let me=this._intentStates.get(ce.cacheKey);me||(me=Object.create(null),this._intentStates.set(ce.cacheKey,me));let _e;return me.opListReadCapability||(_e=Object.create(null),_e.operatorListChanged=X,me.opListReadCapability=(0,_util.createPromiseCapability)(),(me.renderTasks||(me.renderTasks=new Set)).add(_e),me.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ce=this._stats)==null||Ce.time("Page Request"),this._pumpOperatorList(ce)),me.opListReadCapability.promise}streamTextContent({disableCombineTextItems:W=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:W!==!0,includeMarkedContent:q===!0},{highWaterMark:100,size(X){return X.items.length}})}getTextContent(W={}){if(this._transport._htmlForXfa)return this.getXfa().then(V=>_xfa_text.XfaText.textContent(V));const q=this.streamTextContent(W);return new Promise(function(V,X){function ce(){me.read().then(function({value:Ce,done:le}){if(le){V(_e);return}Object.assign(_e.styles,Ce.styles),_e.items.push(...Ce.items),ce()},X)}const me=q.getReader(),_e={items:[],styles:Object.create(null)};ce()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const W=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const V of q.renderTasks)W.push(V.completed),V.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(W)}cleanup(W=!1){return this.pendingCleanup=!0,this._tryCleanup(W)}_tryCleanup(W=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:V}of this._intentStates.values())if(q.size>0||!V.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(W,q){var X,ce;const V=this._intentStates.get(q);V&&((X=this._stats)==null||X.timeEnd("Page Request"),(ce=V.displayReadyCapability)==null||ce.resolve(W))}_renderPageChunk(W,q){for(let V=0,X=W.length;V<X;V++)q.operatorList.fnArray.push(W.fnArray[V]),q.operatorList.argsArray.push(W.argsArray[V]);q.operatorList.lastChunk=W.lastChunk,q.operatorList.separateAnnots=W.separateAnnots;for(const V of q.renderTasks)V.operatorListChanged();W.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:W,cacheKey:q,annotationStorageMap:V}){const ce=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:W,cacheKey:q,annotationStorage:V}).getReader(),me=this._intentStates.get(q);me.streamReader=ce;const _e=()=>{ce.read().then(({value:Ce,done:le})=>{if(le){me.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ce,me),_e())},Ce=>{if(me.streamReader=null,!this._transport.destroyed){if(me.operatorList){me.operatorList.lastChunk=!0;for(const le of me.renderTasks)le.operatorListChanged();this._tryCleanup()}if(me.displayReadyCapability)me.displayReadyCapability.reject(Ce);else if(me.opListReadCapability)me.opListReadCapability.reject(Ce);else throw Ce}})};_e()}_abortOperatorList({intentState:W,reason:q,force:V=!1}){if(W.streamReader){if(W.streamReaderCancelTimeout&&(clearTimeout(W.streamReaderCancelTimeout),W.streamReaderCancelTimeout=null),!V){if(W.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException){let X=RENDERING_CANCELLED_TIMEOUT;q.extraDelay>0&&q.extraDelay<1e3&&(X+=q.extraDelay),W.streamReaderCancelTimeout=setTimeout(()=>{W.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:W,reason:q,force:!0})},X);return}}if(W.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),W.streamReader=null,!this._transport.destroyed){for(const[X,ce]of this._intentStates)if(ce===W){this._intentStates.delete(X);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){at(this,B,new Set);at(this,O,Promise.resolve())}postMessage(W,q){const V={data:structuredClone(W,q)};ge(this,O).then(()=>{for(const X of ge(this,B))X.call(this,V)})}addEventListener(W,q){ge(this,B).add(q)}removeEventListener(W,q){ge(this,B).delete(q)}terminate(){ge(this,B).clear()}}B=new WeakMap,O=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Y=(R=document==null?void 0:document.currentScript)==null?void 0:R.src;Y&&(PDFWorkerUtil.fallbackWorkerSrc=Y.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Y,W){let q;try{if(q=new URL(Y),!q.origin||q.origin==="null")return!1}catch{return!1}const V=new URL(W,q);return q.origin===V.origin},PDFWorkerUtil.createCDNWrapper=function(Y){const W=`importScripts("${Y}");`;return URL.createObjectURL(new Blob([W]))}}const _PDFWorker=class _PDFWorker{constructor({name:Y=null,port:W=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(W&&ge(_PDFWorker,re).has(W))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Y,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,W){ge(_PDFWorker,re).set(W,this),this._initializeFromPort(W);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Y){this._port=Y,this._messageHandler=new _message_handler.MessageHandler("main","worker",Y),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Y}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Y)||(Y=PDFWorkerUtil.createCDNWrapper(new URL(Y,window.location).href));const W=new Worker(Y),q=new _message_handler.MessageHandler("main","worker",W),V=()=>{W.removeEventListener("error",X),q.destroy(),W.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},X=()=>{this._webWorker||V()};W.addEventListener("error",X),q.on("test",me=>{if(W.removeEventListener("error",X),this.destroyed){V();return}me?(this._messageHandler=q,this._port=W,this._webWorker=W,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),W.terminate())}),q.on("ready",me=>{if(W.removeEventListener("error",X),this.destroyed){V();return}try{ce()}catch{this._setupFakeWorker()}});const ce=()=>{const me=new Uint8Array;q.send("test",me,[me.buffer])};ce();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Y=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const W=new LoopbackPort;this._port=W;const q=`fake${PDFWorkerUtil.fakeWorkerId++}`,V=new _message_handler.MessageHandler(q+"_worker",q,W);Y.setup(V,W);const X=new _message_handler.MessageHandler(q,q+"_worker",W);this._messageHandler=X,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})}).catch(Y=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Y.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ge(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Y){if(!(Y!=null&&Y.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ge(this,re).has(Y.port)?ge(this,re).get(Y.port):new _PDFWorker(Y)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Y;try{return((Y=globalThis.pdfjsWorker)==null?void 0:Y.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,at(_PDFWorker,re,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(W,q,V,X,ce){at(this,te);at(this,de,new Map);at(this,pe,new Map);at(this,ae,new Map);this.messageHandler=W,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:X.ownerDocument,styleElement:X.styleElement}),this._params=X,this.cMapReaderFactory=ce==null?void 0:ce.cMapReaderFactory,this.standardFontDataFactory=ce==null?void 0:ce.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=V,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(W,q=_util.AnnotationMode.ENABLE,V=null,X=!1){let ce=_util.RenderingIntentFlag.DISPLAY,me=null;switch(W){case"any":ce=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ce=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${W}`)}switch(q){case _util.AnnotationMode.DISABLE:ce+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ce+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ce+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,me=(ce&_util.RenderingIntentFlag.PRINT&&V instanceof _annotation_storage.PrintAnnotationStorage?V:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${q}`)}return X&&(ce+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ce,cacheKey:`${ce}_${_annotation_storage.AnnotationStorage.getHash(me)}`,annotationStorageMap:me}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const W=[];for(const V of ge(this,pe).values())W.push(V._destroy());ge(this,pe).clear(),ge(this,ae).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return W.push(q),Promise.all(W).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ge(this,de).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:W,loadingTask:q}=this;W.on("GetReader",(V,X)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ce=>{this._lastProgress={loaded:ce.loaded,total:ce.total}},X.onPull=()=>{this._fullReader.read().then(function({value:ce,done:me}){if(me){X.close();return}(0,_util.assert)(ce instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(ce),1,[ce])}).catch(ce=>{X.error(ce)})},X.onCancel=ce=>{this._fullReader.cancel(ce),X.ready.catch(me=>{if(!this.destroyed)throw me})}}),W.on("ReaderHeadersReady",V=>{const X=(0,_util.createPromiseCapability)(),ce=this._fullReader;return ce.headersReady.then(()=>{var me;(!ce.isStreamingSupported||!ce.isRangeSupported)&&(this._lastProgress&&((me=q.onProgress)==null||me.call(q,this._lastProgress)),ce.onProgress=_e=>{var Ce;(Ce=q.onProgress)==null||Ce.call(q,{loaded:_e.loaded,total:_e.total})}),X.resolve({isStreamingSupported:ce.isStreamingSupported,isRangeSupported:ce.isRangeSupported,contentLength:ce.contentLength})},X.reject),X.promise}),W.on("GetRangeReader",(V,X)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ce=this._networkStream.getRangeReader(V.begin,V.end);if(!ce){X.close();return}X.onPull=()=>{ce.read().then(function({value:me,done:_e}){if(_e){X.close();return}(0,_util.assert)(me instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(me),1,[me])}).catch(me=>{X.error(me)})},X.onCancel=me=>{ce.cancel(me),X.ready.catch(_e=>{if(!this.destroyed)throw _e})}}),W.on("GetDoc",({pdfInfo:V})=>{this._numPages=V.numPages,this._htmlForXfa=V.htmlForXfa,delete V.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(V,this))}),W.on("DocException",function(V){let X;switch(V.name){case"PasswordException":X=new _util.PasswordException(V.message,V.code);break;case"InvalidPDFException":X=new _util.InvalidPDFException(V.message);break;case"MissingPDFException":X=new _util.MissingPDFException(V.message);break;case"UnexpectedResponseException":X=new _util.UnexpectedResponseException(V.message,V.status);break;case"UnknownErrorException":X=new _util.UnknownErrorException(V.message,V.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(X)}),W.on("PasswordRequest",V=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const X=ce=>{ce instanceof Error?this._passwordCapability.reject(ce):this._passwordCapability.resolve({password:ce})};try{q.onPassword(X,V.code)}catch(ce){this._passwordCapability.reject(ce)}}else this._passwordCapability.reject(new _util.PasswordException(V.message,V.code));return this._passwordCapability.promise}),W.on("DataLoaded",V=>{var X;(X=q.onProgress)==null||X.call(q,{loaded:V.length,total:V.length}),this.downloadInfoCapability.resolve(V)}),W.on("StartRenderPage",V=>{if(this.destroyed)return;ge(this,pe).get(V.pageIndex)._startRenderPage(V.transparency,V.cacheKey)}),W.on("commonobj",([V,X,ce])=>{var me;if(!this.destroyed&&!this.commonObjs.has(V))switch(X){case"Font":const _e=this._params;if("error"in ce){const xe=ce.error;(0,_util.warn)(`Error during font loading: ${xe}`),this.commonObjs.resolve(V,xe);break}let Ce=null;_e.pdfBug&&((me=globalThis.FontInspector)!=null&&me.enabled)&&(Ce={registerFont(xe,nt){globalThis.FontInspector.fontAdded(xe,nt)}});const le=new _font_loader.FontFaceObject(ce,{isEvalSupported:_e.isEvalSupported,disableFontFace:_e.disableFontFace,ignoreErrors:_e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Ce});this.fontLoader.bind(le).catch(xe=>W.sendWithPromise("FontFallback",{id:V})).finally(()=>{!_e.fontExtraProperties&&le.data&&(le.data=null),this.commonObjs.resolve(V,le)});break;case"FontPath":case"Image":this.commonObjs.resolve(V,ce);break;default:throw new Error(`Got unknown common object type ${X}`)}}),W.on("obj",([V,X,ce,me])=>{var Ce;if(this.destroyed)return;const _e=ge(this,pe).get(X);if(!_e.objs.has(V))switch(ce){case"Image":_e.objs.resolve(V,me);const le=8e6;if(me){let xe;if(me.bitmap){const{width:nt,height:ze}=me;xe=nt*ze*4}else xe=((Ce=me.data)==null?void 0:Ce.length)||0;xe>le&&(_e.cleanupAfterRender=!0)}break;case"Pattern":_e.objs.resolve(V,me);break;default:throw new Error(`Got unknown object type ${ce}`)}}),W.on("DocProgress",V=>{var X;this.destroyed||(X=q.onProgress)==null||X.call(q,{loaded:V.loaded,total:V.total})}),W.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),W.on("FetchBuiltInCMap",V=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(V):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),W.on("FetchStandardFontData",V=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(V):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:W}){var q,V;this.destroyed||(V=(q=this.loadingTask).onUnsupportedFeature)==null||V.call(q,W)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var W;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((W=this._fullReader)==null?void 0:W.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(W){if(!Number.isInteger(W)||W<=0||W>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=W-1,V=ge(this,ae).get(q);if(V)return V;const X=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(ce=>{if(this.destroyed)throw new Error("Transport destroyed");const me=new PDFPageProxy(q,ce,this,this._params.ownerDocument,this._params.pdfBug);return ge(this,pe).set(q,me),me});return ge(this,ae).set(q,X),X}getPageIndex(W){return typeof W!="object"||W===null||!Number.isInteger(W.num)||W.num<0||!Number.isInteger(W.gen)||W.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:W.num,gen:W.gen})}getAnnotations(W,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:W,intent:q})}getFieldObjects(){return dt(this,te,Vr).call(this,"GetFieldObjects")}hasJSActions(){return dt(this,te,Vr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(W){return typeof W!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:W})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(W){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:W})}getStructTree(W){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:W})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(W=>new _optional_content_config.OptionalContentConfig(W))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const W="GetMetadata",q=ge(this,de).get(W);if(q)return q;const V=this.messageHandler.sendWithPromise(W,null).then(X=>{var ce,me;return{info:X[0],metadata:X[1]?new _metadata.Metadata(X[1]):null,contentDispositionFilename:((ce=this._fullReader)==null?void 0:ce.filename)??null,contentLength:((me=this._fullReader)==null?void 0:me.contentLength)??null}});return ge(this,de).set(W,V),V}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(W=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const q of ge(this,pe).values())if(!q.cleanup())throw new Error(`startCleanup: Page ${q.pageNumber} is currently rendering.`);this.commonObjs.clear(),W||this.fontLoader.clear(),ge(this,de).clear()}}get loadingParams(){const{disableAutoFetch:W,enableXfa:q}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:W,enableXfa:q})}}de=new WeakMap,pe=new WeakMap,ae=new WeakMap,te=new WeakSet,Vr=function(W,q=null){const V=ge(this,de).get(W);if(V)return V;const X=this.messageHandler.sendWithPromise(W,q);return ge(this,de).set(W,X),X};class PDFObjects{constructor(){at(this,Q);at(this,ie,Object.create(null))}get(W,q=null){if(q){const X=dt(this,Q,Ur).call(this,W);return X.capability.promise.then(()=>q(X.data)),null}const V=ge(this,ie)[W];if(!(V!=null&&V.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${W}.`);return V.data}has(W){const q=ge(this,ie)[W];return(q==null?void 0:q.capability.settled)||!1}resolve(W,q=null){const V=dt(this,Q,Ur).call(this,W);V.data=q,V.capability.resolve()}clear(){var W;for(const q in ge(this,ie)){const{data:V}=ge(this,ie)[q];(W=V==null?void 0:V.bitmap)==null||W.close()}Ct(this,ie,Object.create(null))}}ie=new WeakMap,Q=new WeakSet,Ur=function(W){const q=ge(this,ie)[W];return q||(ge(this,ie)[W]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(W){at(this,G,null);Ct(this,G,W),this.onContinue=null}get promise(){return ge(this,G).capability.promise}cancel(W=0){ge(this,G).cancel(null,W)}get separateAnnots(){const{separateAnnots:W}=ge(this,G).operatorList;if(!W)return!1;const{annotationCanvasMap:q}=ge(this,G);return W.form||W.canvas&&(q==null?void 0:q.size)>0}}G=new WeakMap,exports.RenderTask=RenderTask;const J=class J{constructor({callback:W,params:q,objs:V,commonObjs:X,annotationCanvasMap:ce,operatorList:me,pageIndex:_e,canvasFactory:Ce,useRequestAnimationFrame:le=!1,pdfBug:xe=!1,pageColors:nt=null}){this.callback=W,this.params=q,this.objs=V,this.commonObjs=X,this.annotationCanvasMap=ce,this.operatorListIdx=null,this.operatorList=me,this._pageIndex=_e,this.canvasFactory=Ce,this._pdfBug=xe,this.pageColors=nt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=le===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:W=!1,optionalContentConfig:q}){var _e,Ce;if(this.cancelled)return;if(this._canvas){if(ge(J,U).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ge(J,U).add(this._canvas)}this._pdfBug&&((_e=globalThis.StepperManager)!=null&&_e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:V,viewport:X,transform:ce,background:me}=this.params;this.gfx=new _canvas.CanvasGraphics(V,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ce,viewport:X,transparency:W,background:me}),this.operatorListIdx=0,this.graphicsReady=!0,(Ce=this.graphicsReadyCallback)==null||Ce.call(this)}cancel(W=null,q=0){var V;this.running=!1,this.cancelled=!0,(V=this.gfx)==null||V.endDrawing(),this._canvas&&ge(J,U).delete(this._canvas),this.callback(W||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",q))}operatorListChanged(){var W;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(W=this.stepper)==null||W.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ge(J,U).delete(this._canvas),this.callback())))}};U=new WeakMap,at(J,U,new WeakSet);let InternalRenderTask=J;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(A,$,H)=>{var pe,ae,te,Pi,ie;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var B=H(1),O=H(4),R=H(8);class re{constructor(){at(this,te);at(this,pe,!1);at(this,ae,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ee,G){const U=ge(this,ae).get(ee);return U===void 0?G:Object.assign(G,U)}getRawValue(ee){return ge(this,ae).get(ee)}remove(ee){if(ge(this,ae).delete(ee),ge(this,ae).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of ge(this,ae).values())if(G instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ee,G){const U=ge(this,ae).get(ee);let J=!1;if(U!==void 0)for(const[Y,W]of Object.entries(G))U[Y]!==W&&(J=!0,U[Y]=W);else J=!0,ge(this,ae).set(ee,G);J&&dt(this,te,Pi).call(this),G instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(ee){return ge(this,ae).has(ee)}getAll(){return ge(this,ae).size>0?(0,B.objectFromMap)(ge(this,ae)):null}setAll(ee){for(const[G,U]of Object.entries(ee))this.setValue(G,U)}get size(){return ge(this,ae).size}resetModified(){ge(this,pe)&&(Ct(this,pe,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new de(this)}get serializable(){if(ge(this,ae).size===0)return null;const ee=new Map;for(const[G,U]of ge(this,ae)){const J=U instanceof O.AnnotationEditor?U.serialize():U;J&&ee.set(G,J)}return ee}static getHash(ee){if(!ee)return"";const G=new R.MurmurHash3_64;for(const[U,J]of ee)G.update(`${U}:${JSON.stringify(J)}`);return G.hexdigest()}}pe=new WeakMap,ae=new WeakMap,te=new WeakSet,Pi=function(){ge(this,pe)||(Ct(this,pe,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=re;class de extends re{constructor(G){super();at(this,ie,null);Ct(this,ie,structuredClone(G.serializable))}get print(){(0,B.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ge(this,ie)}}ie=new WeakMap,$.PrintAnnotationStorage=de},(A,$,H)=>{var re,de,pe,ae,te,ve;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var B=H(5),O=H(1);const ie=class ie{constructor(ee){at(this,re,this.focusin.bind(this));at(this,de,this.focusout.bind(this));at(this,pe,!1);at(this,ae,!1);at(this,te,!1);Sn(this,"_uiManager",null);at(this,ve,ie._zIndex++);this.constructor===ie&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ee.parent,this.id=ee.id,this.width=this.height=null,this.pageIndex=ee.parent.pageIndex,this.name=ee.name,this.div=null,this._uiManager=ee.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:J,pageX:Y,pageY:W}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,J],this.pageTranslation=[Y,W];const[q,V]=this.parentDimensions;this.x=ee.x/q,this.y=ee.y/V,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(ee){this._uiManager.addCommands(ee)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ge(this,ve)}setParent(ee){ee!==null&&(this.pageIndex=ee.pageIndex,this.pageDimensions=ee.pageDimensions),this.parent=ee}focusin(ee){ge(this,pe)?Ct(this,pe,!1):this.parent.setSelected(this)}focusout(ee){var U;if(!this.isAttachedToDOM)return;const G=ee.relatedTarget;G!=null&&G.closest(`#${this.id}`)||(ee.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(ee){const G=this.parent.div.getBoundingClientRect();this.startX=ee.clientX-G.x,this.startY=ee.clientY-G.y,ee.dataTransfer.setData("text/plain",this.id),ee.dataTransfer.effectAllowed="move"}setAt(ee,G,U,J){const[Y,W]=this.parentDimensions;[U,J]=this.screenToPageTranslation(U,J),this.x=(ee+U)/Y,this.y=(G+J)/W,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ee,G){const[U,J]=this.parentDimensions;[ee,G]=this.screenToPageTranslation(ee,G),this.x+=ee/U,this.y+=G/J,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ee,G){switch(this.parentRotation){case 90:return[G,-ee];case 180:return[-ee,-G];case 270:return[-G,ee];default:return[ee,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:ee}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*ee,U*ee]}setDims(ee,G){const[U,J]=this.parentDimensions;this.div.style.width=`${100*ee/U}%`,this.div.style.height=`${100*G/J}%`}fixDims(){const{style:ee}=this.div,{height:G,width:U}=ee,J=U.endsWith("%"),Y=G.endsWith("%");if(J&&Y)return;const[W,q]=this.parentDimensions;J||(ee.width=`${100*parseFloat(U)/W}%`),Y||(ee.height=`${100*parseFloat(G)/q}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ge(this,re)),this.div.addEventListener("focusout",ge(this,de));const[ee,G]=this.getInitialTranslation();return this.translate(ee,G),(0,B.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ee){const{isMac:G}=O.FeatureTest.platform;if(ee.button!==0||ee.ctrlKey&&G){ee.preventDefault();return}ee.ctrlKey&&!G||ee.shiftKey||ee.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),Ct(this,pe,!0)}getRect(ee,G){const U=this.parentScale,[J,Y]=this.pageDimensions,[W,q]=this.pageTranslation,V=ee/U,X=G/U,ce=this.x*J,me=this.y*Y,_e=this.width*J,Ce=this.height*Y;switch(this.rotation){case 0:return[ce+V+W,Y-me-X-Ce+q,ce+V+_e+W,Y-me-X+q];case 90:return[ce+X+W,Y-me+V+q,ce+X+Ce+W,Y-me+V+_e+q];case 180:return[ce-V-_e+W,Y-me+X+q,ce-V+W,Y-me+X+Ce+q];case 270:return[ce-X-Ce+W,Y-me-V-_e+q,ce-X+W,Y-me-V+q];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ee,G){const[U,J,Y,W]=ee,q=Y-U,V=W-J;switch(this.rotation){case 0:return[U,G-W,q,V];case 90:return[U,G-J,V,q];case 180:return[Y,G-J,q,V];case 270:return[Y,G-W,V,q];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ct(this,te,!0)}disableEditMode(){Ct(this,te,!1)}isInEditMode(){return ge(this,te)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ee;(ee=this.div)==null||ee.addEventListener("focusin",ge(this,re))}serialize(){(0,O.unreachable)("An editor must be serializable")}static deserialize(ee,G,U){const J=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});J.rotation=ee.rotation;const[Y,W]=J.pageDimensions,[q,V,X,ce]=J.getRectInCurrentCoords(ee.rect,W);return J.x=q/Y,J.y=V/W,J.width=X/Y,J.height=ce/W,J}remove(){this.div.removeEventListener("focusin",ge(this,re)),this.div.removeEventListener("focusout",ge(this,de)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var ee;(ee=this.div)==null||ee.classList.add("selectedEditor")}unselect(){var ee;(ee=this.div)==null||ee.classList.remove("selectedEditor")}updateParams(ee,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ge(this,ae)}set isEditing(ee){Ct(this,ae,ee),ee?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};re=new WeakMap,de=new WeakMap,pe=new WeakMap,ae=new WeakMap,te=new WeakMap,ve=new WeakMap,Sn(ie,"_colorManager",new B.ColorManager),Sn(ie,"_zIndex",1);let R=ie;$.AnnotationEditor=R},(A,$,H)=>{var ie,Q,ee,G,U,J,ki,q,V,X,ce,me,_e,Ce,le,xe,nt,ze,Ue,Be,Le,Oe,Je,Qe,Se,se,ne,fe,ye,Ae,Me,$i,qe,Wr,Ze,Mi,Xe,xi,ue,Hn,Pe,pr,ke,Ti,ot,Ri,Ye,qr,ut,mr,yt,Gr;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=R,$.opacityToHex=re;var B=H(1),O=H(6);function R(Nt,$e,Re){for(const Ne of Re)$e.addEventListener(Ne,Nt[Ne].bind(Nt))}function re(Nt){return Math.round(Math.min(255,Math.max(1,255*Nt))).toString(16).padStart(2,"0")}class de{constructor(){at(this,ie,0)}getId(){return`${B.AnnotationEditorPrefix}${Hr(this,ie)._++}`}}ie=new WeakMap;class pe{constructor($e=128){at(this,Q,[]);at(this,ee,!1);at(this,G,void 0);at(this,U,-1);Ct(this,G,$e)}add({cmd:$e,undo:Re,mustExec:Ne,type:ht=NaN,overwriteIfSameType:Ot=!1,keepUndo:Yt=!1}){if(Ne&&$e(),ge(this,ee))return;const Ke={cmd:$e,undo:Re,type:ht};if(ge(this,U)===-1){ge(this,Q).length>0&&(ge(this,Q).length=0),Ct(this,U,0),ge(this,Q).push(Ke);return}if(Ot&&ge(this,Q)[ge(this,U)].type===ht){Yt&&(Ke.undo=ge(this,Q)[ge(this,U)].undo),ge(this,Q)[ge(this,U)]=Ke;return}const pt=ge(this,U)+1;pt===ge(this,G)?ge(this,Q).splice(0,1):(Ct(this,U,pt),pt<ge(this,Q).length&&ge(this,Q).splice(pt)),ge(this,Q).push(Ke)}undo(){ge(this,U)!==-1&&(Ct(this,ee,!0),ge(this,Q)[ge(this,U)].undo(),Ct(this,ee,!1),Ct(this,U,ge(this,U)-1))}redo(){ge(this,U)<ge(this,Q).length-1&&(Ct(this,U,ge(this,U)+1),Ct(this,ee,!0),ge(this,Q)[ge(this,U)].cmd(),Ct(this,ee,!1))}hasSomethingToUndo(){return ge(this,U)!==-1}hasSomethingToRedo(){return ge(this,U)<ge(this,Q).length-1}destroy(){Ct(this,Q,null)}}Q=new WeakMap,ee=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=pe;class ae{constructor($e){at(this,J);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Re}=B.FeatureTest.platform;for(const[Ne,ht]of $e)for(const Ot of Ne){const Yt=Ot.startsWith("mac+");Re&&Yt?(this.callbacks.set(Ot.slice(4),ht),this.allKeys.add(Ot.split("+").at(-1))):!Re&&!Yt&&(this.callbacks.set(Ot,ht),this.allKeys.add(Ot.split("+").at(-1)))}}exec($e,Re){if(!this.allKeys.has(Re.key))return;const Ne=this.callbacks.get(dt(this,J,ki).call(this,Re));Ne&&(Ne.bind($e)(),Re.stopPropagation(),Re.preventDefault())}}J=new WeakSet,ki=function($e){$e.altKey&&this.buffer.push("alt"),$e.ctrlKey&&this.buffer.push("ctrl"),$e.metaKey&&this.buffer.push("meta"),$e.shiftKey&&this.buffer.push("shift"),this.buffer.push($e.key);const Re=this.buffer.join("+");return this.buffer.length=0,Re},$.KeyboardManager=ae;const W=class W{get _colors(){const $e=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)($e),(0,B.shadow)(this,"_colors",$e)}convert($e){const Re=(0,O.getRGB)($e);if(!window.matchMedia("(forced-colors: active)").matches)return Re;for(const[Ne,ht]of this._colors)if(ht.every((Ot,Yt)=>Ot===Re[Yt]))return W._colorsMapping.get(Ne);return Re}getHexCode($e){const Re=this._colors.get($e);return Re?B.Util.makeHexColor(...Re):$e}};Sn(W,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let te=W;$.ColorManager=te;const zt=class zt{constructor($e,Re,Ne){at(this,Me);at(this,qe);at(this,Ze);at(this,Xe);at(this,ue);at(this,Pe);at(this,ke);at(this,ot);at(this,Ye);at(this,ut);at(this,yt);at(this,q,null);at(this,V,new Map);at(this,X,new Map);at(this,ce,null);at(this,me,new pe);at(this,_e,0);at(this,Ce,null);at(this,le,new Set);at(this,xe,null);at(this,nt,new de);at(this,ze,!1);at(this,Ue,B.AnnotationEditorType.NONE);at(this,Be,new Set);at(this,Le,this.copy.bind(this));at(this,Oe,this.cut.bind(this));at(this,Je,this.paste.bind(this));at(this,Qe,this.keydown.bind(this));at(this,Se,this.onEditingAction.bind(this));at(this,se,this.onPageChanging.bind(this));at(this,ne,this.onScaleChanging.bind(this));at(this,fe,this.onRotationChanging.bind(this));at(this,ye,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});at(this,Ae,null);Ct(this,Ae,$e),Ct(this,xe,Re),ge(this,xe)._on("editingaction",ge(this,Se)),ge(this,xe)._on("pagechanging",ge(this,se)),ge(this,xe)._on("scalechanging",ge(this,ne)),ge(this,xe)._on("rotationchanging",ge(this,fe)),Ct(this,ce,Ne),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){dt(this,qe,Wr).call(this),ge(this,xe)._off("editingaction",ge(this,Se)),ge(this,xe)._off("pagechanging",ge(this,se)),ge(this,xe)._off("scalechanging",ge(this,ne)),ge(this,xe)._off("rotationchanging",ge(this,fe));for(const $e of ge(this,X).values())$e.destroy();ge(this,X).clear(),ge(this,V).clear(),ge(this,le).clear(),Ct(this,q,null),ge(this,Be).clear(),ge(this,me).destroy()}onPageChanging({pageNumber:$e}){Ct(this,_e,$e-1)}focusMainContainer(){ge(this,Ae).focus()}addShouldRescale($e){ge(this,le).add($e)}removeShouldRescale($e){ge(this,le).delete($e)}onScaleChanging({scale:$e}){this.commitOrRemove(),this.viewParameters.realScale=$e*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Re of ge(this,le))Re.onScaleChanging()}onRotationChanging({pagesRotation:$e}){this.commitOrRemove(),this.viewParameters.rotation=$e}addToAnnotationStorage($e){!$e.isEmpty()&&ge(this,ce)&&!ge(this,ce).has($e.id)&&ge(this,ce).setValue($e.id,$e)}copy($e){if($e.preventDefault(),ge(this,q)&&ge(this,q).commitOrRemove(),!this.hasSelection)return;const Re=[];for(const Ne of ge(this,Be))Ne.isEmpty()||Re.push(Ne.serialize());Re.length!==0&&$e.clipboardData.setData("application/pdfjs",JSON.stringify(Re))}cut($e){this.copy($e),this.delete()}paste($e){$e.preventDefault();let Re=$e.clipboardData.getData("application/pdfjs");if(!Re)return;try{Re=JSON.parse(Re)}catch(ht){(0,B.warn)(`paste: "${ht.message}".`);return}if(!Array.isArray(Re))return;this.unselectAll();const Ne=ge(this,X).get(ge(this,_e));try{const ht=[];for(const Ke of Re){const pt=Ne.deserialize(Ke);if(!pt)return;ht.push(pt)}const Ot=()=>{for(const Ke of ht)dt(this,Ye,qr).call(this,Ke);dt(this,yt,Gr).call(this,ht)},Yt=()=>{for(const Ke of ht)Ke.remove()};this.addCommands({cmd:Ot,undo:Yt,mustExec:!0})}catch(ht){(0,B.warn)(`paste: "${ht.message}".`)}}keydown($e){var Re;(Re=this.getActive())!=null&&Re.shouldGetKeyboardEvents()||zt._keyboardManager.exec(this,$e)}onEditingAction($e){["undo","redo","delete","selectAll"].includes($e.name)&&this[$e.name]()}setEditingState($e){$e?(dt(this,Me,$i).call(this),dt(this,Ze,Mi).call(this),dt(this,ue,Hn).call(this,{isEditing:ge(this,Ue)!==B.AnnotationEditorType.NONE,isEmpty:dt(this,ut,mr).call(this),hasSomethingToUndo:ge(this,me).hasSomethingToUndo(),hasSomethingToRedo:ge(this,me).hasSomethingToRedo(),hasSelectedEditor:!1})):(dt(this,qe,Wr).call(this),dt(this,Xe,xi).call(this),dt(this,ue,Hn).call(this,{isEditing:!1}))}registerEditorTypes($e){if(!ge(this,Ce)){Ct(this,Ce,$e);for(const Re of ge(this,Ce))dt(this,Pe,pr).call(this,Re.defaultPropertiesToUpdate)}}getId(){return ge(this,nt).getId()}get currentLayer(){return ge(this,X).get(ge(this,_e))}get currentPageIndex(){return ge(this,_e)}addLayer($e){ge(this,X).set($e.pageIndex,$e),ge(this,ze)?$e.enable():$e.disable()}removeLayer($e){ge(this,X).delete($e.pageIndex)}updateMode($e){if(Ct(this,Ue,$e),$e===B.AnnotationEditorType.NONE)this.setEditingState(!1),dt(this,ot,Ri).call(this);else{this.setEditingState(!0),dt(this,ke,Ti).call(this);for(const Re of ge(this,X).values())Re.updateMode($e)}}updateToolbar($e){$e!==ge(this,Ue)&&ge(this,xe).dispatch("switchannotationeditormode",{source:this,mode:$e})}updateParams($e,Re){if(ge(this,Ce)){for(const Ne of ge(this,Be))Ne.updateParams($e,Re);for(const Ne of ge(this,Ce))Ne.updateDefaultParams($e,Re)}}getEditors($e){const Re=[];for(const Ne of ge(this,V).values())Ne.pageIndex===$e&&Re.push(Ne);return Re}getEditor($e){return ge(this,V).get($e)}addEditor($e){ge(this,V).set($e.id,$e)}removeEditor($e){var Re;ge(this,V).delete($e.id),this.unselect($e),(Re=ge(this,ce))==null||Re.remove($e.id)}setActiveEditor($e){ge(this,q)!==$e&&(Ct(this,q,$e),$e&&dt(this,Pe,pr).call(this,$e.propertiesToUpdate))}toggleSelected($e){if(ge(this,Be).has($e)){ge(this,Be).delete($e),$e.unselect(),dt(this,ue,Hn).call(this,{hasSelectedEditor:this.hasSelection});return}ge(this,Be).add($e),$e.select(),dt(this,Pe,pr).call(this,$e.propertiesToUpdate),dt(this,ue,Hn).call(this,{hasSelectedEditor:!0})}setSelected($e){for(const Re of ge(this,Be))Re!==$e&&Re.unselect();ge(this,Be).clear(),ge(this,Be).add($e),$e.select(),dt(this,Pe,pr).call(this,$e.propertiesToUpdate),dt(this,ue,Hn).call(this,{hasSelectedEditor:!0})}isSelected($e){return ge(this,Be).has($e)}unselect($e){$e.unselect(),ge(this,Be).delete($e),dt(this,ue,Hn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ge(this,Be).size!==0}undo(){ge(this,me).undo(),dt(this,ue,Hn).call(this,{hasSomethingToUndo:ge(this,me).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:dt(this,ut,mr).call(this)})}redo(){ge(this,me).redo(),dt(this,ue,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ge(this,me).hasSomethingToRedo(),isEmpty:dt(this,ut,mr).call(this)})}addCommands($e){ge(this,me).add($e),dt(this,ue,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:dt(this,ut,mr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $e=[...ge(this,Be)],Re=()=>{for(const ht of $e)ht.remove()},Ne=()=>{for(const ht of $e)dt(this,Ye,qr).call(this,ht)};this.addCommands({cmd:Re,undo:Ne,mustExec:!0})}commitOrRemove(){var $e;($e=ge(this,q))==null||$e.commitOrRemove()}selectAll(){for(const $e of ge(this,Be))$e.commit();dt(this,yt,Gr).call(this,ge(this,V).values())}unselectAll(){if(ge(this,q)){ge(this,q).commitOrRemove();return}if(ge(this,Be).size!==0){for(const $e of ge(this,Be))$e.unselect();ge(this,Be).clear(),dt(this,ue,Hn).call(this,{hasSelectedEditor:!1})}}isActive($e){return ge(this,q)===$e}getActive(){return ge(this,q)}getMode(){return ge(this,Ue)}};q=new WeakMap,V=new WeakMap,X=new WeakMap,ce=new WeakMap,me=new WeakMap,_e=new WeakMap,Ce=new WeakMap,le=new WeakMap,xe=new WeakMap,nt=new WeakMap,ze=new WeakMap,Ue=new WeakMap,Be=new WeakMap,Le=new WeakMap,Oe=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Se=new WeakMap,se=new WeakMap,ne=new WeakMap,fe=new WeakMap,ye=new WeakMap,Ae=new WeakMap,Me=new WeakSet,$i=function(){ge(this,Ae).addEventListener("keydown",ge(this,Qe))},qe=new WeakSet,Wr=function(){ge(this,Ae).removeEventListener("keydown",ge(this,Qe))},Ze=new WeakSet,Mi=function(){document.addEventListener("copy",ge(this,Le)),document.addEventListener("cut",ge(this,Oe)),document.addEventListener("paste",ge(this,Je))},Xe=new WeakSet,xi=function(){document.removeEventListener("copy",ge(this,Le)),document.removeEventListener("cut",ge(this,Oe)),document.removeEventListener("paste",ge(this,Je))},ue=new WeakSet,Hn=function($e){Object.entries($e).some(([Ne,ht])=>ge(this,ye)[Ne]!==ht)&&ge(this,xe).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ge(this,ye),$e)})},Pe=new WeakSet,pr=function($e){ge(this,xe).dispatch("annotationeditorparamschanged",{source:this,details:$e})},ke=new WeakSet,Ti=function(){if(!ge(this,ze)){Ct(this,ze,!0);for(const $e of ge(this,X).values())$e.enable()}},ot=new WeakSet,Ri=function(){if(this.unselectAll(),ge(this,ze)){Ct(this,ze,!1);for(const $e of ge(this,X).values())$e.disable()}},Ye=new WeakSet,qr=function($e){const Re=ge(this,X).get($e.pageIndex);Re?Re.addOrRebuild($e):this.addEditor($e)},ut=new WeakSet,mr=function(){if(ge(this,V).size===0)return!0;if(ge(this,V).size===1)for(const $e of ge(this,V).values())return $e.isEmpty();return!1},yt=new WeakSet,Gr=function($e){ge(this,Be).clear();for(const Re of $e)Re.isEmpty()||(ge(this,Be).add(Re),Re.select());dt(this,ue,Hn).call(this,{hasSelectedEditor:!0})},Sn(zt,"_keyboardManager",new ae([[["ctrl+a","mac+meta+a"],zt.prototype.selectAll],[["ctrl+z","mac+meta+z"],zt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],zt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],zt.prototype.delete],[["Escape","mac+Escape"],zt.prototype.unselectAll]]));let ve=zt;$.AnnotationEditorUIManager=ve},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=X,$.getColorValues=le,$.getCurrentTransform=xe,$.getCurrentTransformInverse=nt,$.getFilenameFromUrl=J,$.getPdfFilenameFromUrl=Y,$.getRGB=Ce,$.getXfaPageViewport=_e,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=q,$.loadScript=V,$.setLayerDimensions=ze;var B=H(7),O=H(1);const R="http://www.w3.org/2000/svg",re="pdfjs_internal_id_";$.AnnotationPrefix=re;const Ue=class Ue{};Sn(Ue,"CSS",96),Sn(Ue,"PDF",72),Sn(Ue,"PDF_TO_CSS_UNITS",Ue.CSS/Ue.PDF);let de=Ue;$.PixelsPerInch=de;class pe extends B.BaseCanvasFactory{constructor({ownerDocument:Le=globalThis.document}={}){super(),this._document=Le}_createCanvas(Le,Oe){const Je=this._document.createElement("canvas");return Je.width=Le,Je.height=Oe,Je}}$.DOMCanvasFactory=pe;async function ae(Be,Le=!1){if(q(Be,document.baseURI)){const Oe=await fetch(Be);if(!Oe.ok)throw new Error(Oe.statusText);return Le?new Uint8Array(await Oe.arrayBuffer()):(0,O.stringToBytes)(await Oe.text())}return new Promise((Oe,Je)=>{const Qe=new XMLHttpRequest;Qe.open("GET",Be,!0),Le&&(Qe.responseType="arraybuffer"),Qe.onreadystatechange=()=>{if(Qe.readyState===XMLHttpRequest.DONE){if(Qe.status===200||Qe.status===0){let Se;if(Le&&Qe.response?Se=new Uint8Array(Qe.response):!Le&&Qe.responseText&&(Se=(0,O.stringToBytes)(Qe.responseText)),Se){Oe(Se);return}}Je(new Error(Qe.statusText))}},Qe.send(null)})}class te extends B.BaseCMapReaderFactory{_fetchData(Le,Oe){return ae(Le,this.isCompressed).then(Je=>({cMapData:Je,compressionType:Oe}))}}$.DOMCMapReaderFactory=te;class ve extends B.BaseStandardFontDataFactory{_fetchData(Le){return ae(Le,!0)}}$.DOMStandardFontDataFactory=ve;class ie extends B.BaseSVGFactory{_createSVG(Le){return document.createElementNS(R,Le)}}$.DOMSVGFactory=ie;class Q{constructor({viewBox:Le,scale:Oe,rotation:Je,offsetX:Qe=0,offsetY:Se=0,dontFlip:se=!1}){this.viewBox=Le,this.scale=Oe,this.rotation=Je,this.offsetX=Qe,this.offsetY=Se;const ne=(Le[2]+Le[0])/2,fe=(Le[3]+Le[1])/2;let ye,Ae,Me,Ie;switch(Je%=360,Je<0&&(Je+=360),Je){case 180:ye=-1,Ae=0,Me=0,Ie=1;break;case 90:ye=0,Ae=1,Me=1,Ie=0;break;case 270:ye=0,Ae=-1,Me=-1,Ie=0;break;case 0:ye=1,Ae=0,Me=0,Ie=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}se&&(Me=-Me,Ie=-Ie);let qe,rt,Ze,et;ye===0?(qe=Math.abs(fe-Le[1])*Oe+Qe,rt=Math.abs(ne-Le[0])*Oe+Se,Ze=(Le[3]-Le[1])*Oe,et=(Le[2]-Le[0])*Oe):(qe=Math.abs(ne-Le[0])*Oe+Qe,rt=Math.abs(fe-Le[1])*Oe+Se,Ze=(Le[2]-Le[0])*Oe,et=(Le[3]-Le[1])*Oe),this.transform=[ye*Oe,Ae*Oe,Me*Oe,Ie*Oe,qe-ye*Oe*ne-Me*Oe*fe,rt-Ae*Oe*ne-Ie*Oe*fe],this.width=Ze,this.height=et}get rawDims(){const{viewBox:Le}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Le[2]-Le[0],pageHeight:Le[3]-Le[1],pageX:Le[0],pageY:Le[1]})}clone({scale:Le=this.scale,rotation:Oe=this.rotation,offsetX:Je=this.offsetX,offsetY:Qe=this.offsetY,dontFlip:Se=!1}={}){return new Q({viewBox:this.viewBox.slice(),scale:Le,rotation:Oe,offsetX:Je,offsetY:Qe,dontFlip:Se})}convertToViewportPoint(Le,Oe){return O.Util.applyTransform([Le,Oe],this.transform)}convertToViewportRectangle(Le){const Oe=O.Util.applyTransform([Le[0],Le[1]],this.transform),Je=O.Util.applyTransform([Le[2],Le[3]],this.transform);return[Oe[0],Oe[1],Je[0],Je[1]]}convertToPdfPoint(Le,Oe){return O.Util.applyInverseTransform([Le,Oe],this.transform)}}$.PageViewport=Q;class ee extends O.BaseException{constructor(Le,Oe,Je=0){super(Le,"RenderingCancelledException"),this.type=Oe,this.extraDelay=Je}}$.RenderingCancelledException=ee;function G(Be){const Le=Be.length;let Oe=0;for(;Oe<Le&&Be[Oe].trim()==="";)Oe++;return Be.substring(Oe,Oe+5).toLowerCase()==="data:"}function U(Be){return typeof Be=="string"&&/\.pdf$/i.test(Be)}function J(Be,Le=!1){return Le||([Be]=Be.split(/[#?]/,1)),Be.substring(Be.lastIndexOf("/")+1)}function Y(Be,Le="document.pdf"){if(typeof Be!="string")return Le;if(G(Be))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Le;const Oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Je=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Qe=Oe.exec(Be);let Se=Je.exec(Qe[1])||Je.exec(Qe[2])||Je.exec(Qe[3]);if(Se&&(Se=Se[0],Se.includes("%")))try{Se=Je.exec(decodeURIComponent(Se))[0]}catch{}return Se||Le}class W{constructor(){Sn(this,"started",Object.create(null));Sn(this,"times",[])}time(Le){Le in this.started&&(0,O.warn)(`Timer is already running for ${Le}`),this.started[Le]=Date.now()}timeEnd(Le){Le in this.started||(0,O.warn)(`Timer has not been started for ${Le}`),this.times.push({name:Le,start:this.started[Le],end:Date.now()}),delete this.started[Le]}toString(){const Le=[];let Oe=0;for(const{name:Je}of this.times)Oe=Math.max(Je.length,Oe);for(const{name:Je,start:Qe,end:Se}of this.times)Le.push(`${Je.padEnd(Oe)} ${Se-Qe}ms
`);return Le.join("")}}$.StatTimer=W;function q(Be,Le){try{const{protocol:Oe}=Le?new URL(Be,Le):new URL(Be);return Oe==="http:"||Oe==="https:"}catch{return!1}}function V(Be,Le=!1){return new Promise((Oe,Je)=>{const Qe=document.createElement("script");Qe.src=Be,Qe.onload=function(Se){Le&&Qe.remove(),Oe(Se)},Qe.onerror=function(){Je(new Error(`Cannot load script at: ${Qe.src}`))},(document.head||document.documentElement).append(Qe)})}function X(Be){console.log("Deprecated API usage: "+Be)}let ce;class me{static toDateObject(Le){if(!Le||typeof Le!="string")return null;ce||(ce=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Oe=ce.exec(Le);if(!Oe)return null;const Je=parseInt(Oe[1],10);let Qe=parseInt(Oe[2],10);Qe=Qe>=1&&Qe<=12?Qe-1:0;let Se=parseInt(Oe[3],10);Se=Se>=1&&Se<=31?Se:1;let se=parseInt(Oe[4],10);se=se>=0&&se<=23?se:0;let ne=parseInt(Oe[5],10);ne=ne>=0&&ne<=59?ne:0;let fe=parseInt(Oe[6],10);fe=fe>=0&&fe<=59?fe:0;const ye=Oe[7]||"Z";let Ae=parseInt(Oe[8],10);Ae=Ae>=0&&Ae<=23?Ae:0;let Me=parseInt(Oe[9],10)||0;return Me=Me>=0&&Me<=59?Me:0,ye==="-"?(se+=Ae,ne+=Me):ye==="+"&&(se-=Ae,ne-=Me),new Date(Date.UTC(Je,Qe,Se,se,ne,fe))}}$.PDFDateString=me;function _e(Be,{scale:Le=1,rotation:Oe=0}){const{width:Je,height:Qe}=Be.attributes.style,Se=[0,0,parseInt(Je),parseInt(Qe)];return new Q({viewBox:Se,scale:Le,rotation:Oe})}function Ce(Be){if(Be.startsWith("#")){const Le=parseInt(Be.slice(1),16);return[(Le&16711680)>>16,(Le&65280)>>8,Le&255]}return Be.startsWith("rgb(")?Be.slice(4,-1).split(",").map(Le=>parseInt(Le)):Be.startsWith("rgba(")?Be.slice(5,-1).split(",").map(Le=>parseInt(Le)).slice(0,3):((0,O.warn)(`Not a valid color format: "${Be}"`),[0,0,0])}function le(Be){const Le=document.createElement("span");Le.style.visibility="hidden",document.body.append(Le);for(const Oe of Be.keys()){Le.style.color=Oe;const Je=window.getComputedStyle(Le).color;Be.set(Oe,Ce(Je))}Le.remove()}function xe(Be){const{a:Le,b:Oe,c:Je,d:Qe,e:Se,f:se}=Be.getTransform();return[Le,Oe,Je,Qe,Se,se]}function nt(Be){const{a:Le,b:Oe,c:Je,d:Qe,e:Se,f:se}=Be.getTransform().invertSelf();return[Le,Oe,Je,Qe,Se,se]}function ze(Be,Le,Oe=!1,Je=!0){if(Le instanceof Q){const{pageWidth:Qe,pageHeight:Se}=Le.rawDims,{style:se}=Be,ne=`calc(var(--scale-factor) * ${Qe}px)`,fe=`calc(var(--scale-factor) * ${Se}px)`;!Oe||Le.rotation%180===0?(se.width=ne,se.height=fe):(se.width=fe,se.height=ne)}Je&&Be.setAttribute("data-main-rotation",Le.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var B=H(1);class O{constructor(){this.constructor===O&&(0,B.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ae,te){if(ae<=0||te<=0)throw new Error("Invalid canvas size");const ve=this._createCanvas(ae,te);return{canvas:ve,context:ve.getContext("2d")}}reset(ae,te,ve){if(!ae.canvas)throw new Error("Canvas is not specified");if(te<=0||ve<=0)throw new Error("Invalid canvas size");ae.canvas.width=te,ae.canvas.height=ve}destroy(ae){if(!ae.canvas)throw new Error("Canvas is not specified");ae.canvas.width=0,ae.canvas.height=0,ae.canvas=null,ae.context=null}_createCanvas(ae,te){(0,B.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=O;class R{constructor({baseUrl:ae=null,isCompressed:te=!0}){this.constructor===R&&(0,B.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=te}async fetch({name:ae}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const te=this.baseUrl+ae+(this.isCompressed?".bcmap":""),ve=this.isCompressed?B.CMapCompressionType.BINARY:B.CMapCompressionType.NONE;return this._fetchData(te,ve).catch(ie=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${te}`)})}_fetchData(ae,te){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=R;class re{constructor({baseUrl:ae=null}){this.constructor===re&&(0,B.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch({filename:ae}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const te=`${this.baseUrl}${ae}`;return this._fetchData(te).catch(ve=>{throw new Error(`Unable to load font data at: ${te}`)})}_fetchData(ae){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=re;class de{constructor(){this.constructor===de&&(0,B.unreachable)("Cannot initialize BaseSVGFactory.")}create(ae,te,ve=!1){if(ae<=0||te<=0)throw new Error("Invalid SVG dimensions");const ie=this._createSVG("svg:svg");return ie.setAttribute("version","1.1"),ve||(ie.setAttribute("width",`${ae}px`),ie.setAttribute("height",`${te}px`)),ie.setAttribute("preserveAspectRatio","none"),ie.setAttribute("viewBox",`0 0 ${ae} ${te}`),ie}createElement(ae){if(typeof ae!="string")throw new Error("Invalid SVG element type");return this._createSVG(ae)}_createSVG(ae){(0,B.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=de},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var B=H(1);const O=3285377520,R=4294901760,re=65535;class de{constructor(ae){this.h1=ae?ae&4294967295:O,this.h2=ae?ae&4294967295:O}update(ae){let te,ve;if(typeof ae=="string"){te=new Uint8Array(ae.length*2),ve=0;for(let ce=0,me=ae.length;ce<me;ce++){const _e=ae.charCodeAt(ce);_e<=255?te[ve++]=_e:(te[ve++]=_e>>>8,te[ve++]=_e&255)}}else if((0,B.isArrayBuffer)(ae))te=ae.slice(),ve=te.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ie=ve>>2,Q=ve-ie*4,ee=new Uint32Array(te.buffer,0,ie);let G=0,U=0,J=this.h1,Y=this.h2;const W=3432918353,q=461845907,V=W&re,X=q&re;for(let ce=0;ce<ie;ce++)ce&1?(G=ee[ce],G=G*W&R|G*V&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,J^=G,J=J<<13|J>>>19,J=J*5+3864292196):(U=ee[ce],U=U*W&R|U*V&re,U=U<<15|U>>>17,U=U*q&R|U*X&re,Y^=U,Y=Y<<13|Y>>>19,Y=Y*5+3864292196);switch(G=0,Q){case 3:G^=te[ie*4+2]<<16;case 2:G^=te[ie*4+1]<<8;case 1:G^=te[ie*4],G=G*W&R|G*V&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,ie&1?J^=G:Y^=G}this.h1=J,this.h2=Y}hexdigest(){let ae=this.h1,te=this.h2;return ae^=te>>>1,ae=ae*3981806797&R|ae*36045&re,te=te*4283543511&R|((te<<16|ae>>>16)*2950163797&R)>>>16,ae^=te>>>1,ae=ae*444984403&R|ae*60499&re,te=te*3301882366&R|((te<<16|ae>>>16)*3120437893&R)>>>16,ae^=te>>>1,(ae>>>0).toString(16).padStart(8,"0")+(te>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=de},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var B=H(1),O=H(10);class R{constructor({onUnsupportedFeature:pe,ownerDocument:ae=globalThis.document,styleElement:te=null}){this._onUnsupportedFeature=pe,this._document=ae,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(pe){this.nativeFontFaces.push(pe),this._document.fonts.add(pe)}insertRule(pe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ae=this.styleElement.sheet;ae.insertRule(pe,ae.cssRules.length)}clear(){for(const pe of this.nativeFontFaces)this._document.fonts.delete(pe);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(pe){if(pe.attached||pe.missingFile)return;if(pe.attached=!0,this.isFontLoadingAPISupported){const te=pe.createNativeFontFace();if(te){this.addNativeFontFace(te);try{await te.loaded}catch(ve){throw this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,B.warn)(`Failed to load font '${te.family}': '${ve}'.`),pe.disableFontFace=!0,ve}}return}const ae=pe.createFontFaceRule();if(ae){if(this.insertRule(ae),this.isSyncFontLoadingSupported)return;await new Promise(te=>{const ve=this._queueLoadingCallback(te);this._prepareFontLoadEvent(pe,ve)})}}get isFontLoadingAPISupported(){var ae;const pe=!!((ae=this._document)!=null&&ae.fonts);return(0,B.shadow)(this,"isFontLoadingAPISupported",pe)}get isSyncFontLoadingSupported(){let pe=!1;return(O.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(pe=!0),(0,B.shadow)(this,"isSyncFontLoadingSupported",pe)}_queueLoadingCallback(pe){function ae(){for((0,B.assert)(!ve.done,"completeRequest() cannot be called twice."),ve.done=!0;te.length>0&&te[0].done;){const ie=te.shift();setTimeout(ie.callback,0)}}const{loadingRequests:te}=this,ve={done:!1,complete:ae,callback:pe};return te.push(ve),ve}get _loadTestFont(){const pe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,B.shadow)(this,"_loadTestFont",pe)}_prepareFontLoadEvent(pe,ae){function te(le,xe){return le.charCodeAt(xe)<<24|le.charCodeAt(xe+1)<<16|le.charCodeAt(xe+2)<<8|le.charCodeAt(xe+3)&255}function ve(le,xe,nt,ze){const Ue=le.substring(0,xe),Be=le.substring(xe+nt);return Ue+ze+Be}let ie,Q;const ee=this._document.createElement("canvas");ee.width=1,ee.height=1;const G=ee.getContext("2d");let U=0;function J(le,xe){if(++U>30){(0,B.warn)("Load test font never loaded."),xe();return}if(G.font="30px "+le,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){xe();return}setTimeout(J.bind(null,le,xe))}const Y=`lt${Date.now()}${this.loadTestFontId++}`;let W=this._loadTestFont;W=ve(W,976,Y.length,Y);const V=16,X=1482184792;let ce=te(W,V);for(ie=0,Q=Y.length-3;ie<Q;ie+=4)ce=ce-X+te(Y,ie)|0;ie<Y.length&&(ce=ce-X+te(Y+"XXX",ie)|0),W=ve(W,V,4,(0,B.string32)(ce));const me=`url(data:font/opentype;base64,${btoa(W)});`,_e=`@font-face {font-family:"${Y}";src:${me}}`;this.insertRule(_e);const Ce=this._document.createElement("div");Ce.style.visibility="hidden",Ce.style.width=Ce.style.height="10px",Ce.style.position="absolute",Ce.style.top=Ce.style.left="0px";for(const le of[pe.loadedName,Y]){const xe=this._document.createElement("span");xe.textContent="Hi",xe.style.fontFamily=le,Ce.append(xe)}this._document.body.append(Ce),J(Y,()=>{Ce.remove(),ae.complete()})}}$.FontLoader=R;class re{constructor(pe,{isEvalSupported:ae=!0,disableFontFace:te=!1,ignoreErrors:ve=!1,onUnsupportedFeature:ie,fontRegistry:Q=null}){this.compiledGlyphs=Object.create(null);for(const ee in pe)this[ee]=pe[ee];this.isEvalSupported=ae!==!1,this.disableFontFace=te===!0,this.ignoreErrors=ve===!0,this._onUnsupportedFeature=ie,this.fontRegistry=Q}createNativeFontFace(){var ae;if(!this.data||this.disableFontFace)return null;let pe;if(!this.cssFontInfo)pe=new FontFace(this.loadedName,this.data,{});else{const te={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(te.style=`oblique ${this.cssFontInfo.italicAngle}deg`),pe=new FontFace(this.cssFontInfo.fontFamily,this.data,te)}return(ae=this.fontRegistry)==null||ae.registerFont(this),pe}createFontFaceRule(){var ve;if(!this.data||this.disableFontFace)return null;const pe=(0,B.bytesToString)(this.data),ae=`url(data:${this.mimetype};base64,${btoa(pe)});`;let te;if(!this.cssFontInfo)te=`@font-face {font-family:"${this.loadedName}";src:${ae}}`;else{let ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),te=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ie}src:${ae}}`}return(ve=this.fontRegistry)==null||ve.registerFont(this,ae),te}getPathGenerator(pe,ae){if(this.compiledGlyphs[ae]!==void 0)return this.compiledGlyphs[ae];let te;try{te=pe.get(this.loadedName+"_path_"+ae)}catch(ve){if(!this.ignoreErrors)throw ve;return this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,B.warn)(`getPathGenerator - ignoring character: "${ve}".`),this.compiledGlyphs[ae]=function(ie,Q){}}if(this.isEvalSupported&&B.FeatureTest.isEvalSupported){const ve=[];for(const ie of te){const Q=ie.args!==void 0?ie.args.join(","):"";ve.push("c.",ie.cmd,"(",Q,`);
`)}return this.compiledGlyphs[ae]=new Function("c","size",ve.join(""))}return this.compiledGlyphs[ae]=function(ve,ie){for(const Q of te)Q.cmd==="scale"&&(Q.args=[ie,-ie]),ve[Q.cmd].apply(ve,Q.args)}}}$.FontFaceObject=re},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H},(A,$,H)=>{var Oe,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var B=H(1),O=H(6),R=H(12),re=H(13);const de=16,pe=100,ae=4096,te=15,ve=10,ie=1e3,Q=16;function ee(Se,se){if(Se._removeMirroring)throw new Error("Context is already forwarding operations.");Se.__originalSave=Se.save,Se.__originalRestore=Se.restore,Se.__originalRotate=Se.rotate,Se.__originalScale=Se.scale,Se.__originalTranslate=Se.translate,Se.__originalTransform=Se.transform,Se.__originalSetTransform=Se.setTransform,Se.__originalResetTransform=Se.resetTransform,Se.__originalClip=Se.clip,Se.__originalMoveTo=Se.moveTo,Se.__originalLineTo=Se.lineTo,Se.__originalBezierCurveTo=Se.bezierCurveTo,Se.__originalRect=Se.rect,Se.__originalClosePath=Se.closePath,Se.__originalBeginPath=Se.beginPath,Se._removeMirroring=()=>{Se.save=Se.__originalSave,Se.restore=Se.__originalRestore,Se.rotate=Se.__originalRotate,Se.scale=Se.__originalScale,Se.translate=Se.__originalTranslate,Se.transform=Se.__originalTransform,Se.setTransform=Se.__originalSetTransform,Se.resetTransform=Se.__originalResetTransform,Se.clip=Se.__originalClip,Se.moveTo=Se.__originalMoveTo,Se.lineTo=Se.__originalLineTo,Se.bezierCurveTo=Se.__originalBezierCurveTo,Se.rect=Se.__originalRect,Se.closePath=Se.__originalClosePath,Se.beginPath=Se.__originalBeginPath,delete Se._removeMirroring},Se.save=function(){se.save(),this.__originalSave()},Se.restore=function(){se.restore(),this.__originalRestore()},Se.translate=function(fe,ye){se.translate(fe,ye),this.__originalTranslate(fe,ye)},Se.scale=function(fe,ye){se.scale(fe,ye),this.__originalScale(fe,ye)},Se.transform=function(fe,ye,Ae,Me,Ie,qe){se.transform(fe,ye,Ae,Me,Ie,qe),this.__originalTransform(fe,ye,Ae,Me,Ie,qe)},Se.setTransform=function(fe,ye,Ae,Me,Ie,qe){se.setTransform(fe,ye,Ae,Me,Ie,qe),this.__originalSetTransform(fe,ye,Ae,Me,Ie,qe)},Se.resetTransform=function(){se.resetTransform(),this.__originalResetTransform()},Se.rotate=function(fe){se.rotate(fe),this.__originalRotate(fe)},Se.clip=function(fe){se.clip(fe),this.__originalClip(fe)},Se.moveTo=function(ne,fe){se.moveTo(ne,fe),this.__originalMoveTo(ne,fe)},Se.lineTo=function(ne,fe){se.lineTo(ne,fe),this.__originalLineTo(ne,fe)},Se.bezierCurveTo=function(ne,fe,ye,Ae,Me,Ie){se.bezierCurveTo(ne,fe,ye,Ae,Me,Ie),this.__originalBezierCurveTo(ne,fe,ye,Ae,Me,Ie)},Se.rect=function(ne,fe,ye,Ae){se.rect(ne,fe,ye,Ae),this.__originalRect(ne,fe,ye,Ae)},Se.closePath=function(){se.closePath(),this.__originalClosePath()},Se.beginPath=function(){se.beginPath(),this.__originalBeginPath()}}class G{constructor(se){this.canvasFactory=se,this.cache=Object.create(null)}getCanvas(se,ne,fe){let ye;return this.cache[se]!==void 0?(ye=this.cache[se],this.canvasFactory.reset(ye,ne,fe)):(ye=this.canvasFactory.create(ne,fe),this.cache[se]=ye),ye}delete(se){delete this.cache[se]}clear(){for(const se in this.cache){const ne=this.cache[se];this.canvasFactory.destroy(ne),delete this.cache[se]}}}function U(Se,se,ne,fe,ye,Ae,Me,Ie,qe,rt){const[Ze,et,Xe,oe,ue,Ee]=(0,O.getCurrentTransform)(Se);if(et===0&&Xe===0){const ke=Me*Ze+ue,tt=Math.round(ke),ot=Ie*oe+Ee,it=Math.round(ot),Ye=(Me+qe)*Ze+ue,ft=Math.abs(Math.round(Ye)-tt)||1,ut=(Ie+rt)*oe+Ee,bt=Math.abs(Math.round(ut)-it)||1;return Se.setTransform(Math.sign(Ze),0,0,Math.sign(oe),tt,it),Se.drawImage(se,ne,fe,ye,Ae,0,0,ft,bt),Se.setTransform(Ze,et,Xe,oe,ue,Ee),[ft,bt]}if(Ze===0&&oe===0){const ke=Ie*Xe+ue,tt=Math.round(ke),ot=Me*et+Ee,it=Math.round(ot),Ye=(Ie+rt)*Xe+ue,ft=Math.abs(Math.round(Ye)-tt)||1,ut=(Me+qe)*et+Ee,bt=Math.abs(Math.round(ut)-it)||1;return Se.setTransform(0,Math.sign(et),Math.sign(Xe),0,tt,it),Se.drawImage(se,ne,fe,ye,Ae,0,0,bt,ft),Se.setTransform(Ze,et,Xe,oe,ue,Ee),[bt,ft]}Se.drawImage(se,ne,fe,ye,Ae,Me,Ie,qe,rt);const Pe=Math.hypot(Ze,et),be=Math.hypot(Xe,oe);return[Pe*qe,be*rt]}function J(Se){const{width:se,height:ne}=Se;if(se>ie||ne>ie)return null;const fe=1e3,ye=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ae=se+1;let Me=new Uint8Array(Ae*(ne+1)),Ie,qe,rt;const Ze=se+7&-8;let et=new Uint8Array(Ze*ne),Xe=0;for(const be of Se.data){let ke=128;for(;ke>0;)et[Xe++]=be&ke?0:255,ke>>=1}let oe=0;for(Xe=0,et[Xe]!==0&&(Me[0]=1,++oe),qe=1;qe<se;qe++)et[Xe]!==et[Xe+1]&&(Me[qe]=et[Xe]?2:1,++oe),Xe++;for(et[Xe]!==0&&(Me[qe]=2,++oe),Ie=1;Ie<ne;Ie++){Xe=Ie*Ze,rt=Ie*Ae,et[Xe-Ze]!==et[Xe]&&(Me[rt]=et[Xe]?1:8,++oe);let be=(et[Xe]?4:0)+(et[Xe-Ze]?8:0);for(qe=1;qe<se;qe++)be=(be>>2)+(et[Xe+1]?4:0)+(et[Xe-Ze+1]?8:0),ye[be]&&(Me[rt+qe]=ye[be],++oe),Xe++;if(et[Xe-Ze]!==et[Xe]&&(Me[rt+qe]=et[Xe]?2:4,++oe),oe>fe)return null}for(Xe=Ze*(ne-1),rt=Ie*Ae,et[Xe]!==0&&(Me[rt]=8,++oe),qe=1;qe<se;qe++)et[Xe]!==et[Xe+1]&&(Me[rt+qe]=et[Xe]?4:8,++oe),Xe++;if(et[Xe]!==0&&(Me[rt+qe]=4,++oe),oe>fe)return null;const ue=new Int32Array([0,Ae,-1,0,-Ae,0,0,0,1]),Ee=new Path2D;for(Ie=0;oe&&Ie<=ne;Ie++){let be=Ie*Ae;const ke=be+se;for(;be<ke&&!Me[be];)be++;if(be===ke)continue;Ee.moveTo(be%Ae,Ie);const tt=be;let ot=Me[be];do{const it=ue[ot];do be+=it;while(!Me[be]);const Ye=Me[be];Ye!==5&&Ye!==10?(ot=Ye,Me[be]=0):(ot=Ye&51*ot>>4,Me[be]&=ot>>2|ot<<2),Ee.lineTo(be%Ae,be/Ae|0),Me[be]||--oe}while(tt!==be);--Ie}return et=null,Me=null,function(be){be.save(),be.scale(1/se,-1/ne),be.translate(0,-ne),be.fill(Ee),be.beginPath(),be.restore()}}class Y{constructor(se,ne){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=B.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,se,ne])}clone(){const se=Object.create(this);return se.clipBox=this.clipBox.slice(),se}setCurrentPoint(se,ne){this.x=se,this.y=ne}updatePathMinMax(se,ne,fe){[ne,fe]=B.Util.applyTransform([ne,fe],se),this.minX=Math.min(this.minX,ne),this.minY=Math.min(this.minY,fe),this.maxX=Math.max(this.maxX,ne),this.maxY=Math.max(this.maxY,fe)}updateRectMinMax(se,ne){const fe=B.Util.applyTransform(ne,se),ye=B.Util.applyTransform(ne.slice(2),se);this.minX=Math.min(this.minX,fe[0],ye[0]),this.minY=Math.min(this.minY,fe[1],ye[1]),this.maxX=Math.max(this.maxX,fe[0],ye[0]),this.maxY=Math.max(this.maxY,fe[1],ye[1])}updateScalingPathMinMax(se,ne){B.Util.scaleMinMax(se,ne),this.minX=Math.min(this.minX,ne[0]),this.maxX=Math.max(this.maxX,ne[1]),this.minY=Math.min(this.minY,ne[2]),this.maxY=Math.max(this.maxY,ne[3])}updateCurvePathMinMax(se,ne,fe,ye,Ae,Me,Ie,qe,rt,Ze){const et=B.Util.bezierBoundingBox(ne,fe,ye,Ae,Me,Ie,qe,rt);if(Ze){Ze[0]=Math.min(Ze[0],et[0],et[2]),Ze[1]=Math.max(Ze[1],et[0],et[2]),Ze[2]=Math.min(Ze[2],et[1],et[3]),Ze[3]=Math.max(Ze[3],et[1],et[3]);return}this.updateRectMinMax(se,et)}getPathBoundingBox(se=R.PathType.FILL,ne=null){const fe=[this.minX,this.minY,this.maxX,this.maxY];if(se===R.PathType.STROKE){ne||(0,B.unreachable)("Stroke bounding box must include transform.");const ye=B.Util.singularValueDecompose2dScale(ne),Ae=ye[0]*this.lineWidth/2,Me=ye[1]*this.lineWidth/2;fe[0]-=Ae,fe[1]-=Me,fe[2]+=Ae,fe[3]+=Me}return fe}updateClipFromPath(){const se=B.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(se||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(se){this.clipBox=se,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(se=R.PathType.FILL,ne=null){return B.Util.intersect(this.clipBox,this.getPathBoundingBox(se,ne))}}function W(Se,se,ne=null){if(typeof ImageData<"u"&&se instanceof ImageData){Se.putImageData(se,0,0);return}const fe=se.height,ye=se.width,Ae=fe%Q,Me=(fe-Ae)/Q,Ie=Ae===0?Me:Me+1,qe=Se.createImageData(ye,Q);let rt=0,Ze;const et=se.data,Xe=qe.data;let oe,ue,Ee,Pe,be,ke,tt,ot;if(ne)switch(ne.length){case 1:be=ne[0],ke=ne[0],tt=ne[0],ot=ne[0];break;case 4:be=ne[0],ke=ne[1],tt=ne[2],ot=ne[3];break}if(se.kind===B.ImageKind.GRAYSCALE_1BPP){const it=et.byteLength,Ye=new Uint32Array(Xe.buffer,0,Xe.byteLength>>2),ft=Ye.length,ut=ye+7>>3;let bt=4294967295,yt=B.FeatureTest.isLittleEndian?4278190080:255;for(ot&&ot[0]===255&&ot[255]===0&&([bt,yt]=[yt,bt]),oe=0;oe<Ie;oe++){for(Ee=oe<Me?Q:Ae,Ze=0,ue=0;ue<Ee;ue++){const Ft=it-rt;let zt=0;const Nt=Ft>ut?ye:Ft*8-7,$e=Nt&-8;let Re=0,Ne=0;for(;zt<$e;zt+=8)Ne=et[rt++],Ye[Ze++]=Ne&128?bt:yt,Ye[Ze++]=Ne&64?bt:yt,Ye[Ze++]=Ne&32?bt:yt,Ye[Ze++]=Ne&16?bt:yt,Ye[Ze++]=Ne&8?bt:yt,Ye[Ze++]=Ne&4?bt:yt,Ye[Ze++]=Ne&2?bt:yt,Ye[Ze++]=Ne&1?bt:yt;for(;zt<Nt;zt++)Re===0&&(Ne=et[rt++],Re=128),Ye[Ze++]=Ne&Re?bt:yt,Re>>=1}for(;Ze<ft;)Ye[Ze++]=0;Se.putImageData(qe,0,oe*Q)}}else if(se.kind===B.ImageKind.RGBA_32BPP){const it=!!(be||ke||tt);for(ue=0,Pe=ye*Q*4,oe=0;oe<Me;oe++){if(Xe.set(et.subarray(rt,rt+Pe)),rt+=Pe,it)for(let Ye=0;Ye<Pe;Ye+=4)be&&(Xe[Ye+0]=be[Xe[Ye+0]]),ke&&(Xe[Ye+1]=ke[Xe[Ye+1]]),tt&&(Xe[Ye+2]=tt[Xe[Ye+2]]);Se.putImageData(qe,0,ue),ue+=Q}if(oe<Ie){if(Pe=ye*Ae*4,Xe.set(et.subarray(rt,rt+Pe)),it)for(let Ye=0;Ye<Pe;Ye+=4)be&&(Xe[Ye+0]=be[Xe[Ye+0]]),ke&&(Xe[Ye+1]=ke[Xe[Ye+1]]),tt&&(Xe[Ye+2]=tt[Xe[Ye+2]]);Se.putImageData(qe,0,ue)}}else if(se.kind===B.ImageKind.RGB_24BPP){const it=!!(be||ke||tt);for(Ee=Q,Pe=ye*Ee,oe=0;oe<Ie;oe++){for(oe>=Me&&(Ee=Ae,Pe=ye*Ee),Ze=0,ue=Pe;ue--;)Xe[Ze++]=et[rt++],Xe[Ze++]=et[rt++],Xe[Ze++]=et[rt++],Xe[Ze++]=255;if(it)for(let Ye=0;Ye<Ze;Ye+=4)be&&(Xe[Ye+0]=be[Xe[Ye+0]]),ke&&(Xe[Ye+1]=ke[Xe[Ye+1]]),tt&&(Xe[Ye+2]=tt[Xe[Ye+2]]);Se.putImageData(qe,0,oe*Q)}}else throw new Error(`bad image kind: ${se.kind}`)}function q(Se,se){if(se.bitmap){Se.drawImage(se.bitmap,0,0);return}const ne=se.height,fe=se.width,ye=ne%Q,Ae=(ne-ye)/Q,Me=ye===0?Ae:Ae+1,Ie=Se.createImageData(fe,Q);let qe=0;const rt=se.data,Ze=Ie.data;for(let et=0;et<Me;et++){const Xe=et<Ae?Q:ye;({srcPos:qe}=(0,re.applyMaskImageData)({src:rt,srcPos:qe,dest:Ze,width:fe,height:Xe})),Se.putImageData(Ie,0,et*Q)}}function V(Se,se){const ne=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const fe of ne)Se[fe]!==void 0&&(se[fe]=Se[fe]);Se.setLineDash!==void 0&&(se.setLineDash(Se.getLineDash()),se.lineDashOffset=Se.lineDashOffset)}function X(Se,se){Se.strokeStyle=Se.fillStyle=se||"#000000",Se.fillRule="nonzero",Se.globalAlpha=1,Se.lineWidth=1,Se.lineCap="butt",Se.lineJoin="miter",Se.miterLimit=10,Se.globalCompositeOperation="source-over",Se.font="10px sans-serif",Se.setLineDash!==void 0&&(Se.setLineDash([]),Se.lineDashOffset=0)}function ce(Se,se,ne,fe){const ye=Se.length;for(let Ae=3;Ae<ye;Ae+=4){const Me=Se[Ae];if(Me===0)Se[Ae-3]=se,Se[Ae-2]=ne,Se[Ae-1]=fe;else if(Me<255){const Ie=255-Me;Se[Ae-3]=Se[Ae-3]*Me+se*Ie>>8,Se[Ae-2]=Se[Ae-2]*Me+ne*Ie>>8,Se[Ae-1]=Se[Ae-1]*Me+fe*Ie>>8}}}function me(Se,se,ne){const fe=Se.length,ye=1/255;for(let Ae=3;Ae<fe;Ae+=4){const Me=ne?ne[Se[Ae]]:Se[Ae];se[Ae]=se[Ae]*Me*ye|0}}function _e(Se,se,ne){const fe=Se.length;for(let ye=3;ye<fe;ye+=4){const Ae=Se[ye-3]*77+Se[ye-2]*152+Se[ye-1]*28;se[ye]=ne?se[ye]*ne[Ae>>8]>>8:se[ye]*Ae>>16}}function Ce(Se,se,ne,fe,ye,Ae,Me,Ie,qe,rt,Ze){const et=!!Ae,Xe=et?Ae[0]:0,oe=et?Ae[1]:0,ue=et?Ae[2]:0;let Ee;ye==="Luminosity"?Ee=_e:Ee=me;const be=Math.min(fe,Math.ceil(1048576/ne));for(let ke=0;ke<fe;ke+=be){const tt=Math.min(be,fe-ke),ot=Se.getImageData(Ie-rt,ke+(qe-Ze),ne,tt),it=se.getImageData(Ie,ke+qe,ne,tt);et&&ce(ot.data,Xe,oe,ue),Ee(ot.data,it.data,Me),se.putImageData(it,Ie,ke+qe)}}function le(Se,se,ne,fe){const ye=fe[0],Ae=fe[1],Me=fe[2]-ye,Ie=fe[3]-Ae;Me===0||Ie===0||(Ce(se.context,ne,Me,Ie,se.subtype,se.backdrop,se.transferMap,ye,Ae,se.offsetX,se.offsetY),Se.save(),Se.globalAlpha=1,Se.globalCompositeOperation="source-over",Se.setTransform(1,0,0,1,0,0),Se.drawImage(ne.canvas,0,0),Se.restore())}function xe(Se,se){const ne=B.Util.singularValueDecompose2dScale(Se);ne[0]=Math.fround(ne[0]),ne[1]=Math.fround(ne[1]);const fe=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return se!==void 0?se:ne[0]<=fe||ne[1]<=fe}const nt=["butt","round","square"],ze=["miter","round","bevel"],Ue={},Be={},Qe=class Qe{constructor(se,ne,fe,ye,{optionalContentConfig:Ae,markedContentStack:Me=null},Ie,qe){at(this,Oe);this.ctx=se,this.current=new Y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ne,this.objs=fe,this.canvasFactory=ye,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Me||[],this.optionalContentConfig=Ae,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ie,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(qe==null?void 0:qe.background)||null,this.foregroundColor=(qe==null?void 0:qe.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(se,ne=null){return typeof se=="string"?se.startsWith("g_")?this.commonObjs.get(se):this.objs.get(se):ne}beginDrawing({transform:se,viewport:ne,transparency:fe=!1,background:ye=null}){const Ae=this.ctx.canvas.width,Me=this.ctx.canvas.height,Ie=ye||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const qe=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const rt=this.backgroundColor=this.ctx.fillStyle;let Ze=!0,et=Ie;if(this.ctx.fillStyle=Ie,et=this.ctx.fillStyle,Ze=typeof et=="string"&&/^#[0-9A-Fa-f]{6}$/.test(et),qe==="#000000"&&rt==="#ffffff"||qe===rt||!Ze)this.foregroundColor=this.backgroundColor=null;else{const[Xe,oe,ue]=(0,O.getRGB)(et),Ee=be=>(be/=255,be<=.03928?be/12.92:((be+.055)/1.055)**2.4),Pe=Math.round(.2126*Ee(Xe)+.7152*Ee(oe)+.0722*Ee(ue));this.selectColor=(be,ke,tt)=>{const ot=.2126*Ee(be)+.7152*Ee(ke)+.0722*Ee(tt);return Math.round(ot)===Pe?rt:qe}}}if(this.ctx.fillStyle=this.backgroundColor||Ie,this.ctx.fillRect(0,0,Ae,Me),this.ctx.restore(),fe){const qe=this.cachedCanvases.getCanvas("transparent",Ae,Me);this.compositeCtx=this.ctx,this.transparentCanvas=qe.canvas,this.ctx=qe.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),X(this.ctx,this.foregroundColor),se&&(this.ctx.transform(...se),this.outputScaleX=se[0],this.outputScaleY=se[0]),this.ctx.transform(...ne.transform),this.viewportScale=ne.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(se,ne,fe,ye){const Ae=se.argsArray,Me=se.fnArray;let Ie=ne||0;const qe=Ae.length;if(qe===Ie)return Ie;const rt=qe-Ie>ve&&typeof fe=="function",Ze=rt?Date.now()+te:0;let et=0;const Xe=this.commonObjs,oe=this.objs;let ue;for(;;){if(ye!==void 0&&Ie===ye.nextBreakPoint)return ye.breakIt(Ie,fe),Ie;if(ue=Me[Ie],ue!==B.OPS.dependency)this[ue].apply(this,Ae[Ie]);else for(const Ee of Ae[Ie]){const Pe=Ee.startsWith("g_")?Xe:oe;if(!Pe.has(Ee))return Pe.get(Ee,fe),Ie}if(Ie++,Ie===qe)return Ie;if(rt&&++et>ve){if(Date.now()>Ze)return fe(),Ie;et=0}}}endDrawing(){dt(this,Oe,Xr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const se of this._cachedBitmapsMap.values()){for(const ne of se.values())typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement&&(ne.width=ne.height=0);se.clear()}this._cachedBitmapsMap.clear()}_scaleImage(se,ne){const fe=se.width,ye=se.height;let Ae=Math.max(Math.hypot(ne[0],ne[1]),1),Me=Math.max(Math.hypot(ne[2],ne[3]),1),Ie=fe,qe=ye,rt="prescale1",Ze,et;for(;Ae>2&&Ie>1||Me>2&&qe>1;){let Xe=Ie,oe=qe;Ae>2&&Ie>1&&(Xe=Math.ceil(Ie/2),Ae/=Ie/Xe),Me>2&&qe>1&&(oe=Math.ceil(qe/2),Me/=qe/oe),Ze=this.cachedCanvases.getCanvas(rt,Xe,oe),et=Ze.context,et.clearRect(0,0,Xe,oe),et.drawImage(se,0,0,Ie,qe,0,0,Xe,oe),se=Ze.canvas,Ie=Xe,qe=oe,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:se,paintWidth:Ie,paintHeight:qe}}_createMaskCanvas(se){const ne=this.ctx,{width:fe,height:ye}=se,Ae=this.current.fillColor,Me=this.current.patternFill,Ie=(0,O.getCurrentTransform)(ne);let qe,rt,Ze,et;if((se.bitmap||se.data)&&se.count>1){const ft=se.bitmap||se.data.buffer;rt=JSON.stringify(Me?Ie:[Ie.slice(0,4),Ae]),qe=this._cachedBitmapsMap.get(ft),qe||(qe=new Map,this._cachedBitmapsMap.set(ft,qe));const ut=qe.get(rt);if(ut&&!Me){const bt=Math.round(Math.min(Ie[0],Ie[2])+Ie[4]),yt=Math.round(Math.min(Ie[1],Ie[3])+Ie[5]);return{canvas:ut,offsetX:bt,offsetY:yt}}Ze=ut}Ze||(et=this.cachedCanvases.getCanvas("maskCanvas",fe,ye),q(et.context,se));let Xe=B.Util.transform(Ie,[1/fe,0,0,-1/ye,0,0]);Xe=B.Util.transform(Xe,[1,0,0,1,0,-ye]);const oe=B.Util.applyTransform([0,0],Xe),ue=B.Util.applyTransform([fe,ye],Xe),Ee=B.Util.normalizeRect([oe[0],oe[1],ue[0],ue[1]]),Pe=Math.round(Ee[2]-Ee[0])||1,be=Math.round(Ee[3]-Ee[1])||1,ke=this.cachedCanvases.getCanvas("fillCanvas",Pe,be),tt=ke.context,ot=Math.min(oe[0],ue[0]),it=Math.min(oe[1],ue[1]);tt.translate(-ot,-it),tt.transform(...Xe),Ze||(Ze=this._scaleImage(et.canvas,(0,O.getCurrentTransformInverse)(tt)),Ze=Ze.img,qe&&Me&&qe.set(rt,Ze)),tt.imageSmoothingEnabled=xe((0,O.getCurrentTransform)(tt),se.interpolate),U(tt,Ze,0,0,Ze.width,Ze.height,0,0,fe,ye),tt.globalCompositeOperation="source-in";const Ye=B.Util.transform((0,O.getCurrentTransformInverse)(tt),[1,0,0,1,-ot,-it]);return tt.fillStyle=Me?Ae.getPattern(ne,this,Ye,R.PathType.FILL):Ae,tt.fillRect(0,0,fe,ye),qe&&!Me&&(this.cachedCanvases.delete("fillCanvas"),qe.set(rt,ke.canvas)),{canvas:ke.canvas,offsetX:Math.round(ot),offsetY:Math.round(it)}}setLineWidth(se){se!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=se,this.ctx.lineWidth=se}setLineCap(se){this.ctx.lineCap=nt[se]}setLineJoin(se){this.ctx.lineJoin=ze[se]}setMiterLimit(se){this.ctx.miterLimit=se}setDash(se,ne){const fe=this.ctx;fe.setLineDash!==void 0&&(fe.setLineDash(se),fe.lineDashOffset=ne)}setRenderingIntent(se){}setFlatness(se){}setGState(se){for(const[ne,fe]of se)switch(ne){case"LW":this.setLineWidth(fe);break;case"LC":this.setLineCap(fe);break;case"LJ":this.setLineJoin(fe);break;case"ML":this.setMiterLimit(fe);break;case"D":this.setDash(fe[0],fe[1]);break;case"RI":this.setRenderingIntent(fe);break;case"FL":this.setFlatness(fe);break;case"Font":this.setFont(fe[0],fe[1]);break;case"CA":this.current.strokeAlpha=fe;break;case"ca":this.current.fillAlpha=fe,this.ctx.globalAlpha=fe;break;case"BM":this.ctx.globalCompositeOperation=fe;break;case"SMask":this.current.activeSMask=fe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=fe}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const se=this.inSMaskMode;this.current.activeSMask&&!se?this.beginSMaskMode():!this.current.activeSMask&&se&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const se=this.ctx.canvas.width,ne=this.ctx.canvas.height,fe="smaskGroupAt"+this.groupLevel,ye=this.cachedCanvases.getCanvas(fe,se,ne);this.suspendedCtx=this.ctx,this.ctx=ye.context;const Ae=this.ctx;Ae.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),V(this.suspendedCtx,Ae),ee(Ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),V(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(se){if(!this.current.activeSMask)return;se?(se[0]=Math.floor(se[0]),se[1]=Math.floor(se[1]),se[2]=Math.ceil(se[2]),se[3]=Math.ceil(se[3])):se=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ne=this.current.activeSMask,fe=this.suspendedCtx;le(fe,ne,this.ctx,se),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(V(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const se=this.current;this.stateStack.push(se),this.current=se.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),V(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(se,ne,fe,ye,Ae,Me){this.ctx.transform(se,ne,fe,ye,Ae,Me),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(se,ne,fe){const ye=this.ctx,Ae=this.current;let Me=Ae.x,Ie=Ae.y,qe,rt;const Ze=(0,O.getCurrentTransform)(ye),et=Ze[0]===0&&Ze[3]===0||Ze[1]===0&&Ze[2]===0,Xe=et?fe.slice(0):null;for(let oe=0,ue=0,Ee=se.length;oe<Ee;oe++)switch(se[oe]|0){case B.OPS.rectangle:Me=ne[ue++],Ie=ne[ue++];const Pe=ne[ue++],be=ne[ue++],ke=Me+Pe,tt=Ie+be;ye.moveTo(Me,Ie),Pe===0||be===0?ye.lineTo(ke,tt):(ye.lineTo(ke,Ie),ye.lineTo(ke,tt),ye.lineTo(Me,tt)),et||Ae.updateRectMinMax(Ze,[Me,Ie,ke,tt]),ye.closePath();break;case B.OPS.moveTo:Me=ne[ue++],Ie=ne[ue++],ye.moveTo(Me,Ie),et||Ae.updatePathMinMax(Ze,Me,Ie);break;case B.OPS.lineTo:Me=ne[ue++],Ie=ne[ue++],ye.lineTo(Me,Ie),et||Ae.updatePathMinMax(Ze,Me,Ie);break;case B.OPS.curveTo:qe=Me,rt=Ie,Me=ne[ue+4],Ie=ne[ue+5],ye.bezierCurveTo(ne[ue],ne[ue+1],ne[ue+2],ne[ue+3],Me,Ie),Ae.updateCurvePathMinMax(Ze,qe,rt,ne[ue],ne[ue+1],ne[ue+2],ne[ue+3],Me,Ie,Xe),ue+=6;break;case B.OPS.curveTo2:qe=Me,rt=Ie,ye.bezierCurveTo(Me,Ie,ne[ue],ne[ue+1],ne[ue+2],ne[ue+3]),Ae.updateCurvePathMinMax(Ze,qe,rt,Me,Ie,ne[ue],ne[ue+1],ne[ue+2],ne[ue+3],Xe),Me=ne[ue+2],Ie=ne[ue+3],ue+=4;break;case B.OPS.curveTo3:qe=Me,rt=Ie,Me=ne[ue+2],Ie=ne[ue+3],ye.bezierCurveTo(ne[ue],ne[ue+1],Me,Ie,Me,Ie),Ae.updateCurvePathMinMax(Ze,qe,rt,ne[ue],ne[ue+1],Me,Ie,Me,Ie,Xe),ue+=4;break;case B.OPS.closePath:ye.closePath();break}et&&Ae.updateScalingPathMinMax(Ze,Xe),Ae.setCurrentPoint(Me,Ie)}closePath(){this.ctx.closePath()}stroke(se=!0){const ne=this.ctx,fe=this.current.strokeColor;ne.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof fe=="object"&&(fe!=null&&fe.getPattern)?(ne.save(),ne.strokeStyle=fe.getPattern(ne,this,(0,O.getCurrentTransformInverse)(ne),R.PathType.STROKE),this.rescaleAndStroke(!1),ne.restore()):this.rescaleAndStroke(!0)),se&&this.consumePath(this.current.getClippedPathBoundingBox()),ne.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(se=!0){const ne=this.ctx,fe=this.current.fillColor,ye=this.current.patternFill;let Ae=!1;ye&&(ne.save(),ne.fillStyle=fe.getPattern(ne,this,(0,O.getCurrentTransformInverse)(ne),R.PathType.FILL),Ae=!0);const Me=this.current.getClippedPathBoundingBox();this.contentVisible&&Me!==null&&(this.pendingEOFill?(ne.fill("evenodd"),this.pendingEOFill=!1):ne.fill()),Ae&&ne.restore(),se&&this.consumePath(Me)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ue}eoClip(){this.pendingClip=Be}beginText(){this.current.textMatrix=B.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const se=this.pendingTextPaths,ne=this.ctx;if(se===void 0){ne.beginPath();return}ne.save(),ne.beginPath();for(const fe of se)ne.setTransform(...fe.transform),ne.translate(fe.x,fe.y),fe.addToPath(ne,fe.fontSize);ne.restore(),ne.clip(),ne.beginPath(),delete this.pendingTextPaths}setCharSpacing(se){this.current.charSpacing=se}setWordSpacing(se){this.current.wordSpacing=se}setHScale(se){this.current.textHScale=se/100}setLeading(se){this.current.leading=-se}setFont(se,ne){const fe=this.commonObjs.get(se),ye=this.current;if(!fe)throw new Error(`Can't find font for ${se}`);if(ye.fontMatrix=fe.fontMatrix||B.FONT_IDENTITY_MATRIX,(ye.fontMatrix[0]===0||ye.fontMatrix[3]===0)&&(0,B.warn)("Invalid font matrix for font "+se),ne<0?(ne=-ne,ye.fontDirection=-1):ye.fontDirection=1,this.current.font=fe,this.current.fontSize=ne,fe.isType3Font)return;const Ae=fe.loadedName||"sans-serif";let Me="normal";fe.black?Me="900":fe.bold&&(Me="bold");const Ie=fe.italic?"italic":"normal",qe=`"${Ae}", ${fe.fallbackName}`;let rt=ne;ne<de?rt=de:ne>pe&&(rt=pe),this.current.fontSizeScale=ne/rt,this.ctx.font=`${Ie} ${Me} ${rt}px ${qe}`}setTextRenderingMode(se){this.current.textRenderingMode=se}setTextRise(se){this.current.textRise=se}moveText(se,ne){this.current.x=this.current.lineX+=se,this.current.y=this.current.lineY+=ne}setLeadingMoveText(se,ne){this.setLeading(-ne),this.moveText(se,ne)}setTextMatrix(se,ne,fe,ye,Ae,Me){this.current.textMatrix=[se,ne,fe,ye,Ae,Me],this.current.textMatrixScale=Math.hypot(se,ne),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(se,ne,fe,ye){const Ae=this.ctx,Me=this.current,Ie=Me.font,qe=Me.textRenderingMode,rt=Me.fontSize/Me.fontSizeScale,Ze=qe&B.TextRenderingMode.FILL_STROKE_MASK,et=!!(qe&B.TextRenderingMode.ADD_TO_PATH_FLAG),Xe=Me.patternFill&&!Ie.missingFile;let oe;(Ie.disableFontFace||et||Xe)&&(oe=Ie.getPathGenerator(this.commonObjs,se)),Ie.disableFontFace||Xe?(Ae.save(),Ae.translate(ne,fe),Ae.beginPath(),oe(Ae,rt),ye&&Ae.setTransform(...ye),(Ze===B.TextRenderingMode.FILL||Ze===B.TextRenderingMode.FILL_STROKE)&&Ae.fill(),(Ze===B.TextRenderingMode.STROKE||Ze===B.TextRenderingMode.FILL_STROKE)&&Ae.stroke(),Ae.restore()):((Ze===B.TextRenderingMode.FILL||Ze===B.TextRenderingMode.FILL_STROKE)&&Ae.fillText(se,ne,fe),(Ze===B.TextRenderingMode.STROKE||Ze===B.TextRenderingMode.FILL_STROKE)&&Ae.strokeText(se,ne,fe)),et&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(Ae),x:ne,y:fe,fontSize:rt,addToPath:oe})}get isFontSubpixelAAEnabled(){const{context:se}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);se.scale(1.5,1),se.fillText("I",0,10);const ne=se.getImageData(0,0,10,10).data;let fe=!1;for(let ye=3;ye<ne.length;ye+=4)if(ne[ye]>0&&ne[ye]<255){fe=!0;break}return(0,B.shadow)(this,"isFontSubpixelAAEnabled",fe)}showText(se){const ne=this.current,fe=ne.font;if(fe.isType3Font)return this.showType3Text(se);const ye=ne.fontSize;if(ye===0)return;const Ae=this.ctx,Me=ne.fontSizeScale,Ie=ne.charSpacing,qe=ne.wordSpacing,rt=ne.fontDirection,Ze=ne.textHScale*rt,et=se.length,Xe=fe.vertical,oe=Xe?1:-1,ue=fe.defaultVMetrics,Ee=ye*ne.fontMatrix[0],Pe=ne.textRenderingMode===B.TextRenderingMode.FILL&&!fe.disableFontFace&&!ne.patternFill;Ae.save(),Ae.transform(...ne.textMatrix),Ae.translate(ne.x,ne.y+ne.textRise),rt>0?Ae.scale(Ze,-1):Ae.scale(Ze,1);let be;if(ne.patternFill){Ae.save();const Ye=ne.fillColor.getPattern(Ae,this,(0,O.getCurrentTransformInverse)(Ae),R.PathType.FILL);be=(0,O.getCurrentTransform)(Ae),Ae.restore(),Ae.fillStyle=Ye}let ke=ne.lineWidth;const tt=ne.textMatrixScale;if(tt===0||ke===0){const Ye=ne.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;(Ye===B.TextRenderingMode.STROKE||Ye===B.TextRenderingMode.FILL_STROKE)&&(ke=this.getSinglePixelWidth())}else ke/=tt;if(Me!==1&&(Ae.scale(Me,Me),ke/=Me),Ae.lineWidth=ke,fe.isInvalidPDFjsFont){const Ye=[];let ft=0;for(const ut of se)Ye.push(ut.unicode),ft+=ut.width;Ae.fillText(Ye.join(""),0,0),ne.x+=ft*Ee*Ze,Ae.restore(),this.compose();return}let ot=0,it;for(it=0;it<et;++it){const Ye=se[it];if(typeof Ye=="number"){ot+=oe*Ye*ye/1e3;continue}let ft=!1;const ut=(Ye.isSpace?qe:0)+Ie,bt=Ye.fontChar,yt=Ye.accent;let Ft,zt,Nt=Ye.width;if(Xe){const Re=Ye.vmetric||ue,Ne=-(Ye.vmetric?Re[1]:Nt*.5)*Ee,ht=Re[2]*Ee;Nt=Re?-Re[0]:Nt,Ft=Ne/Me,zt=(ot+ht)/Me}else Ft=ot/Me,zt=0;if(fe.remeasure&&Nt>0){const Re=Ae.measureText(bt).width*1e3/ye*Me;if(Nt<Re&&this.isFontSubpixelAAEnabled){const Ne=Nt/Re;ft=!0,Ae.save(),Ae.scale(Ne,1),Ft/=Ne}else Nt!==Re&&(Ft+=(Nt-Re)/2e3*ye/Me)}if(this.contentVisible&&(Ye.isInFont||fe.missingFile)){if(Pe&&!yt)Ae.fillText(bt,Ft,zt);else if(this.paintChar(bt,Ft,zt,be),yt){const Re=Ft+ye*yt.offset.x/Me,Ne=zt-ye*yt.offset.y/Me;this.paintChar(yt.fontChar,Re,Ne,be)}}let $e;Xe?$e=Nt*Ee-ut*rt:$e=Nt*Ee+ut*rt,ot+=$e,ft&&Ae.restore()}Xe?ne.y-=ot:ne.x+=ot*Ze,Ae.restore(),this.compose()}showType3Text(se){const ne=this.ctx,fe=this.current,ye=fe.font,Ae=fe.fontSize,Me=fe.fontDirection,Ie=ye.vertical?1:-1,qe=fe.charSpacing,rt=fe.wordSpacing,Ze=fe.textHScale*Me,et=fe.fontMatrix||B.FONT_IDENTITY_MATRIX,Xe=se.length,oe=fe.textRenderingMode===B.TextRenderingMode.INVISIBLE;let ue,Ee,Pe,be;if(!(oe||Ae===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ne.save(),ne.transform(...fe.textMatrix),ne.translate(fe.x,fe.y),ne.scale(Ze,Me),ue=0;ue<Xe;++ue){if(Ee=se[ue],typeof Ee=="number"){be=Ie*Ee*Ae/1e3,this.ctx.translate(be,0),fe.x+=be*Ze;continue}const ke=(Ee.isSpace?rt:0)+qe,tt=ye.charProcOperatorList[Ee.operatorListId];if(!tt){(0,B.warn)(`Type3 character "${Ee.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ee,this.save(),ne.scale(Ae,Ae),ne.transform(...et),this.executeOperatorList(tt),this.restore()),Pe=B.Util.applyTransform([Ee.width,0],et)[0]*Ae+ke,ne.translate(Pe,0),fe.x+=Pe*Ze}ne.restore(),this.processingType3=null}}setCharWidth(se,ne){}setCharWidthAndBounds(se,ne,fe,ye,Ae,Me){this.ctx.rect(fe,ye,Ae-fe,Me-ye),this.ctx.clip(),this.endPath()}getColorN_Pattern(se){let ne;if(se[0]==="TilingPattern"){const fe=se[1],ye=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),Ae={createCanvasGraphics:Me=>new Qe(Me,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ne=new R.TilingPattern(se,fe,this.ctx,Ae,ye)}else ne=this._getPattern(se[1],se[2]);return ne}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(se,ne,fe){var Ae;const ye=((Ae=this.selectColor)==null?void 0:Ae.call(this,se,ne,fe))||B.Util.makeHexColor(se,ne,fe);this.ctx.strokeStyle=ye,this.current.strokeColor=ye}setFillRGBColor(se,ne,fe){var Ae;const ye=((Ae=this.selectColor)==null?void 0:Ae.call(this,se,ne,fe))||B.Util.makeHexColor(se,ne,fe);this.ctx.fillStyle=ye,this.current.fillColor=ye,this.current.patternFill=!1}_getPattern(se,ne=null){let fe;return this.cachedPatterns.has(se)?fe=this.cachedPatterns.get(se):(fe=(0,R.getShadingPattern)(this.objs.get(se)),this.cachedPatterns.set(se,fe)),ne&&(fe.matrix=ne),fe}shadingFill(se){if(!this.contentVisible)return;const ne=this.ctx;this.save();const fe=this._getPattern(se);ne.fillStyle=fe.getPattern(ne,this,(0,O.getCurrentTransformInverse)(ne),R.PathType.SHADING);const ye=(0,O.getCurrentTransformInverse)(ne);if(ye){const Ae=ne.canvas,Me=Ae.width,Ie=Ae.height,qe=B.Util.applyTransform([0,0],ye),rt=B.Util.applyTransform([0,Ie],ye),Ze=B.Util.applyTransform([Me,0],ye),et=B.Util.applyTransform([Me,Ie],ye),Xe=Math.min(qe[0],rt[0],Ze[0],et[0]),oe=Math.min(qe[1],rt[1],Ze[1],et[1]),ue=Math.max(qe[0],rt[0],Ze[0],et[0]),Ee=Math.max(qe[1],rt[1],Ze[1],et[1]);this.ctx.fillRect(Xe,oe,ue-Xe,Ee-oe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,B.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,B.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(se,ne){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(se)&&se.length===6&&this.transform(...se),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),ne)){const fe=ne[2]-ne[0],ye=ne[3]-ne[1];this.ctx.rect(ne[0],ne[1],fe,ye),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),ne),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(se){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ne=this.ctx;se.isolated||(0,B.info)("TODO: Support non-isolated groups."),se.knockout&&(0,B.warn)("Knockout groups not supported.");const fe=(0,O.getCurrentTransform)(ne);if(se.matrix&&ne.transform(...se.matrix),!se.bbox)throw new Error("Bounding box is required.");let ye=B.Util.getAxialAlignedBoundingBox(se.bbox,(0,O.getCurrentTransform)(ne));const Ae=[0,0,ne.canvas.width,ne.canvas.height];ye=B.Util.intersect(ye,Ae)||[0,0,0,0];const Me=Math.floor(ye[0]),Ie=Math.floor(ye[1]);let qe=Math.max(Math.ceil(ye[2])-Me,1),rt=Math.max(Math.ceil(ye[3])-Ie,1),Ze=1,et=1;qe>ae&&(Ze=qe/ae,qe=ae),rt>ae&&(et=rt/ae,rt=ae),this.current.startNewPathAndClipBox([0,0,qe,rt]);let Xe="groupAt"+this.groupLevel;se.smask&&(Xe+="_smask_"+this.smaskCounter++%2);const oe=this.cachedCanvases.getCanvas(Xe,qe,rt),ue=oe.context;ue.scale(1/Ze,1/et),ue.translate(-Me,-Ie),ue.transform(...fe),se.smask?this.smaskStack.push({canvas:oe.canvas,context:ue,offsetX:Me,offsetY:Ie,scaleX:Ze,scaleY:et,subtype:se.smask.subtype,backdrop:se.smask.backdrop,transferMap:se.smask.transferMap||null,startTransformInverse:null}):(ne.setTransform(1,0,0,1,0,0),ne.translate(Me,Ie),ne.scale(Ze,et),ne.save()),V(ne,ue),this.ctx=ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ne),this.groupLevel++}endGroup(se){if(!this.contentVisible)return;this.groupLevel--;const ne=this.ctx,fe=this.groupStack.pop();if(this.ctx=fe,this.ctx.imageSmoothingEnabled=!1,se.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ye=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ye);const Ae=B.Util.getAxialAlignedBoundingBox([0,0,ne.canvas.width,ne.canvas.height],ye);this.ctx.drawImage(ne.canvas,0,0),this.ctx.restore(),this.compose(Ae)}}beginAnnotation(se,ne,fe,ye,Ae){if(dt(this,Oe,Xr).call(this),X(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ne)&&ne.length===4){const Me=ne[2]-ne[0],Ie=ne[3]-ne[1];if(Ae&&this.annotationCanvasMap){fe=fe.slice(),fe[4]-=ne[0],fe[5]-=ne[1],ne=ne.slice(),ne[0]=ne[1]=0,ne[2]=Me,ne[3]=Ie;const[qe,rt]=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:Ze}=this,et=Math.ceil(Me*this.outputScaleX*Ze),Xe=Math.ceil(Ie*this.outputScaleY*Ze);this.annotationCanvas=this.canvasFactory.create(et,Xe);const{canvas:oe,context:ue}=this.annotationCanvas;this.annotationCanvasMap.set(se,oe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ue,this.ctx.setTransform(qe,0,0,-rt,0,Ie*rt),X(this.ctx,this.foregroundColor)}else X(this.ctx,this.foregroundColor),this.ctx.rect(ne[0],ne[1],Me,Ie),this.ctx.clip(),this.endPath()}this.current=new Y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...fe),this.transform(...ye)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(se){if(!this.contentVisible)return;const ne=se.count;se=this.getObject(se.data,se),se.count=ne;const fe=this.ctx,ye=this.processingType3;if(ye&&(ye.compiled===void 0&&(ye.compiled=J(se)),ye.compiled)){ye.compiled(fe);return}const Ae=this._createMaskCanvas(se),Me=Ae.canvas;fe.save(),fe.setTransform(1,0,0,1,0,0),fe.drawImage(Me,Ae.offsetX,Ae.offsetY),fe.restore(),this.compose()}paintImageMaskXObjectRepeat(se,ne,fe=0,ye=0,Ae,Me){if(!this.contentVisible)return;se=this.getObject(se.data,se);const Ie=this.ctx;Ie.save();const qe=(0,O.getCurrentTransform)(Ie);Ie.transform(ne,fe,ye,Ae,0,0);const rt=this._createMaskCanvas(se);Ie.setTransform(1,0,0,1,rt.offsetX-qe[4],rt.offsetY-qe[5]);for(let Ze=0,et=Me.length;Ze<et;Ze+=2){const Xe=B.Util.transform(qe,[ne,fe,ye,Ae,Me[Ze],Me[Ze+1]]),[oe,ue]=B.Util.applyTransform([0,0],Xe);Ie.drawImage(rt.canvas,oe,ue)}Ie.restore(),this.compose()}paintImageMaskXObjectGroup(se){if(!this.contentVisible)return;const ne=this.ctx,fe=this.current.fillColor,ye=this.current.patternFill;for(const Ae of se){const{data:Me,width:Ie,height:qe,transform:rt}=Ae,Ze=this.cachedCanvases.getCanvas("maskCanvas",Ie,qe),et=Ze.context;et.save();const Xe=this.getObject(Me,Ae);q(et,Xe),et.globalCompositeOperation="source-in",et.fillStyle=ye?fe.getPattern(et,this,(0,O.getCurrentTransformInverse)(ne),R.PathType.FILL):fe,et.fillRect(0,0,Ie,qe),et.restore(),ne.save(),ne.transform(...rt),ne.scale(1,-1),U(ne,Ze.canvas,0,0,Ie,qe,0,-1,1,1),ne.restore()}this.compose()}paintImageXObject(se){if(!this.contentVisible)return;const ne=this.getObject(se);if(!ne){(0,B.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ne)}paintImageXObjectRepeat(se,ne,fe,ye){if(!this.contentVisible)return;const Ae=this.getObject(se);if(!Ae){(0,B.warn)("Dependent image isn't ready yet");return}const Me=Ae.width,Ie=Ae.height,qe=[];for(let rt=0,Ze=ye.length;rt<Ze;rt+=2)qe.push({transform:[ne,0,0,fe,ye[rt],ye[rt+1]],x:0,y:0,w:Me,h:Ie});this.paintInlineImageXObjectGroup(Ae,qe)}paintInlineImageXObject(se){if(!this.contentVisible)return;const ne=se.width,fe=se.height,ye=this.ctx;this.save(),ye.scale(1/ne,-1/fe);let Ae;if(typeof HTMLElement=="function"&&se instanceof HTMLElement||!se.data)Ae=se;else{const Ie=this.cachedCanvases.getCanvas("inlineImage",ne,fe),qe=Ie.context;W(qe,se,this.current.transferMaps),Ae=Ie.canvas}const Me=this._scaleImage(Ae,(0,O.getCurrentTransformInverse)(ye));ye.imageSmoothingEnabled=xe((0,O.getCurrentTransform)(ye),se.interpolate),U(ye,Me.img,0,0,Me.paintWidth,Me.paintHeight,0,-fe,ne,fe),this.compose(),this.restore()}paintInlineImageXObjectGroup(se,ne){if(!this.contentVisible)return;const fe=this.ctx,ye=se.width,Ae=se.height,Me=this.cachedCanvases.getCanvas("inlineImage",ye,Ae),Ie=Me.context;W(Ie,se,this.current.transferMaps);for(const qe of ne)fe.save(),fe.transform(...qe.transform),fe.scale(1,-1),U(fe,Me.canvas,qe.x,qe.y,qe.w,qe.h,0,-1,1,1),fe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(se){}markPointProps(se,ne){}beginMarkedContent(se){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(se,ne){se==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ne)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(se){const ne=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(se);const fe=this.ctx;this.pendingClip&&(ne||(this.pendingClip===Be?fe.clip("evenodd"):fe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),fe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const se=(0,O.getCurrentTransform)(this.ctx);if(se[1]===0&&se[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(se[0]),Math.abs(se[3]));else{const ne=Math.abs(se[0]*se[3]-se[2]*se[1]),fe=Math.hypot(se[0],se[2]),ye=Math.hypot(se[1],se[3]);this._cachedGetSinglePixelWidth=Math.max(fe,ye)/ne}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:se}=this.current,ne=(0,O.getCurrentTransform)(this.ctx);let fe,ye;if(ne[1]===0&&ne[2]===0){const Ae=Math.abs(ne[0]),Me=Math.abs(ne[3]);if(se===0)fe=1/Ae,ye=1/Me;else{const Ie=Ae*se,qe=Me*se;fe=Ie<1?1/Ie:1,ye=qe<1?1/qe:1}}else{const Ae=Math.abs(ne[0]*ne[3]-ne[2]*ne[1]),Me=Math.hypot(ne[0],ne[1]),Ie=Math.hypot(ne[2],ne[3]);if(se===0)fe=Ie/Ae,ye=Me/Ae;else{const qe=se*Ae;fe=Ie>qe?Ie/qe:1,ye=Me>qe?Me/qe:1}}this._cachedScaleForStroking=[fe,ye]}return this._cachedScaleForStroking}rescaleAndStroke(se){const{ctx:ne}=this,{lineWidth:fe}=this.current,[ye,Ae]=this.getScaleForStroking();if(ne.lineWidth=fe||1,ye===1&&Ae===1){ne.stroke();return}let Me,Ie,qe;se&&(Me=(0,O.getCurrentTransform)(ne),Ie=ne.getLineDash().slice(),qe=ne.lineDashOffset),ne.scale(ye,Ae);const rt=Math.max(ye,Ae);ne.setLineDash(ne.getLineDash().map(Ze=>Ze/rt)),ne.lineDashOffset/=rt,ne.stroke(),se&&(ne.setTransform(...Me),ne.setLineDash(Ie),ne.lineDashOffset=qe)}isContentVisible(){for(let se=this.markedContentStack.length-1;se>=0;se--)if(!this.markedContentStack[se].visible)return!1;return!0}};Oe=new WeakSet,Xr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Le=Qe;$.CanvasGraphics=Le;for(const Se in B.OPS)Le.prototype[Se]!==void 0&&(Le.prototype[B.OPS[Se]]=Le.prototype[Se])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=Q;var B=H(1),O=H(6);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=R;function re(U,J){if(!J)return;const Y=J[2]-J[0],W=J[3]-J[1],q=new Path2D;q.rect(J[0],J[1],Y,W),U.clip(q)}class de{constructor(){this.constructor===de&&(0,B.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,B.unreachable)("Abstract method `getPattern` called.")}}class pe extends de{constructor(J){super(),this._type=J[1],this._bbox=J[2],this._colorStops=J[3],this._p0=J[4],this._p1=J[5],this._r0=J[6],this._r1=J[7],this.matrix=null}_createGradient(J){let Y;this._type==="axial"?Y=J.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Y=J.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const W of this._colorStops)Y.addColorStop(W[0],W[1]);return Y}getPattern(J,Y,W,q){let V;if(q===R.STROKE||q===R.FILL){const X=Y.current.getClippedPathBoundingBox(q,(0,O.getCurrentTransform)(J))||[0,0,0,0],ce=Math.ceil(X[2]-X[0])||1,me=Math.ceil(X[3]-X[1])||1,_e=Y.cachedCanvases.getCanvas("pattern",ce,me,!0),Ce=_e.context;Ce.clearRect(0,0,Ce.canvas.width,Ce.canvas.height),Ce.beginPath(),Ce.rect(0,0,Ce.canvas.width,Ce.canvas.height),Ce.translate(-X[0],-X[1]),W=B.Util.transform(W,[1,0,0,1,X[0],X[1]]),Ce.transform(...Y.baseTransform),this.matrix&&Ce.transform(...this.matrix),re(Ce,this._bbox),Ce.fillStyle=this._createGradient(Ce),Ce.fill(),V=J.createPattern(_e.canvas,"no-repeat");const le=new DOMMatrix(W);V.setTransform(le)}else re(J,this._bbox),V=this._createGradient(J);return V}}function ae(U,J,Y,W,q,V,X,ce){const me=J.coords,_e=J.colors,Ce=U.data,le=U.width*4;let xe;me[Y+1]>me[W+1]&&(xe=Y,Y=W,W=xe,xe=V,V=X,X=xe),me[W+1]>me[q+1]&&(xe=W,W=q,q=xe,xe=X,X=ce,ce=xe),me[Y+1]>me[W+1]&&(xe=Y,Y=W,W=xe,xe=V,V=X,X=xe);const nt=(me[Y]+J.offsetX)*J.scaleX,ze=(me[Y+1]+J.offsetY)*J.scaleY,Ue=(me[W]+J.offsetX)*J.scaleX,Be=(me[W+1]+J.offsetY)*J.scaleY,Le=(me[q]+J.offsetX)*J.scaleX,Oe=(me[q+1]+J.offsetY)*J.scaleY;if(ze>=Oe)return;const Je=_e[V],Qe=_e[V+1],Se=_e[V+2],se=_e[X],ne=_e[X+1],fe=_e[X+2],ye=_e[ce],Ae=_e[ce+1],Me=_e[ce+2],Ie=Math.round(ze),qe=Math.round(Oe);let rt,Ze,et,Xe,oe,ue,Ee,Pe;for(let be=Ie;be<=qe;be++){if(be<Be){let Ye;be<ze?Ye=0:Ye=(ze-be)/(ze-Be),rt=nt-(nt-Ue)*Ye,Ze=Je-(Je-se)*Ye,et=Qe-(Qe-ne)*Ye,Xe=Se-(Se-fe)*Ye}else{let Ye;be>Oe?Ye=1:Be===Oe?Ye=0:Ye=(Be-be)/(Be-Oe),rt=Ue-(Ue-Le)*Ye,Ze=se-(se-ye)*Ye,et=ne-(ne-Ae)*Ye,Xe=fe-(fe-Me)*Ye}let ke;be<ze?ke=0:be>Oe?ke=1:ke=(ze-be)/(ze-Oe),oe=nt-(nt-Le)*ke,ue=Je-(Je-ye)*ke,Ee=Qe-(Qe-Ae)*ke,Pe=Se-(Se-Me)*ke;const tt=Math.round(Math.min(rt,oe)),ot=Math.round(Math.max(rt,oe));let it=le*be+tt*4;for(let Ye=tt;Ye<=ot;Ye++)ke=(rt-Ye)/(rt-oe),ke<0?ke=0:ke>1&&(ke=1),Ce[it++]=Ze-(Ze-ue)*ke|0,Ce[it++]=et-(et-Ee)*ke|0,Ce[it++]=Xe-(Xe-Pe)*ke|0,Ce[it++]=255}}function te(U,J,Y){const W=J.coords,q=J.colors;let V,X;switch(J.type){case"lattice":const ce=J.verticesPerRow,me=Math.floor(W.length/ce)-1,_e=ce-1;for(V=0;V<me;V++){let Ce=V*ce;for(let le=0;le<_e;le++,Ce++)ae(U,Y,W[Ce],W[Ce+1],W[Ce+ce],q[Ce],q[Ce+1],q[Ce+ce]),ae(U,Y,W[Ce+ce+1],W[Ce+1],W[Ce+ce],q[Ce+ce+1],q[Ce+1],q[Ce+ce])}break;case"triangles":for(V=0,X=W.length;V<X;V+=3)ae(U,Y,W[V],W[V+1],W[V+2],q[V],q[V+1],q[V+2]);break;default:throw new Error("illegal figure")}}class ve extends de{constructor(J){super(),this._coords=J[2],this._colors=J[3],this._figures=J[4],this._bounds=J[5],this._bbox=J[7],this._background=J[8],this.matrix=null}_createMeshCanvas(J,Y,W){const ce=Math.floor(this._bounds[0]),me=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-ce,Ce=Math.ceil(this._bounds[3])-me,le=Math.min(Math.ceil(Math.abs(_e*J[0]*1.1)),3e3),xe=Math.min(Math.ceil(Math.abs(Ce*J[1]*1.1)),3e3),nt=_e/le,ze=Ce/xe,Ue={coords:this._coords,colors:this._colors,offsetX:-ce,offsetY:-me,scaleX:1/nt,scaleY:1/ze},Be=le+2*2,Le=xe+2*2,Oe=W.getCanvas("mesh",Be,Le,!1),Je=Oe.context,Qe=Je.createImageData(le,xe);if(Y){const se=Qe.data;for(let ne=0,fe=se.length;ne<fe;ne+=4)se[ne]=Y[0],se[ne+1]=Y[1],se[ne+2]=Y[2],se[ne+3]=255}for(const se of this._figures)te(Qe,se,Ue);return Je.putImageData(Qe,2,2),{canvas:Oe.canvas,offsetX:ce-2*nt,offsetY:me-2*ze,scaleX:nt,scaleY:ze}}getPattern(J,Y,W,q){re(J,this._bbox);let V;if(q===R.SHADING)V=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(J));else if(V=B.Util.singularValueDecompose2dScale(Y.baseTransform),this.matrix){const ce=B.Util.singularValueDecompose2dScale(this.matrix);V=[V[0]*ce[0],V[1]*ce[1]]}const X=this._createMeshCanvas(V,q===R.SHADING?null:this._background,Y.cachedCanvases);return q!==R.SHADING&&(J.setTransform(...Y.baseTransform),this.matrix&&J.transform(...this.matrix)),J.translate(X.offsetX,X.offsetY),J.scale(X.scaleX,X.scaleY),J.createPattern(X.canvas,"no-repeat")}}class ie extends de{getPattern(){return"hotpink"}}function Q(U){switch(U[0]){case"RadialAxial":return new pe(U);case"Mesh":return new ve(U);case"Dummy":return new ie}throw new Error(`Unknown IR type: ${U[0]}`)}const ee={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,B.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(J,Y,W,q,V){this.operatorList=J[2],this.matrix=J[3]||[1,0,0,1,0,0],this.bbox=J[4],this.xstep=J[5],this.ystep=J[6],this.paintType=J[7],this.tilingType=J[8],this.color=Y,this.ctx=W,this.canvasGraphicsFactory=q,this.baseTransform=V}createPatternCanvas(J){const Y=this.operatorList,W=this.bbox,q=this.xstep,V=this.ystep,X=this.paintType,ce=this.tilingType,me=this.color,_e=this.canvasGraphicsFactory;(0,B.info)("TilingType: "+ce);const Ce=W[0],le=W[1],xe=W[2],nt=W[3],ze=B.Util.singularValueDecompose2dScale(this.matrix),Ue=B.Util.singularValueDecompose2dScale(this.baseTransform),Be=[ze[0]*Ue[0],ze[1]*Ue[1]],Le=this.getSizeAndScale(q,this.ctx.canvas.width,Be[0]),Oe=this.getSizeAndScale(V,this.ctx.canvas.height,Be[1]),Je=J.cachedCanvases.getCanvas("pattern",Le.size,Oe.size,!0),Qe=Je.context,Se=_e.createCanvasGraphics(Qe);Se.groupLevel=J.groupLevel,this.setFillAndStrokeStyleToContext(Se,X,me);let se=Ce,ne=le,fe=xe,ye=nt;return Ce<0&&(se=0,fe+=Math.abs(Ce)),le<0&&(ne=0,ye+=Math.abs(le)),Qe.translate(-(Le.scale*se),-(Oe.scale*ne)),Se.transform(Le.scale,0,0,Oe.scale,0,0),Qe.save(),this.clipBbox(Se,se,ne,fe,ye),Se.baseTransform=(0,O.getCurrentTransform)(Se.ctx),Se.executeOperatorList(Y),Se.endDrawing(),{canvas:Je.canvas,scaleX:Le.scale,scaleY:Oe.scale,offsetX:se,offsetY:ne}}getSizeAndScale(J,Y,W){J=Math.abs(J);const q=Math.max(G.MAX_PATTERN_SIZE,Y);let V=Math.ceil(J*W);return V>=q?V=q:W=V/J,{scale:W,size:V}}clipBbox(J,Y,W,q,V){const X=q-Y,ce=V-W;J.ctx.rect(Y,W,X,ce),J.current.updateRectMinMax((0,O.getCurrentTransform)(J.ctx),[Y,W,q,V]),J.clip(),J.endPath()}setFillAndStrokeStyleToContext(J,Y,W){const q=J.ctx,V=J.current;switch(Y){case ee.COLORED:const X=this.ctx;q.fillStyle=X.fillStyle,q.strokeStyle=X.strokeStyle,V.fillColor=X.fillStyle,V.strokeColor=X.strokeStyle;break;case ee.UNCOLORED:const ce=B.Util.makeHexColor(W[0],W[1],W[2]);q.fillStyle=ce,q.strokeStyle=ce,V.fillColor=ce,V.strokeColor=ce;break;default:throw new B.FormatError(`Unsupported paint type: ${Y}`)}}getPattern(J,Y,W,q){let V=W;q!==R.SHADING&&(V=B.Util.transform(V,Y.baseTransform),this.matrix&&(V=B.Util.transform(V,this.matrix)));const X=this.createPatternCanvas(Y);let ce=new DOMMatrix(V);ce=ce.translate(X.offsetX,X.offsetY),ce=ce.scale(1/X.scaleX,1/X.scaleY);const me=J.createPattern(X.canvas,"repeat");return me.setTransform(ce),me}}$.TilingPattern=G},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=O;var B=H(1);function O({src:R,srcPos:re=0,dest:de,destPos:pe=0,width:ae,height:te,inverseDecode:ve=!1}){const ie=B.FeatureTest.isLittleEndian?4278190080:255,[Q,ee]=ve?[0,ie]:[ie,0],G=ae>>3,U=ae&7,J=R.length;de=new Uint32Array(de.buffer);for(let Y=0;Y<te;Y++){for(const q=re+G;re<q;re++){const V=re<J?R[re]:255;de[pe++]=V&128?ee:Q,de[pe++]=V&64?ee:Q,de[pe++]=V&32?ee:Q,de[pe++]=V&16?ee:Q,de[pe++]=V&8?ee:Q,de[pe++]=V&4?ee:Q,de[pe++]=V&2?ee:Q,de[pe++]=V&1?ee:Q}if(U===0)continue;const W=re<J?R[re++]:255;for(let q=0;q<U;q++)de[pe++]=W&1<<7-q?ee:Q}return{srcPos:re,destPos:pe}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var B=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},R={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function re(pe){switch(pe instanceof Error||typeof pe=="object"&&pe!==null||(0,B.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),pe.name){case"AbortException":return new B.AbortException(pe.message);case"MissingPDFException":return new B.MissingPDFException(pe.message);case"PasswordException":return new B.PasswordException(pe.message,pe.code);case"UnexpectedResponseException":return new B.UnexpectedResponseException(pe.message,pe.status);case"UnknownErrorException":return new B.UnknownErrorException(pe.message,pe.details);default:return new B.UnknownErrorException(pe.message,pe.toString())}}class de{constructor(ae,te,ve){this.sourceName=ae,this.targetName=te,this.comObj=ve,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ie=>{const Q=ie.data;if(Q.targetName!==this.sourceName)return;if(Q.stream){this._processStreamMessage(Q);return}if(Q.callback){const G=Q.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error(`Cannot resolve callback ${G}`);if(delete this.callbackCapabilities[G],Q.callback===O.DATA)U.resolve(Q.data);else if(Q.callback===O.ERROR)U.reject(re(Q.reason));else throw new Error("Unexpected callback case");return}const ee=this.actionHandler[Q.action];if(!ee)throw new Error(`Unknown action from worker: ${Q.action}`);if(Q.callbackId){const G=this.sourceName,U=Q.sourceName;new Promise(function(J){J(ee(Q.data))}).then(function(J){ve.postMessage({sourceName:G,targetName:U,callback:O.DATA,callbackId:Q.callbackId,data:J})},function(J){ve.postMessage({sourceName:G,targetName:U,callback:O.ERROR,callbackId:Q.callbackId,reason:re(J)})});return}if(Q.streamId){this._createStreamSink(Q);return}ee(Q.data)},ve.addEventListener("message",this._onComObjOnMessage)}on(ae,te){const ve=this.actionHandler;if(ve[ae])throw new Error(`There is already an actionName called "${ae}"`);ve[ae]=te}send(ae,te,ve){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,data:te},ve)}sendWithPromise(ae,te,ve){const ie=this.callbackId++,Q=(0,B.createPromiseCapability)();this.callbackCapabilities[ie]=Q;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,callbackId:ie,data:te},ve)}catch(ee){Q.reject(ee)}return Q.promise}sendWithStream(ae,te,ve,ie){const Q=this.streamId++,ee=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:J=>{const Y=(0,B.createPromiseCapability)();return this.streamControllers[Q]={controller:J,startCall:Y,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:ee,targetName:G,action:ae,streamId:Q,data:te,desiredSize:J.desiredSize},ie),Y.promise},pull:J=>{const Y=(0,B.createPromiseCapability)();return this.streamControllers[Q].pullCall=Y,U.postMessage({sourceName:ee,targetName:G,stream:R.PULL,streamId:Q,desiredSize:J.desiredSize}),Y.promise},cancel:J=>{(0,B.assert)(J instanceof Error,"cancel must have a valid reason");const Y=(0,B.createPromiseCapability)();return this.streamControllers[Q].cancelCall=Y,this.streamControllers[Q].isClosed=!0,U.postMessage({sourceName:ee,targetName:G,stream:R.CANCEL,streamId:Q,reason:re(J)}),Y.promise}},ve)}_createStreamSink(ae){const te=ae.streamId,ve=this.sourceName,ie=ae.sourceName,Q=this.comObj,ee=this,G=this.actionHandler[ae.action],U={enqueue(J,Y=1,W){if(this.isCancelled)return;const q=this.desiredSize;this.desiredSize-=Y,q>0&&this.desiredSize<=0&&(this.sinkCapability=(0,B.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Q.postMessage({sourceName:ve,targetName:ie,stream:R.ENQUEUE,streamId:te,chunk:J},W)},close(){this.isCancelled||(this.isCancelled=!0,Q.postMessage({sourceName:ve,targetName:ie,stream:R.CLOSE,streamId:te}),delete ee.streamSinks[te])},error(J){(0,B.assert)(J instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Q.postMessage({sourceName:ve,targetName:ie,stream:R.ERROR,streamId:te,reason:re(J)}))},sinkCapability:(0,B.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ae.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[te]=U,new Promise(function(J){J(G(ae.data,U))}).then(function(){Q.postMessage({sourceName:ve,targetName:ie,stream:R.START_COMPLETE,streamId:te,success:!0})},function(J){Q.postMessage({sourceName:ve,targetName:ie,stream:R.START_COMPLETE,streamId:te,reason:re(J)})})}_processStreamMessage(ae){const te=ae.streamId,ve=this.sourceName,ie=ae.sourceName,Q=this.comObj,ee=this.streamControllers[te],G=this.streamSinks[te];switch(ae.stream){case R.START_COMPLETE:ae.success?ee.startCall.resolve():ee.startCall.reject(re(ae.reason));break;case R.PULL_COMPLETE:ae.success?ee.pullCall.resolve():ee.pullCall.reject(re(ae.reason));break;case R.PULL:if(!G){Q.postMessage({sourceName:ve,targetName:ie,stream:R.PULL_COMPLETE,streamId:te,success:!0});break}G.desiredSize<=0&&ae.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=ae.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){Q.postMessage({sourceName:ve,targetName:ie,stream:R.PULL_COMPLETE,streamId:te,success:!0})},function(U){Q.postMessage({sourceName:ve,targetName:ie,stream:R.PULL_COMPLETE,streamId:te,reason:re(U)})});break;case R.ENQUEUE:if((0,B.assert)(ee,"enqueue should have stream controller"),ee.isClosed)break;ee.controller.enqueue(ae.chunk);break;case R.CLOSE:if((0,B.assert)(ee,"close should have stream controller"),ee.isClosed)break;ee.isClosed=!0,ee.controller.close(),this._deleteStreamController(ee,te);break;case R.ERROR:(0,B.assert)(ee,"error should have stream controller"),ee.controller.error(re(ae.reason)),this._deleteStreamController(ee,te);break;case R.CANCEL_COMPLETE:ae.success?ee.cancelCall.resolve():ee.cancelCall.reject(re(ae.reason)),this._deleteStreamController(ee,te);break;case R.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(re(ae.reason)))}).then(function(){Q.postMessage({sourceName:ve,targetName:ie,stream:R.CANCEL_COMPLETE,streamId:te,success:!0})},function(U){Q.postMessage({sourceName:ve,targetName:ie,stream:R.CANCEL_COMPLETE,streamId:te,reason:re(U)})}),G.sinkCapability.reject(re(ae.reason)),G.isCancelled=!0,delete this.streamSinks[te];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ae,te){await Promise.allSettled([ae.startCall&&ae.startCall.promise,ae.pullCall&&ae.pullCall.promise,ae.cancelCall&&ae.cancelCall.promise]),delete this.streamControllers[te]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=de},(A,$,H)=>{var R,re;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var B=H(1);class O{constructor({parsedData:pe,rawData:ae}){at(this,R,void 0);at(this,re,void 0);Ct(this,R,pe),Ct(this,re,ae)}getRaw(){return ge(this,re)}get(pe){return ge(this,R).get(pe)??null}getAll(){return(0,B.objectFromMap)(ge(this,R))}has(pe){return ge(this,R).has(pe)}}R=new WeakMap,re=new WeakMap,$.Metadata=O},(A,$,H)=>{var pe,ae,te,ve,ie,Q,Kr;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var B=H(1),O=H(8);const R=Symbol("INTERNAL");class re{constructor(U,J){at(this,pe,!0);this.name=U,this.intent=J}get visible(){return ge(this,pe)}_setVisible(U,J){U!==R&&(0,B.unreachable)("Internal method `_setVisible` called."),Ct(this,pe,J)}}pe=new WeakMap;class de{constructor(U){at(this,Q);at(this,ae,null);at(this,te,new Map);at(this,ve,null);at(this,ie,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,Ct(this,ie,U.order);for(const J of U.groups)ge(this,te).set(J.id,new re(J.name,J.intent));if(U.baseState==="OFF")for(const J of ge(this,te).values())J._setVisible(R,!1);for(const J of U.on)ge(this,te).get(J)._setVisible(R,!0);for(const J of U.off)ge(this,te).get(J)._setVisible(R,!1);Ct(this,ve,this.getHash())}}isVisible(U){if(ge(this,te).size===0)return!0;if(!U)return(0,B.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return ge(this,te).has(U.id)?ge(this,te).get(U.id).visible:((0,B.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return dt(this,Q,Kr).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const J of U.ids){if(!ge(this,te).has(J))return(0,B.warn)(`Optional content group not found: ${J}`),!0;if(ge(this,te).get(J).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const J of U.ids){if(!ge(this,te).has(J))return(0,B.warn)(`Optional content group not found: ${J}`),!0;if(!ge(this,te).get(J).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const J of U.ids){if(!ge(this,te).has(J))return(0,B.warn)(`Optional content group not found: ${J}`),!0;if(!ge(this,te).get(J).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const J of U.ids){if(!ge(this,te).has(J))return(0,B.warn)(`Optional content group not found: ${J}`),!0;if(ge(this,te).get(J).visible)return!1}return!0}return(0,B.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,B.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,J=!0){if(!ge(this,te).has(U)){(0,B.warn)(`Optional content group not found: ${U}`);return}ge(this,te).get(U)._setVisible(R,!!J),Ct(this,ae,null)}get hasInitialVisibility(){return this.getHash()===ge(this,ve)}getOrder(){return ge(this,te).size?ge(this,ie)?ge(this,ie).slice():[...ge(this,te).keys()]:null}getGroups(){return ge(this,te).size>0?(0,B.objectFromMap)(ge(this,te)):null}getGroup(U){return ge(this,te).get(U)||null}getHash(){if(ge(this,ae)!==null)return ge(this,ae);const U=new O.MurmurHash3_64;for(const[J,Y]of ge(this,te))U.update(`${J}:${Y.visible}`);return Ct(this,ae,U.hexdigest())}}ae=new WeakMap,te=new WeakMap,ve=new WeakMap,ie=new WeakMap,Q=new WeakSet,Kr=function(U){const J=U.length;if(J<2)return!0;const Y=U[0];for(let W=1;W<J;W++){const q=U[W];let V;if(Array.isArray(q))V=dt(this,Q,Kr).call(this,q);else if(ge(this,te).has(q))V=ge(this,te).get(q).visible;else return(0,B.warn)(`Optional content group not found: ${q}`),!0;switch(Y){case"And":if(!V)return!1;break;case"Or":if(V)return!0;break;case"Not":return!V;default:return!0}}return Y==="And"},$.OptionalContentConfig=de},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var B=H(1),O=H(6);class R{constructor({length:ae,initialData:te,progressiveDone:ve=!1,contentDispositionFilename:ie=null,disableRange:Q=!1,disableStream:ee=!1},G){if((0,B.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ve,this._contentDispositionFilename=ie,(te==null?void 0:te.length)>0){const U=te instanceof Uint8Array&&te.byteLength===te.buffer.byteLength?te.buffer:new Uint8Array(te).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!ee,this._isRangeSupported=!Q,this._contentLength=ae,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,J)=>{this._onReceiveData({begin:U,chunk:J})}),this._pdfDataRangeTransport.addProgressListener((U,J)=>{this._onProgress({loaded:U,total:J})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ae,chunk:te}){const ve=te instanceof Uint8Array&&te.byteLength===te.buffer.byteLength?te.buffer:new Uint8Array(te).buffer;if(ae===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ve):this._queuedChunks.push(ve);else{const ie=this._rangeReaders.some(function(Q){return Q._begin!==ae?!1:(Q._enqueue(ve),!0)});(0,B.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ae;return((ae=this._fullRequestReader)==null?void 0:ae._loaded)??0}_onProgress(ae){var te,ve,ie,Q;ae.total===void 0?(ve=(te=this._rangeReaders[0])==null?void 0:te.onProgress)==null||ve.call(te,{loaded:ae.loaded}):(Q=(ie=this._fullRequestReader)==null?void 0:ie.onProgress)==null||Q.call(ie,{loaded:ae.loaded,total:ae.total})}_onProgressiveDone(){var ae;(ae=this._fullRequestReader)==null||ae.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ae){const te=this._rangeReaders.indexOf(ae);te>=0&&this._rangeReaders.splice(te,1)}getFullReader(){(0,B.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ae=this._queuedChunks;return this._queuedChunks=null,new re(this,ae,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ae,te){if(te<=this._progressiveDataLength)return null;const ve=new de(this,ae,te);return this._pdfDataRangeTransport.requestDataRange(ae,te),this._rangeReaders.push(ve),ve}cancelAllRequests(ae){var te;(te=this._fullRequestReader)==null||te.cancel(ae);for(const ve of this._rangeReaders.slice(0))ve.cancel(ae);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=R;class re{constructor(ae,te,ve=!1,ie=null){this._stream=ae,this._done=ve||!1,this._filename=(0,O.isPdfFile)(ie)?ie:null,this._queuedChunks=te||[],this._loaded=0;for(const Q of this._queuedChunks)this._loaded+=Q.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ae._fullRequestReader=this,this.onProgress=null}_enqueue(ae){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ae,done:!1}):this._queuedChunks.push(ae),this._loaded+=ae.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ae=(0,B.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class de{constructor(ae,te,ve){this._stream=ae,this._begin=te,this._end=ve,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ae){if(!this._done){if(this._requests.length===0)this._queuedChunk=ae;else{this._requests.shift().resolve({value:ae,done:!1});for(const ve of this._requests)ve.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const te=this._queuedChunk;return this._queuedChunk=null,{value:te,done:!1}}if(this._done)return{value:void 0,done:!0};const ae=(0,B.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(O){const R=[],re={items:R,styles:Object.create(null)};function de(pe){var ve;if(!pe)return;let ae=null;const te=pe.name;if(te==="#text")ae=pe.value;else if(H.shouldBuildText(te))(ve=pe==null?void 0:pe.attributes)!=null&&ve.textContent?ae=pe.attributes.textContent:pe.value&&(ae=pe.value);else return;if(ae!==null&&R.push({str:ae}),!!pe.children)for(const ie of pe.children)de(ie)}return de(O),re}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var B=H(7);const O=function(pe){return new Promise((ae,te)=>{require$$5.readFile(pe,(ie,Q)=>{if(ie||!Q){te(new Error(ie));return}ae(new Uint8Array(Q))})})};class R extends B.BaseCanvasFactory{_createCanvas(ae,te){return require$$5.createCanvas(ae,te)}}$.NodeCanvasFactory=R;class re extends B.BaseCMapReaderFactory{_fetchData(ae,te){return O(ae).then(ve=>({cMapData:ve,compressionType:te}))}}$.NodeCMapReaderFactory=re;class de extends B.BaseStandardFontDataFactory{_fetchData(ae){return O(ae)}}$.NodeStandardFontDataFactory=de},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var B=H(1),O=H(22);const R=require$$5,re=require$$5,de=require$$5,pe=require$$5,ae=/^file:\/\/\/[a-zA-Z]:\//;function te(W){const q=pe.parse(W);return q.protocol==="file:"||q.host?q:/^[a-z]:[/\\]/i.test(W)?pe.parse(`file:///${W}`):(q.host||(q.protocol="file:"),q)}class ve{constructor(q){this.source=q,this.url=te(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new G(this),this._fullRequestReader}getRangeReader(q,V){if(V<=this._progressiveDataLength)return null;const X=this.isFsUrl?new Y(this,q,V):new U(this,q,V);return this._rangeRequestReaders.push(X),X}cancelAllRequests(q){var V;(V=this._fullRequestReader)==null||V.cancel(q);for(const X of this._rangeRequestReaders.slice(0))X.cancel(q)}}$.PDFNodeStream=ve;class ie{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const V=q.source;this._contentLength=V.length,this._loaded=0,this._filename=null,this._disableRange=V.disableRange||!1,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!V.disableStream,this._isRangeSupported=!V.disableRange,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)(),this._headersCapability=(0,B.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",V=>{this._error(V)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new B.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Q{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)();const V=q.source;this._isStreamingSupported=!V.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",V=>{this._error(V)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ee(W,q){return{protocol:W.protocol,auth:W.auth,host:W.hostname,port:W.port,path:W.path,method:"GET",headers:q}}class G extends ie{constructor(q){super(q);const V=X=>{if(X.statusCode===404){const Ce=new B.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ce,this._headersCapability.reject(Ce);return}this._headersCapability.resolve(),this._setReadableStream(X);const ce=Ce=>this._readableStream.headers[Ce.toLowerCase()],{allowRangeRequests:me,suggestedLength:_e}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ce,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=me,this._contentLength=_e||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ce)};this._request=null,this._url.protocol==="http:"?this._request=re.request(ee(this._url,q.httpHeaders),V):this._request=de.request(ee(this._url,q.httpHeaders),V),this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class U extends Q{constructor(q,V,X){super(q),this._httpHeaders={};for(const me in q.httpHeaders){const _e=q.httpHeaders[me];_e!==void 0&&(this._httpHeaders[me]=_e)}this._httpHeaders.Range=`bytes=${V}-${X-1}`;const ce=me=>{if(me.statusCode===404){const _e=new B.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_e;return}this._setReadableStream(me)};this._request=null,this._url.protocol==="http:"?this._request=re.request(ee(this._url,this._httpHeaders),ce):this._request=de.request(ee(this._url,this._httpHeaders),ce),this._request.on("error",me=>{this._storedError=me}),this._request.end()}}class J extends ie{constructor(q){super(q);let V=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(V=V.replace(/^\//,"")),R.lstat(V,(X,ce)=>{if(X){X.code==="ENOENT"&&(X=new B.MissingPDFException(`Missing PDF "${V}".`)),this._storedError=X,this._headersCapability.reject(X);return}this._contentLength=ce.size,this._setReadableStream(R.createReadStream(V)),this._headersCapability.resolve()})}}class Y extends Q{constructor(q,V,X){super(q);let ce=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(ce=ce.replace(/^\//,"")),this._setReadableStream(R.createReadStream(ce,{start:V,end:X-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=pe,$.extractFilenameFromHeader=de,$.validateRangeRequestCapabilities=re,$.validateResponseStatus=ae;var B=H(1),O=H(23),R=H(6);function re({getResponseHeader:te,isHttp:ve,rangeChunkSize:ie,disableRange:Q}){const ee={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(te("Content-Length"),10);return!Number.isInteger(G)||(ee.suggestedLength=G,G<=2*ie)||Q||!ve||te("Accept-Ranges")!=="bytes"||(te("Content-Encoding")||"identity")!=="identity"||(ee.allowRangeRequests=!0),ee}function de(te){const ve=te("Content-Disposition");if(ve){let ie=(0,O.getFilenameFromContentDispositionHeader)(ve);if(ie.includes("%"))try{ie=decodeURIComponent(ie)}catch{}if((0,R.isPdfFile)(ie))return ie}return null}function pe(te,ve){return te===404||te===0&&ve.startsWith("file:")?new B.MissingPDFException('Missing PDF "'+ve+'".'):new B.UnexpectedResponseException(`Unexpected server response (${te}) while retrieving PDF "${ve}".`,te)}function ae(te){return te===200||te===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var B=H(1);function O(R){let re=!0,de=pe("filename\\*","i").exec(R);if(de){de=de[1];let G=ie(de);return G=unescape(G),G=Q(G),G=ee(G),te(G)}if(de=ve(R),de){const G=ee(de);return te(G)}if(de=pe("filename","i").exec(R),de){de=de[1];let G=ie(de);return G=ee(G),te(G)}function pe(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function ae(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const J=new TextDecoder(G,{fatal:!0}),Y=(0,B.stringToBytes)(U);U=J.decode(Y),re=!1}catch{}}return U}function te(G){return re&&/[\x80-\xff]/.test(G)&&(G=ae("utf-8",G),re&&(G=ae("iso-8859-1",G))),G}function ve(G){const U=[];let J;const Y=pe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(J=Y.exec(G))!==null;){let[,q,V,X]=J;if(q=parseInt(q,10),q in U){if(q===0)break;continue}U[q]=[V,X]}const W=[];for(let q=0;q<U.length&&q in U;++q){let[V,X]=U[q];X=ie(X),V&&(X=unescape(X),q===0&&(X=Q(X))),W.push(X)}return W.join("")}function ie(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let J=0;J<U.length;++J){const Y=U[J].indexOf('"');Y!==-1&&(U[J]=U[J].slice(0,Y),U.length=J+1),U[J]=U[J].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function Q(G){const U=G.indexOf("'");if(U===-1)return G;const J=G.slice(0,U),W=G.slice(U+1).replace(/^[^']*'/,"");return ae(J,W)}function ee(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,J,Y,W){if(Y==="q"||Y==="Q")return W=W.replace(/_/g," "),W=W.replace(/=([0-9a-fA-F]{2})/g,function(q,V){return String.fromCharCode(parseInt(V,16))}),ae(J,W);try{W=atob(W)}catch{}return ae(J,W)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var B=H(1),O=H(22);const R=200,re=206;function de(ie){const Q=ie.response;return typeof Q!="string"?Q:(0,B.stringToBytes)(Q).buffer}class pe{constructor(Q,ee={}){this.url=Q,this.isHttp=/^https?:/i.test(Q),this.httpHeaders=this.isHttp&&ee.httpHeaders||Object.create(null),this.withCredentials=ee.withCredentials||!1,this.getXhr=ee.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Q,ee,G){const U={begin:Q,end:ee};for(const J in G)U[J]=G[J];return this.request(U)}requestFull(Q){return this.request(Q)}request(Q){const ee=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:ee};ee.open("GET",this.url),ee.withCredentials=this.withCredentials;for(const J in this.httpHeaders){const Y=this.httpHeaders[J];Y!==void 0&&ee.setRequestHeader(J,Y)}return this.isHttp&&"begin"in Q&&"end"in Q?(ee.setRequestHeader("Range",`bytes=${Q.begin}-${Q.end-1}`),U.expectedStatus=re):U.expectedStatus=R,ee.responseType="arraybuffer",Q.onError&&(ee.onerror=function(J){Q.onError(ee.status)}),ee.onreadystatechange=this.onStateChange.bind(this,G),ee.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=Q.onHeadersReceived,U.onDone=Q.onDone,U.onError=Q.onError,U.onProgress=Q.onProgress,ee.send(null),G}onProgress(Q,ee){var U;const G=this.pendingRequests[Q];G&&((U=G.onProgress)==null||U.call(G,ee))}onStateChange(Q,ee){var q,V,X;const G=this.pendingRequests[Q];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(Q in this.pendingRequests))return;if(delete this.pendingRequests[Q],U.status===0&&this.isHttp){(q=G.onError)==null||q.call(G,U.status);return}const J=U.status||R;if(!(J===R&&G.expectedStatus===re)&&J!==G.expectedStatus){(V=G.onError)==null||V.call(G,U.status);return}const W=de(U);if(J===re){const ce=U.getResponseHeader("Content-Range"),me=/bytes (\d+)-(\d+)\/(\d+)/.exec(ce);G.onDone({begin:parseInt(me[1],10),chunk:W})}else W?G.onDone({begin:0,chunk:W}):(X=G.onError)==null||X.call(G,U.status)}getRequestXhr(Q){return this.pendingRequests[Q].xhr}isPendingRequest(Q){return Q in this.pendingRequests}abortRequest(Q){const ee=this.pendingRequests[Q].xhr;delete this.pendingRequests[Q],ee.abort()}}class ae{constructor(Q){this._source=Q,this._manager=new pe(Q.url,{httpHeaders:Q.httpHeaders,withCredentials:Q.withCredentials}),this._rangeChunkSize=Q.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Q){const ee=this._rangeRequestReaders.indexOf(Q);ee>=0&&this._rangeRequestReaders.splice(ee,1)}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new te(this._manager,this._source),this._fullRequestReader}getRangeReader(Q,ee){const G=new ve(this._manager,Q,ee);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(Q){var ee;(ee=this._fullRequestReader)==null||ee.cancel(Q);for(const G of this._rangeRequestReaders.slice(0))G.cancel(Q)}}$.PDFNetworkStream=ae;class te{constructor(Q,ee){this._manager=Q;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ee.url,this._fullRequestId=Q.requestFull(G),this._headersReceivedCapability=(0,B.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._contentLength=ee.length,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Q=this._fullRequestId,ee=this._manager.getRequestXhr(Q),G=Y=>ee.getResponseHeader(Y),{allowRangeRequests:U,suggestedLength:J}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=J||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(Q),this._headersReceivedCapability.resolve()}_onDone(Q){if(Q&&(this._requests.length>0?this._requests.shift().resolve({value:Q.chunk,done:!1}):this._cachedChunks.push(Q.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Q){this._storedError=(0,O.createResponseStatusError)(Q,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ee of this._requests)ee.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Q){var ee;(ee=this.onProgress)==null||ee.call(this,{loaded:Q.loaded,total:Q.lengthComputable?Q.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Q=(0,B.createPromiseCapability)();return this._requests.push(Q),Q.promise}cancel(Q){this._done=!0,this._headersReceivedCapability.reject(Q);for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ve{constructor(Q,ee,G){this._manager=Q;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Q.url,this._requestId=Q.requestRange(ee,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Q;(Q=this.onClosed)==null||Q.call(this,this)}_onDone(Q){const ee=Q.chunk;this._requests.length>0?this._requests.shift().resolve({value:ee,done:!1}):this._queuedChunk=ee,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Q){this._storedError=(0,O.createResponseStatusError)(Q,this._url);for(const ee of this._requests)ee.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Q){var ee;this.isStreamingSupported||(ee=this.onProgress)==null||ee.call(this,{loaded:Q.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ee=this._queuedChunk;return this._queuedChunk=null,{value:ee,done:!1}}if(this._done)return{value:void 0,done:!0};const Q=(0,B.createPromiseCapability)();return this._requests.push(Q),Q.promise}cancel(Q){this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var B=H(1),O=H(22);function R(ve,ie,Q){return{method:"GET",headers:ve,signal:Q.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function re(ve){const ie=new Headers;for(const Q in ve){const ee=ve[Q];ee!==void 0&&ie.append(Q,ee)}return ie}function de(ve){return ve instanceof Uint8Array?ve.buffer:ve instanceof ArrayBuffer?ve:((0,B.warn)(`getArrayBuffer - unexpected data format: ${ve}`),new Uint8Array(ve).buffer)}class pe{constructor(ie){this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ie;return((ie=this._fullRequestReader)==null?void 0:ie._loaded)??0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ae(this),this._fullRequestReader}getRangeReader(ie,Q){if(Q<=this._progressiveDataLength)return null;const ee=new te(this,ie,Q);return this._rangeRequestReaders.push(ee),ee}cancelAllRequests(ie){var Q;(Q=this._fullRequestReader)==null||Q.cancel(ie);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(ie)}}$.PDFFetchStream=pe;class ae{constructor(ie){this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;const Q=ie.source;this._withCredentials=Q.withCredentials||!1,this._contentLength=Q.length,this._headersCapability=(0,B.createPromiseCapability)(),this._disableRange=Q.disableRange||!1,this._rangeChunkSize=Q.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Q.disableStream,this._isRangeSupported=!Q.disableRange,this._headers=re(this._stream.httpHeaders);const ee=Q.url;fetch(ee,R(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,O.validateResponseStatus)(G.status))throw(0,O.createResponseStatusError)(G.status,ee);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=W=>G.headers.get(W),{allowRangeRequests:J,suggestedLength:Y}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=J,this._contentLength=Y||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new B.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ee;await this._headersCapability.promise;const{value:ie,done:Q}=await this._reader.read();return Q?{value:ie,done:Q}:(this._loaded+=ie.byteLength,(ee=this.onProgress)==null||ee.call(this,{loaded:this._loaded,total:this._contentLength}),{value:de(ie),done:!1})}cancel(ie){var Q;(Q=this._reader)==null||Q.cancel(ie),this._abortController.abort()}}class te{constructor(ie,Q,ee){this._stream=ie,this._reader=null,this._loaded=0;const G=ie.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,B.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Q}-${ee-1}`);const U=G.url;fetch(U,R(this._headers,this._withCredentials,this._abortController)).then(J=>{if(!(0,O.validateResponseStatus)(J.status))throw(0,O.createResponseStatusError)(J.status,U);this._readCapability.resolve(),this._reader=J.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ee;await this._readCapability.promise;const{value:ie,done:Q}=await this._reader.read();return Q?{value:ie,done:Q}:(this._loaded+=ie.byteLength,(ee=this.onProgress)==null||ee.call(this,{loaded:this._loaded}),{value:de(ie),done:!1})}cancel(ie){var Q;(Q=this._reader)==null||Q.cancel(ie),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var B=H(1),O=H(6);const R=1e5,re=30,de=.8,pe=new Map;function ae(J,Y){let W;if(Y&&B.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(J,J).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=J,W=q.getContext("2d",{alpha:!1})}return W}function te(J,Y){const W=pe.get(J);if(W)return W;const q=ae(re,Y);q.font=`${re}px ${J}`;const V=q.measureText("");let X=V.fontBoundingBoxAscent,ce=Math.abs(V.fontBoundingBoxDescent);if(X){const _e=X/(X+ce);return pe.set(J,_e),q.canvas.width=q.canvas.height=0,_e}q.strokeStyle="red",q.clearRect(0,0,re,re),q.strokeText("g",0,0);let me=q.getImageData(0,0,re,re).data;ce=0;for(let _e=me.length-1-3;_e>=0;_e-=4)if(me[_e]>0){ce=Math.ceil(_e/4/re);break}q.clearRect(0,0,re,re),q.strokeText("A",0,re),me=q.getImageData(0,0,re,re).data,X=0;for(let _e=0,Ce=me.length;_e<Ce;_e+=4)if(me[_e]>0){X=re-Math.floor(_e/4/re);break}if(q.canvas.width=q.canvas.height=0,X){const _e=X/(X+ce);return pe.set(J,_e),_e}return pe.set(J,de),de}function ve(J,Y,W){const q=document.createElement("span"),V={angle:0,canvasWidth:0,hasText:Y.str!=="",hasEOL:Y.hasEOL,fontSize:0};J._textDivs.push(q);const X=B.Util.transform(J._transform,Y.transform);let ce=Math.atan2(X[1],X[0]);const me=W[Y.fontName];me.vertical&&(ce+=Math.PI/2);const _e=Math.hypot(X[2],X[3]),Ce=_e*te(me.fontFamily,J._isOffscreenCanvasSupported);let le,xe;ce===0?(le=X[4],xe=X[5]-Ce):(le=X[4]+Ce*Math.sin(ce),xe=X[5]-Ce*Math.cos(ce));const nt="calc(var(--scale-factor)*",ze=q.style;J._container===J._rootContainer?(ze.left=`${(100*le/J._pageWidth).toFixed(2)}%`,ze.top=`${(100*xe/J._pageHeight).toFixed(2)}%`):(ze.left=`${nt}${le.toFixed(2)}px)`,ze.top=`${nt}${xe.toFixed(2)}px)`),ze.fontSize=`${nt}${_e.toFixed(2)}px)`,ze.fontFamily=me.fontFamily,V.fontSize=_e,q.setAttribute("role","presentation"),q.textContent=Y.str,q.dir=Y.dir,J._fontInspectorEnabled&&(q.dataset.fontName=Y.fontName),ce!==0&&(V.angle=ce*(180/Math.PI));let Ue=!1;if(Y.str.length>1)Ue=!0;else if(Y.str!==" "&&Y.transform[0]!==Y.transform[3]){const Be=Math.abs(Y.transform[0]),Le=Math.abs(Y.transform[3]);Be!==Le&&Math.max(Be,Le)/Math.min(Be,Le)>1.5&&(Ue=!0)}Ue&&(V.canvasWidth=me.vertical?Y.height:Y.width),J._textDivProperties.set(q,V),J._isReadableStream&&J._layoutText(q)}function ie(J){const{div:Y,scale:W,properties:q,ctx:V,prevFontSize:X,prevFontFamily:ce}=J,{style:me}=Y;let _e="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:Ce}=me,{canvasWidth:le,fontSize:xe}=q;(X!==xe||ce!==Ce)&&(V.font=`${xe*W}px ${Ce}`,J.prevFontSize=xe,J.prevFontFamily=Ce);const{width:nt}=V.measureText(Y.textContent);nt>0&&(_e=`scaleX(${le*W/nt})`)}q.angle!==0&&(_e=`rotate(${q.angle}deg) ${_e}`),_e.length>0&&(me.transform=_e)}function Q(J){if(J._canceled)return;const Y=J._textDivs,W=J._capability;if(Y.length>R){W.resolve();return}if(!J._isReadableStream)for(const V of Y)J._layoutText(V);W.resolve()}class ee{constructor({textContentSource:Y,container:W,viewport:q,textDivs:V,textDivProperties:X,textContentItemsStr:ce,isOffscreenCanvasSupported:me}){var nt;this._textContentSource=Y,this._isReadableStream=Y instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=V||[],this._textContentItemsStr=ce||[],this._isOffscreenCanvasSupported=me,this._fontInspectorEnabled=!!((nt=globalThis.FontInspector)!=null&&nt.enabled),this._reader=null,this._textDivProperties=X||new WeakMap,this._canceled=!1,this._capability=(0,B.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ae(0,me)};const{pageWidth:_e,pageHeight:Ce,pageX:le,pageY:xe}=q.rawDims;this._transform=[1,0,0,-1,-le,xe+Ce],this._pageWidth=_e,this._pageHeight=Ce,(0,O.setLayerDimensions)(W,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new B.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new B.AbortException("TextLayer task cancelled."))}_processItems(Y,W){for(const q of Y){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const V=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id",`${q.id}`),V.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),ve(this,q,W)}}_layoutText(Y){const W=this._layoutTextParams.properties=this._textDivProperties.get(Y);if(this._layoutTextParams.div=Y,ie(this._layoutTextParams),W.hasText&&this._container.append(Y),W.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const Y=(0,B.createPromiseCapability)();let W=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:V,done:X})=>{if(X){Y.resolve();return}Object.assign(W,V.styles),this._processItems(V.items,W),q()},Y.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:V}=this._textContentSource;this._processItems(q,V),Y.resolve()}else throw new Error('No "textContentSource" parameter specified.');Y.promise.then(()=>{W=null,Q(this)},this._capability.reject)}}$.TextLayerRenderTask=ee;function G(J){!J.textContentSource&&(J.textContent||J.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),J.textContentSource=J.textContent||J.textContentStream);const Y=new ee(J);return Y._render(),Y}function U({container:J,viewport:Y,textDivs:W,textDivProperties:q,isOffscreenCanvasSupported:V,mustRotate:X=!0,mustRescale:ce=!0}){if(X&&(0,O.setLayerDimensions)(J,{rotation:Y.rotation}),ce){const me=ae(0,V),Ce={prevFontSize:null,prevFontFamily:null,div:null,scale:Y.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:me};for(const le of W)Ce.properties=q.get(le),Ce.div=le,ie(Ce)}}},(A,$,H)=>{var ae,te,ve,ie,Q,ee,G,U,J,Yr,W,Fi,V,Zr,ce,Jr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var B=H(1),O=H(5),R=H(28),re=H(29),de=H(6);const _e=class _e{constructor(le){at(this,J);at(this,W);at(this,V);at(this,ce);at(this,ae,void 0);at(this,te,!1);at(this,ve,this.pointerup.bind(this));at(this,ie,this.pointerdown.bind(this));at(this,Q,new Map);at(this,ee,!1);at(this,G,!1);at(this,U,void 0);_e._initialized||(_e._initialized=!0,R.FreeTextEditor.initialize(le.l10n),re.InkEditor.initialize(le.l10n)),le.uiManager.registerEditorTypes([R.FreeTextEditor,re.InkEditor]),Ct(this,U,le.uiManager),this.pageIndex=le.pageIndex,this.div=le.div,Ct(this,ae,le.accessibilityManager),ge(this,U).addLayer(this)}get isEmpty(){return ge(this,Q).size===0}updateToolbar(le){ge(this,U).updateToolbar(le)}updateMode(le=ge(this,U).getMode()){dt(this,ce,Jr).call(this),le===B.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ge(this,U).unselectAll(),le!==B.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",le===B.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",le===B.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(le){if(!le&&ge(this,U).getMode()!==B.AnnotationEditorType.INK)return;if(!le){for(const nt of ge(this,Q).values())if(nt.isEmpty()){nt.setInBackground();return}}dt(this,V,Zr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(le){ge(this,U).setEditingState(le)}addCommands(le){ge(this,U).addCommands(le)}enable(){this.div.style.pointerEvents="auto";for(const le of ge(this,Q).values())le.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const le of ge(this,Q).values())le.disableEditing();dt(this,ce,Jr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(le){ge(this,U).getActive()!==le&&ge(this,U).setActiveEditor(le)}enableClick(){this.div.addEventListener("pointerdown",ge(this,ie)),this.div.addEventListener("pointerup",ge(this,ve))}disableClick(){this.div.removeEventListener("pointerdown",ge(this,ie)),this.div.removeEventListener("pointerup",ge(this,ve))}attach(le){ge(this,Q).set(le.id,le)}detach(le){var xe;ge(this,Q).delete(le.id),(xe=ge(this,ae))==null||xe.removePointerInTextLayer(le.contentDiv)}remove(le){ge(this,U).removeEditor(le),this.detach(le),le.div.style.display="none",setTimeout(()=>{le.div.style.display="",le.div.remove(),le.isAttachedToDOM=!1,document.activeElement===document.body&&ge(this,U).focusMainContainer()},0),ge(this,G)||this.addInkEditorIfNeeded(!1)}add(le){if(dt(this,J,Yr).call(this,le),ge(this,U).addEditor(le),this.attach(le),!le.isAttachedToDOM){const xe=le.render();this.div.append(xe),le.isAttachedToDOM=!0}this.moveEditorInDOM(le),le.onceAdded(),ge(this,U).addToAnnotationStorage(le)}moveEditorInDOM(le){var xe;(xe=ge(this,ae))==null||xe.moveElementInDOM(this.div,le.div,le.contentDiv,!0)}addOrRebuild(le){le.needsToBeRebuilt()?le.rebuild():this.add(le)}addANewEditor(le){const xe=()=>{this.addOrRebuild(le)},nt=()=>{le.remove()};this.addCommands({cmd:xe,undo:nt,mustExec:!0})}addUndoableEditor(le){const xe=()=>{this.addOrRebuild(le)},nt=()=>{le.remove()};this.addCommands({cmd:xe,undo:nt,mustExec:!1})}getNextId(){return ge(this,U).getId()}deserialize(le){switch(le.annotationType){case B.AnnotationEditorType.FREETEXT:return R.FreeTextEditor.deserialize(le,this,ge(this,U));case B.AnnotationEditorType.INK:return re.InkEditor.deserialize(le,this,ge(this,U))}return null}setSelected(le){ge(this,U).setSelected(le)}toggleSelected(le){ge(this,U).toggleSelected(le)}isSelected(le){return ge(this,U).isSelected(le)}unselect(le){ge(this,U).unselect(le)}pointerup(le){const{isMac:xe}=B.FeatureTest.platform;if(!(le.button!==0||le.ctrlKey&&xe)&&le.target===this.div&&ge(this,ee)){if(Ct(this,ee,!1),!ge(this,te)){Ct(this,te,!0);return}dt(this,V,Zr).call(this,le)}}pointerdown(le){const{isMac:xe}=B.FeatureTest.platform;if(le.button!==0||le.ctrlKey&&xe||le.target!==this.div)return;Ct(this,ee,!0);const nt=ge(this,U).getActive();Ct(this,te,!nt||nt.isEmpty())}drop(le){const xe=le.dataTransfer.getData("text/plain"),nt=ge(this,U).getEditor(xe);if(!nt)return;le.preventDefault(),le.dataTransfer.dropEffect="move",dt(this,J,Yr).call(this,nt);const ze=this.div.getBoundingClientRect(),Ue=le.clientX-ze.x,Be=le.clientY-ze.y;nt.translate(Ue-nt.startX,Be-nt.startY),this.moveEditorInDOM(nt),nt.div.focus()}dragover(le){le.preventDefault()}destroy(){var le,xe;((le=ge(this,U).getActive())==null?void 0:le.parent)===this&&ge(this,U).setActiveEditor(null);for(const nt of ge(this,Q).values())(xe=ge(this,ae))==null||xe.removePointerInTextLayer(nt.contentDiv),nt.setParent(null),nt.isAttachedToDOM=!1,nt.div.remove();this.div=null,ge(this,Q).clear(),ge(this,U).removeLayer(this)}render({viewport:le}){this.viewport=le,(0,de.setLayerDimensions)(this.div,le),(0,O.bindEvents)(this,this.div,["dragover","drop"]);for(const xe of ge(this,U).getEditors(this.pageIndex))this.add(xe);this.updateMode()}update({viewport:le}){ge(this,U).commitOrRemove(),this.viewport=le,(0,de.setLayerDimensions)(this.div,{rotation:le.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:le,pageHeight:xe}=this.viewport.rawDims;return[le,xe]}};ae=new WeakMap,te=new WeakMap,ve=new WeakMap,ie=new WeakMap,Q=new WeakMap,ee=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakSet,Yr=function(le){var xe;le.parent!==this&&(this.attach(le),(xe=le.parent)==null||xe.detach(le),le.setParent(this),le.div&&le.isAttachedToDOM&&(le.div.remove(),this.div.append(le.div)))},W=new WeakSet,Fi=function(le){switch(ge(this,U).getMode()){case B.AnnotationEditorType.FREETEXT:return new R.FreeTextEditor(le);case B.AnnotationEditorType.INK:return new re.InkEditor(le)}return null},V=new WeakSet,Zr=function(le){const xe=this.getNextId(),nt=dt(this,W,Fi).call(this,{parent:this,id:xe,x:le.offsetX,y:le.offsetY,uiManager:ge(this,U)});return nt&&this.add(nt),nt},ce=new WeakSet,Jr=function(){Ct(this,G,!0);for(const le of ge(this,Q).values())le.isEmpty()&&le.remove();Ct(this,G,!1)},Sn(_e,"_initialized",!1);let pe=_e;$.AnnotationEditorLayer=pe},(A,$,H)=>{var de,pe,ae,te,ve,ie,Q,ee,G,U,Ii,Y,Li,q,Oi,X,Qr;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var B=H(1),O=H(5),R=H(4);const me=class me extends R.AnnotationEditor{constructor(le){super({...le,name:"freeTextEditor"});at(this,U);at(this,Y);at(this,q);at(this,X);at(this,de,this.editorDivBlur.bind(this));at(this,pe,this.editorDivFocus.bind(this));at(this,ae,this.editorDivInput.bind(this));at(this,te,this.editorDivKeydown.bind(this));at(this,ve,void 0);at(this,ie,"");at(this,Q,`${this.id}-editor`);at(this,ee,!1);at(this,G,void 0);Ct(this,ve,le.color||me._defaultColor||R.AnnotationEditor._defaultLineColor),Ct(this,G,le.fontSize||me._defaultFontSize)}static initialize(le){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(nt=>[nt,le.get(nt)]));const xe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(xe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(le,xe){switch(le){case B.AnnotationEditorParamsType.FREETEXT_SIZE:me._defaultFontSize=xe;break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:me._defaultColor=xe;break}}updateParams(le,xe){switch(le){case B.AnnotationEditorParamsType.FREETEXT_SIZE:dt(this,U,Ii).call(this,xe);break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:dt(this,Y,Li).call(this,xe);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,me._defaultFontSize],[B.AnnotationEditorParamsType.FREETEXT_COLOR,me._defaultColor||R.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,ge(this,G)],[B.AnnotationEditorParamsType.FREETEXT_COLOR,ge(this,ve)]]}getInitialTranslation(){const le=this.parentScale;return[-me._internalPadding*le,-(me._internalPadding+ge(this,G))*le]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(B.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ge(this,te)),this.editorDiv.addEventListener("focus",ge(this,pe)),this.editorDiv.addEventListener("blur",ge(this,de)),this.editorDiv.addEventListener("input",ge(this,ae)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ge(this,Q)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ge(this,te)),this.editorDiv.removeEventListener("focus",ge(this,pe)),this.editorDiv.removeEventListener("blur",ge(this,de)),this.editorDiv.removeEventListener("input",ge(this,ae)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(le){super.focusin(le),le.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ge(this,ee)||(Ct(this,ee,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ct(this,ie,dt(this,q,Oi).call(this).trimEnd()),dt(this,X,Qr).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(le){this.enableEditMode(),this.editorDiv.focus()}keydown(le){le.target===this.div&&le.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(le){me._keyboardManager.exec(this,le)}editorDivFocus(le){this.isEditing=!0}editorDivBlur(le){this.isEditing=!1}editorDivInput(le){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let le,xe;this.width&&(le=this.x,xe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ge(this,Q)),this.enableEditing(),me._l10nPromise.get("editor_free_text2_aria_label").then(ze=>{var Ue;return(Ue=this.editorDiv)==null?void 0:Ue.setAttribute("aria-label",ze)}),me._l10nPromise.get("free_text2_default_content").then(ze=>{var Ue;return(Ue=this.editorDiv)==null?void 0:Ue.setAttribute("default-content",ze)}),this.editorDiv.contentEditable=!0;const{style:nt}=this.editorDiv;if(nt.fontSize=`calc(${ge(this,G)}px * var(--scale-factor))`,nt.color=ge(this,ve),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ze,Ue]=this.parentDimensions;this.setAt(le*ze,xe*Ue,this.width*ze,this.height*Ue);for(const Be of ge(this,ie).split(`
`)){const Le=document.createElement("div");Le.append(Be?document.createTextNode(Be):document.createElement("br")),this.editorDiv.append(Le)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(le,xe,nt){const ze=super.deserialize(le,xe,nt);return Ct(ze,G,le.fontSize),Ct(ze,ve,B.Util.makeHexColor(...le.color)),Ct(ze,ie,le.value),ze}serialize(){if(this.isEmpty())return null;const le=me._internalPadding*this.parentScale,xe=this.getRect(le,le),nt=R.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ge(this,ve));return{annotationType:B.AnnotationEditorType.FREETEXT,color:nt,fontSize:ge(this,G),value:ge(this,ie),pageIndex:this.pageIndex,rect:xe,rotation:this.rotation}}};de=new WeakMap,pe=new WeakMap,ae=new WeakMap,te=new WeakMap,ve=new WeakMap,ie=new WeakMap,Q=new WeakMap,ee=new WeakMap,G=new WeakMap,U=new WeakSet,Ii=function(le){const xe=ze=>{this.editorDiv.style.fontSize=`calc(${ze}px * var(--scale-factor))`,this.translate(0,-(ze-ge(this,G))*this.parentScale),Ct(this,G,ze),dt(this,X,Qr).call(this)},nt=ge(this,G);this.addCommands({cmd:()=>{xe(le)},undo:()=>{xe(nt)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Y=new WeakSet,Li=function(le){const xe=ge(this,ve);this.addCommands({cmd:()=>{Ct(this,ve,this.editorDiv.style.color=le)},undo:()=>{Ct(this,ve,this.editorDiv.style.color=xe)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Oi=function(){const le=this.editorDiv.getElementsByTagName("div");if(le.length===0)return this.editorDiv.innerText;const xe=[];for(const nt of le)xe.push(nt.innerText.replace(/\r\n?|\n/,""));return xe.join(`
`)},X=new WeakSet,Qr=function(){const[le,xe]=this.parentDimensions;let nt;if(this.isAttachedToDOM)nt=this.div.getBoundingClientRect();else{const{currentLayer:ze,div:Ue}=this,Be=Ue.style.display;Ue.style.display="hidden",ze.div.append(this.div),nt=Ue.getBoundingClientRect(),Ue.remove(),Ue.style.display=Be}this.width=nt.width/le,this.height=nt.height/xe},Sn(me,"_freeTextDefaultContent",""),Sn(me,"_l10nPromise"),Sn(me,"_internalPadding",0),Sn(me,"_defaultColor",null),Sn(me,"_defaultFontSize",10),Sn(me,"_keyboardManager",new O.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],me.prototype.commitOrRemove]])),Sn(me,"_type","freetext");let re=me;$.FreeTextEditor=re},(A,$,H)=>{var te,ve,ie,Q,ee,G,U,J,Y,W,q,V,X,ce,me,Di,Ce,Ni,xe,ji,ze,Bi,Be,ei,Oe,zi,Qe,Hi,se,Vi,fe,Wn,Ae,ti,Ie,wr,rt,Pr,et,ur,oe,ni,Ee,kr,be,ri,tt,Ui,it,Wi,ft,qi,bt,ii,Ft,$r,Nt,dr,Re,ai;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return R.fitCurve}});var B=H(1),O=H(4),R=H(30),re=H(5);const de=16,pe=100,ht=class ht extends O.AnnotationEditor{constructor(Ke){super({...Ke,name:"inkEditor"});at(this,me);at(this,Ce);at(this,xe);at(this,ze);at(this,Be);at(this,Oe);at(this,Qe);at(this,se);at(this,fe);at(this,Ae);at(this,Ie);at(this,rt);at(this,et);at(this,oe);at(this,Ee);at(this,tt);at(this,it);at(this,ft);at(this,bt);at(this,Ft);at(this,Nt);at(this,Re);at(this,te,0);at(this,ve,0);at(this,ie,0);at(this,Q,this.canvasPointermove.bind(this));at(this,ee,this.canvasPointerleave.bind(this));at(this,G,this.canvasPointerup.bind(this));at(this,U,this.canvasPointerdown.bind(this));at(this,J,!1);at(this,Y,!1);at(this,W,null);at(this,q,null);at(this,V,0);at(this,X,0);at(this,ce,null);this.color=Ke.color||null,this.thickness=Ke.thickness||null,this.opacity=Ke.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ke){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(pt=>[pt,Ke.get(pt)]))}static updateDefaultParams(Ke,pt){switch(Ke){case B.AnnotationEditorParamsType.INK_THICKNESS:ht._defaultThickness=pt;break;case B.AnnotationEditorParamsType.INK_COLOR:ht._defaultColor=pt;break;case B.AnnotationEditorParamsType.INK_OPACITY:ht._defaultOpacity=pt/100;break}}updateParams(Ke,pt){switch(Ke){case B.AnnotationEditorParamsType.INK_THICKNESS:dt(this,me,Di).call(this,pt);break;case B.AnnotationEditorParamsType.INK_COLOR:dt(this,Ce,Ni).call(this,pt);break;case B.AnnotationEditorParamsType.INK_OPACITY:dt(this,xe,ji).call(this,pt);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,ht._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,ht._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(ht._defaultOpacity*100)]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ht._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,this.color||ht._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ht._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(dt(this,Ie,wr).call(this),dt(this,rt,Pr).call(this)),this.isAttachedToDOM||(this.parent.add(this),dt(this,et,ur).call(this)),dt(this,Nt,dr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ge(this,q).disconnect(),Ct(this,q,null),super.remove())}setParent(Ke){!this.parent&&Ke?this._uiManager.removeShouldRescale(this):this.parent&&Ke===null&&this._uiManager.addShouldRescale(this),super.setParent(Ke)}onScaleChanging(){const[Ke,pt]=this.parentDimensions,_t=this.width*Ke,St=this.height*pt;this.setDimensions(_t,St)}enableEditMode(){ge(this,J)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ge(this,U)),this.canvas.addEventListener("pointerup",ge(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ge(this,U)),this.canvas.removeEventListener("pointerup",ge(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ge(this,J)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ct(this,J,!0),this.div.classList.add("disabled"),dt(this,Nt,dr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ke){super.focusin(Ke),this.enableEditMode()}canvasPointerdown(Ke){Ke.button!==0||!this.isInEditMode()||ge(this,J)||(this.setInForeground(),Ke.type!=="mouse"&&this.div.focus(),Ke.stopPropagation(),this.canvas.addEventListener("pointerleave",ge(this,ee)),this.canvas.addEventListener("pointermove",ge(this,Q)),dt(this,Oe,zi).call(this,Ke.offsetX,Ke.offsetY))}canvasPointermove(Ke){Ke.stopPropagation(),dt(this,Qe,Hi).call(this,Ke.offsetX,Ke.offsetY)}canvasPointerup(Ke){Ke.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ke.stopPropagation(),dt(this,Ae,ti).call(this,Ke),this.setInBackground())}canvasPointerleave(Ke){dt(this,Ae,ti).call(this,Ke),this.setInBackground()}render(){if(this.div)return this.div;let Ke,pt;this.width&&(Ke=this.x,pt=this.y),super.render(),ht._l10nPromise.get("editor_ink2_aria_label").then(Kt=>{var Zt;return(Zt=this.div)==null?void 0:Zt.setAttribute("aria-label",Kt)});const[_t,St,qt,on]=dt(this,ze,Bi).call(this);if(this.setAt(_t,St,0,0),this.setDims(qt,on),dt(this,Ie,wr).call(this),this.width){const[Kt,Zt]=this.parentDimensions;this.setAt(Ke*Kt,pt*Zt,this.width*Kt,this.height*Zt),Ct(this,Y,!0),dt(this,et,ur).call(this),this.setDims(this.width*Kt,this.height*Zt),dt(this,fe,Wn).call(this),dt(this,Re,ai).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return dt(this,rt,Pr).call(this),this.div}setDimensions(Ke,pt){const _t=Math.round(Ke),St=Math.round(pt);if(ge(this,V)===_t&&ge(this,X)===St)return;Ct(this,V,_t),Ct(this,X,St),this.canvas.style.visibility="hidden",ge(this,te)&&Math.abs(ge(this,te)-Ke/pt)>.01&&(pt=Math.ceil(Ke/ge(this,te)),this.setDims(Ke,pt));const[qt,on]=this.parentDimensions;this.width=Ke/qt,this.height=pt/on,ge(this,J)&&dt(this,oe,ni).call(this,Ke,pt),dt(this,et,ur).call(this),dt(this,fe,Wn).call(this),this.canvas.style.visibility="visible"}static deserialize(Ke,pt,_t){var _n,En;const St=super.deserialize(Ke,pt,_t);St.thickness=Ke.thickness,St.color=B.Util.makeHexColor(...Ke.color),St.opacity=Ke.opacity;const[qt,on]=St.pageDimensions,Kt=St.width*qt,Zt=St.height*on,Gt=St.parentScale,tn=Ke.thickness/2;Ct(St,te,Kt/Zt),Ct(St,J,!0),Ct(St,V,Math.round(Kt)),Ct(St,X,Math.round(Zt));for(const{bezier:yn}of Ke.paths){const pn=[];St.paths.push(pn);let Fn=Gt*(yn[0]-tn),On=Gt*(Zt-yn[1]-tn);for(let Nn=2,nr=yn.length;Nn<nr;Nn+=6){const rr=Gt*(yn[Nn]-tn),ir=Gt*(Zt-yn[Nn+1]-tn),ar=Gt*(yn[Nn+2]-tn),or=Gt*(Zt-yn[Nn+3]-tn),gr=Gt*(yn[Nn+4]-tn),vr=Gt*(Zt-yn[Nn+5]-tn);pn.push([[Fn,On],[rr,ir],[ar,or],[gr,vr]]),Fn=gr,On=vr}const qn=dt(this,be,ri).call(this,pn);St.bezierPath2D.push(qn)}const kn=dt(_n=St,bt,ii).call(_n);return Ct(St,ie,Math.max(de,kn[2]-kn[0])),Ct(St,ve,Math.max(de,kn[3]-kn[1])),dt(En=St,oe,ni).call(En,Kt,Zt),St}serialize(){if(this.isEmpty())return null;const Ke=this.getRect(0,0),pt=this.rotation%180===0?Ke[3]-Ke[1]:Ke[2]-Ke[0],_t=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:B.AnnotationEditorType.INK,color:_t,thickness:this.thickness,opacity:this.opacity,paths:dt(this,tt,Ui).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,pt),pageIndex:this.pageIndex,rect:Ke,rotation:this.rotation}}};te=new WeakMap,ve=new WeakMap,ie=new WeakMap,Q=new WeakMap,ee=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakMap,Y=new WeakMap,W=new WeakMap,q=new WeakMap,V=new WeakMap,X=new WeakMap,ce=new WeakMap,me=new WeakSet,Di=function(Ke){const pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ke,dt(this,Nt,dr).call(this)},undo:()=>{this.thickness=pt,dt(this,Nt,dr).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ce=new WeakSet,Ni=function(Ke){const pt=this.color;this.addCommands({cmd:()=>{this.color=Ke,dt(this,fe,Wn).call(this)},undo:()=>{this.color=pt,dt(this,fe,Wn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xe=new WeakSet,ji=function(Ke){Ke/=100;const pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ke,dt(this,fe,Wn).call(this)},undo:()=>{this.opacity=pt,dt(this,fe,Wn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ze=new WeakSet,Bi=function(){const{parentRotation:Ke,parentDimensions:[pt,_t]}=this;switch(Ke){case 90:return[0,_t,_t,pt];case 180:return[pt,_t,pt,_t];case 270:return[pt,0,_t,pt];default:return[0,0,pt,_t]}},Be=new WeakSet,ei=function(){const{ctx:Ke,color:pt,opacity:_t,thickness:St,parentScale:qt,scaleFactor:on}=this;Ke.lineWidth=St*qt/on,Ke.lineCap="round",Ke.lineJoin="round",Ke.miterLimit=10,Ke.strokeStyle=`${pt}${(0,re.opacityToHex)(_t)}`},Oe=new WeakSet,zi=function(Ke,pt){this.isEditing=!0,ge(this,Y)||(Ct(this,Y,!0),dt(this,et,ur).call(this),this.thickness||(this.thickness=ht._defaultThickness),this.color||(this.color=ht._defaultColor||O.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ht._defaultOpacity)),this.currentPath.push([Ke,pt]),Ct(this,W,null),dt(this,Be,ei).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ke,pt),Ct(this,ce,()=>{ge(this,ce)&&(ge(this,W)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):dt(this,fe,Wn).call(this),this.ctx.lineTo(...ge(this,W)),Ct(this,W,null),this.ctx.stroke()),window.requestAnimationFrame(ge(this,ce)))}),window.requestAnimationFrame(ge(this,ce))},Qe=new WeakSet,Hi=function(Ke,pt){const[_t,St]=this.currentPath.at(-1);Ke===_t&&pt===St||(this.currentPath.push([Ke,pt]),Ct(this,W,[Ke,pt]))},se=new WeakSet,Vi=function(Ke,pt){var Gt;this.ctx.closePath(),Ct(this,ce,null),Ke=Math.min(Math.max(Ke,0),this.canvas.width),pt=Math.min(Math.max(pt,0),this.canvas.height);const[_t,St]=this.currentPath.at(-1);(Ke!==_t||pt!==St)&&this.currentPath.push([Ke,pt]);let qt;if(this.currentPath.length!==1)qt=(0,R.fitCurve)(this.currentPath,30,null);else{const tn=[Ke,pt];qt=[[tn,tn.slice(),tn.slice(),tn]]}const on=dt(Gt=ht,be,ri).call(Gt,qt);this.currentPath.length=0;const Kt=()=>{this.paths.push(qt),this.bezierPath2D.push(on),this.rebuild()},Zt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(dt(this,Ie,wr).call(this),dt(this,rt,Pr).call(this)),dt(this,Nt,dr).call(this))};this.addCommands({cmd:Kt,undo:Zt,mustExec:!0})},fe=new WeakSet,Wn=function(){if(this.isEmpty()){dt(this,Ee,kr).call(this);return}dt(this,Be,ei).call(this);const{canvas:Ke,ctx:pt}=this;pt.setTransform(1,0,0,1,0,0),pt.clearRect(0,0,Ke.width,Ke.height),dt(this,Ee,kr).call(this);for(const _t of this.bezierPath2D)pt.stroke(_t)},Ae=new WeakSet,ti=function(Ke){dt(this,se,Vi).call(this,Ke.offsetX,Ke.offsetY),this.canvas.removeEventListener("pointerleave",ge(this,ee)),this.canvas.removeEventListener("pointermove",ge(this,Q)),this.addToAnnotationStorage()},Ie=new WeakSet,wr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ht._l10nPromise.get("editor_ink_canvas_aria_label").then(Ke=>{var pt;return(pt=this.canvas)==null?void 0:pt.setAttribute("aria-label",Ke)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rt=new WeakSet,Pr=function(){let Ke=null;Ct(this,q,new ResizeObserver(pt=>{const _t=pt[0].contentRect;_t.width&&_t.height&&(Ke!==null&&clearTimeout(Ke),Ke=setTimeout(()=>{this.fixDims(),Ke=null},pe),this.setDimensions(_t.width,_t.height))})),ge(this,q).observe(this.div)},et=new WeakSet,ur=function(){if(!ge(this,Y))return;const[Ke,pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ke),this.canvas.height=Math.ceil(this.height*pt),dt(this,Ee,kr).call(this)},oe=new WeakSet,ni=function(Ke,pt){const _t=dt(this,Ft,$r).call(this),St=(Ke-_t)/ge(this,ie),qt=(pt-_t)/ge(this,ve);this.scaleFactor=Math.min(St,qt)},Ee=new WeakSet,kr=function(){const Ke=dt(this,Ft,$r).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ke,this.translationY*this.scaleFactor+Ke)},be=new WeakSet,ri=function(Ke){const pt=new Path2D;for(let _t=0,St=Ke.length;_t<St;_t++){const[qt,on,Kt,Zt]=Ke[_t];_t===0&&pt.moveTo(...qt),pt.bezierCurveTo(on[0],on[1],Kt[0],Kt[1],Zt[0],Zt[1])}return pt},tt=new WeakSet,Ui=function(Ke,pt,_t,St){const on=[],Kt=this.thickness/2;let Zt,Gt;for(const tn of this.paths){Zt=[],Gt=[];for(let kn=0,_n=tn.length;kn<_n;kn++){const[En,yn,pn,Fn]=tn[kn],On=Ke*(En[0]+pt)+Kt,qn=St-Ke*(En[1]+_t)-Kt,Nn=Ke*(yn[0]+pt)+Kt,nr=St-Ke*(yn[1]+_t)-Kt,rr=Ke*(pn[0]+pt)+Kt,ir=St-Ke*(pn[1]+_t)-Kt,ar=Ke*(Fn[0]+pt)+Kt,or=St-Ke*(Fn[1]+_t)-Kt;kn===0&&(Zt.push(On,qn),Gt.push(On,qn)),Zt.push(Nn,nr,rr,ir,ar,or),dt(this,it,Wi).call(this,On,qn,Nn,nr,rr,ir,ar,or,4,Gt)}on.push({bezier:Zt,points:Gt})}return on},it=new WeakSet,Wi=function(Ke,pt,_t,St,qt,on,Kt,Zt,Gt,tn){if(dt(this,ft,qi).call(this,Ke,pt,_t,St,qt,on,Kt,Zt)){tn.push(Kt,Zt);return}for(let kn=1;kn<Gt-1;kn++){const _n=kn/Gt,En=1-_n;let yn=_n*Ke+En*_t,pn=_n*pt+En*St,Fn=_n*_t+En*qt,On=_n*St+En*on;const qn=_n*qt+En*Kt,Nn=_n*on+En*Zt;yn=_n*yn+En*Fn,pn=_n*pn+En*On,Fn=_n*Fn+En*qn,On=_n*On+En*Nn,yn=_n*yn+En*Fn,pn=_n*pn+En*On,tn.push(yn,pn)}tn.push(Kt,Zt)},ft=new WeakSet,qi=function(Ke,pt,_t,St,qt,on,Kt,Zt){const tn=(3*_t-2*Ke-Kt)**2,kn=(3*St-2*pt-Zt)**2,_n=(3*qt-Ke-2*Kt)**2,En=(3*on-pt-2*Zt)**2;return Math.max(tn,_n)+Math.max(kn,En)<=10},bt=new WeakSet,ii=function(){let Ke=1/0,pt=-1/0,_t=1/0,St=-1/0;for(const qt of this.paths)for(const[on,Kt,Zt,Gt]of qt){const tn=B.Util.bezierBoundingBox(...on,...Kt,...Zt,...Gt);Ke=Math.min(Ke,tn[0]),_t=Math.min(_t,tn[1]),pt=Math.max(pt,tn[2]),St=Math.max(St,tn[3])}return[Ke,_t,pt,St]},Ft=new WeakSet,$r=function(){return ge(this,J)?Math.ceil(this.thickness*this.parentScale):0},Nt=new WeakSet,dr=function(Ke=!1){if(this.isEmpty())return;if(!ge(this,J)){dt(this,fe,Wn).call(this);return}const pt=dt(this,bt,ii).call(this),_t=dt(this,Ft,$r).call(this);Ct(this,ie,Math.max(de,pt[2]-pt[0])),Ct(this,ve,Math.max(de,pt[3]-pt[1]));const St=Math.ceil(_t+ge(this,ie)*this.scaleFactor),qt=Math.ceil(_t+ge(this,ve)*this.scaleFactor),[on,Kt]=this.parentDimensions;this.width=St/on,this.height=qt/Kt,Ct(this,te,St/qt),dt(this,Re,ai).call(this);const Zt=this.translationX,Gt=this.translationY;this.translationX=-pt[0],this.translationY=-pt[1],dt(this,et,ur).call(this),dt(this,fe,Wn).call(this),Ct(this,V,St),Ct(this,X,qt),this.setDims(St,qt);const tn=Ke?_t/this.scaleFactor/2:0;this.translate(Zt-this.translationX-tn,Gt-this.translationY-tn)},Re=new WeakSet,ai=function(){const{style:Ke}=this.div;ge(this,te)>=1?(Ke.minHeight=`${de}px`,Ke.minWidth=`${Math.round(ge(this,te)*de)}px`):(Ke.minWidth=`${de}px`,Ke.minHeight=`${Math.round(de/ge(this,te))}px`)},at(ht,be),Sn(ht,"_defaultColor",null),Sn(ht,"_defaultOpacity",1),Sn(ht,"_defaultThickness",1),Sn(ht,"_l10nPromise"),Sn(ht,"_type","ink");let ae=ht;$.InkEditor=ae},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const B=H(31);$.fitCurve=B},A=>{function $(ee,G,U){if(!Array.isArray(ee))throw new TypeError("First argument should be an array");if(ee.forEach(q=>{if(!Array.isArray(q)||q.some(V=>typeof V!="number")||q.length!==ee[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),ee=ee.filter((q,V)=>V===0||!q.every((X,ce)=>X===ee[V-1][ce])),ee.length<2)return[];const J=ee.length,Y=ve(ee[1],ee[0]),W=ve(ee[J-2],ee[J-1]);return H(ee,Y,W,G,U)}function H(ee,G,U,J,Y){var q,V,X,ce,me,_e,Ce,le,xe,nt,ze,Ue,Be;if(ee.length===2)return Ue=ie.vectorLen(ie.subtract(ee[0],ee[1]))/3,q=[ee[0],ie.addArrays(ee[0],ie.mulItems(G,Ue)),ie.addArrays(ee[1],ie.mulItems(U,Ue)),ee[1]],[q];if(V=de(ee),[q,ce,_e]=B(ee,V,V,G,U,Y),ce===0||ce<J)return[q];if(ce<J*J)for(X=V,me=ce,Ce=_e,Be=0;Be<20;Be++){if(X=R(q,ee,X),[q,ce,_e]=B(ee,V,X,G,U,Y),ce<J)return[q];if(_e===Ce){let Le=ce/me;if(Le>.9999&&Le<1.0001)break}me=ce,Ce=_e}return ze=[],le=ie.subtract(ee[_e-1],ee[_e+1]),le.every(Le=>Le===0)&&(le=ie.subtract(ee[_e-1],ee[_e]),[le[0],le[1]]=[-le[1],le[0]]),xe=ie.normalize(le),nt=ie.mulItems(xe,-1),ze=ze.concat(H(ee.slice(0,_e+1),G,xe,J,Y)),ze=ze.concat(H(ee.slice(_e),nt,U,J,Y)),ze}function B(ee,G,U,J,Y,W){var q,V,X;return q=O(ee,U,J,Y),[V,X]=pe(ee,q,G),W&&W({bez:q,points:ee,params:G,maxErr:V,maxPoint:X}),[q,V,X]}function O(ee,G,U,J){var Y,W,q,V,X,ce,me,_e,Ce,le,xe,nt,ze,Ue,Be,Le,Oe,Je=ee[0],Qe=ee[ee.length-1];for(Y=[Je,null,null,Qe],W=ie.zeros_Xx2x2(G.length),ze=0,Ue=G.length;ze<Ue;ze++)Le=G[ze],Oe=1-Le,q=W[ze],q[0]=ie.mulItems(U,3*Le*(Oe*Oe)),q[1]=ie.mulItems(J,3*Oe*(Le*Le));for(V=[[0,0],[0,0]],X=[0,0],ze=0,Ue=ee.length;ze<Ue;ze++)Le=G[ze],q=W[ze],V[0][0]+=ie.dot(q[0],q[0]),V[0][1]+=ie.dot(q[0],q[1]),V[1][0]+=ie.dot(q[0],q[1]),V[1][1]+=ie.dot(q[1],q[1]),Be=ie.subtract(ee[ze],Q.q([Je,Je,Qe,Qe],Le)),X[0]+=ie.dot(q[0],Be),X[1]+=ie.dot(q[1],Be);return ce=V[0][0]*V[1][1]-V[1][0]*V[0][1],me=V[0][0]*X[1]-V[1][0]*X[0],_e=X[0]*V[1][1]-X[1]*V[0][1],Ce=ce===0?0:_e/ce,le=ce===0?0:me/ce,nt=ie.vectorLen(ie.subtract(Je,Qe)),xe=1e-6*nt,Ce<xe||le<xe?(Y[1]=ie.addArrays(Je,ie.mulItems(U,nt/3)),Y[2]=ie.addArrays(Qe,ie.mulItems(J,nt/3))):(Y[1]=ie.addArrays(Je,ie.mulItems(U,Ce)),Y[2]=ie.addArrays(Qe,ie.mulItems(J,le))),Y}function R(ee,G,U){return U.map((J,Y)=>re(ee,G[Y],J))}function re(ee,G,U){var J=ie.subtract(Q.q(ee,U),G),Y=Q.qprime(ee,U),W=ie.mulMatrix(J,Y),q=ie.sum(ie.squareItems(Y))+2*ie.mulMatrix(J,Q.qprimeprime(ee,U));return q===0?U:U-W/q}function de(ee){var G=[],U,J,Y;return ee.forEach((W,q)=>{U=q?J+ie.vectorLen(ie.subtract(W,Y)):0,G.push(U),J=U,Y=W}),G=G.map(W=>W/J),G}function pe(ee,G,U){var J,Y,W,q,V,X,ce,me;Y=0,W=Math.floor(ee.length/2);const _e=ae(G,10);for(V=0,X=ee.length;V<X;V++)ce=ee[V],me=te(G,U[V],_e,10),q=ie.subtract(Q.q(G,me),ce),J=q[0]*q[0]+q[1]*q[1],J>Y&&(Y=J,W=V);return[Y,W]}var ae=function(ee,G){for(var U,J=[0],Y=ee[0],W=0,q=1;q<=G;q++)U=Q.q(ee,q/G),W+=ie.vectorLen(ie.subtract(U,Y)),J.push(W),Y=U;return J=J.map(V=>V/W),J};function te(ee,G,U,J){if(G<0)return 0;if(G>1)return 1;for(var Y,W,q,V,X,ce=1;ce<=J;ce++)if(G<=U[ce]){V=(ce-1)/J,q=ce/J,W=U[ce-1],Y=U[ce],X=(G-W)/(Y-W)*(q-V)+V;break}return X}function ve(ee,G){return ie.normalize(ie.subtract(ee,G))}class ie{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(J=>J*U)}static mulMatrix(G,U){return G.reduce((J,Y,W)=>J+Y*U[W],0)}static subtract(G,U){return G.map((J,Y)=>J-U[Y])}static addArrays(G,U){return G.map((J,Y)=>J+U[Y])}static addItems(G,U){return G.map(J=>J+U)}static sum(G){return G.reduce((U,J)=>U+J)}static dot(G,U){return ie.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(J=>J/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class Q{static q(G,U){var J=1-U,Y=ie.mulItems(G[0],J*J*J),W=ie.mulItems(G[1],3*J*J*U),q=ie.mulItems(G[2],3*J*U*U),V=ie.mulItems(G[3],U*U*U);return ie.addArrays(ie.addArrays(Y,W),ie.addArrays(q,V))}static qprime(G,U){var J=1-U,Y=ie.mulItems(ie.subtract(G[1],G[0]),3*J*J),W=ie.mulItems(ie.subtract(G[2],G[1]),6*J*U),q=ie.mulItems(ie.subtract(G[3],G[2]),3*U*U);return ie.addArrays(ie.addArrays(Y,W),q)}static qprimeprime(G,U){return ie.addArrays(ie.mulItems(ie.addArrays(ie.subtract(G[2],ie.mulItems(G[1],2)),G[0]),6*(1-U)),ie.mulItems(ie.addArrays(ie.subtract(G[3],ie.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=H,A.exports.createTangent=ve},(A,$,H)=>{var ne,tr,ye,Gi,Ie,oi,rt,si;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var B=H(1),O=H(6),R=H(3),re=H(33),de=H(34);const pe=1e3,ae=9,te=new WeakSet;function ve(Xe){return{width:Xe[2]-Xe[0],height:Xe[3]-Xe[1]}}class ie{static create(oe){switch(oe.data.annotationType){case B.AnnotationType.LINK:return new ee(oe);case B.AnnotationType.TEXT:return new G(oe);case B.AnnotationType.WIDGET:switch(oe.data.fieldType){case"Tx":return new J(oe);case"Btn":return oe.data.radioButton?new W(oe):oe.data.checkBox?new Y(oe):new q(oe);case"Ch":return new V(oe)}return new U(oe);case B.AnnotationType.POPUP:return new X(oe);case B.AnnotationType.FREETEXT:return new me(oe);case B.AnnotationType.LINE:return new _e(oe);case B.AnnotationType.SQUARE:return new Ce(oe);case B.AnnotationType.CIRCLE:return new le(oe);case B.AnnotationType.POLYLINE:return new xe(oe);case B.AnnotationType.CARET:return new ze(oe);case B.AnnotationType.INK:return new Ue(oe);case B.AnnotationType.POLYGON:return new nt(oe);case B.AnnotationType.HIGHLIGHT:return new Be(oe);case B.AnnotationType.UNDERLINE:return new Le(oe);case B.AnnotationType.SQUIGGLY:return new Oe(oe);case B.AnnotationType.STRIKEOUT:return new Je(oe);case B.AnnotationType.STAMP:return new Qe(oe);case B.AnnotationType.FILEATTACHMENT:return new Se(oe);default:return new Q(oe)}}}class Q{constructor(oe,{isRenderable:ue=!1,ignoreBorder:Ee=!1,createQuadrilaterals:Pe=!1}={}){this.isRenderable=ue,this.data=oe.data,this.layer=oe.layer,this.page=oe.page,this.viewport=oe.viewport,this.linkService=oe.linkService,this.downloadManager=oe.downloadManager,this.imageResourcesPath=oe.imageResourcesPath,this.renderForms=oe.renderForms,this.svgFactory=oe.svgFactory,this.annotationStorage=oe.annotationStorage,this.enableScripting=oe.enableScripting,this.hasJSActions=oe.hasJSActions,this._fieldObjects=oe.fieldObjects,ue&&(this.container=this._createContainer(Ee)),Pe&&(this.quadrilaterals=this._createQuadrilaterals(Ee))}_createContainer(oe=!1){const{data:ue,page:Ee,viewport:Pe}=this,be=document.createElement("section");be.setAttribute("data-annotation-id",ue.id);const{pageWidth:ke,pageHeight:tt,pageX:ot,pageY:it}=Pe.rawDims,{width:Ye,height:ft}=ve(ue.rect),ut=B.Util.normalizeRect([ue.rect[0],Ee.view[3]-ue.rect[1]+Ee.view[1],ue.rect[2],Ee.view[3]-ue.rect[3]+Ee.view[1]]);if(!oe&&ue.borderStyle.width>0){be.style.borderWidth=`${ue.borderStyle.width}px`;const yt=ue.borderStyle.horizontalCornerRadius,Ft=ue.borderStyle.verticalCornerRadius;if(yt>0||Ft>0){const Nt=`calc(${yt}px * var(--scale-factor)) / calc(${Ft}px * var(--scale-factor))`;be.style.borderRadius=Nt}else if(this instanceof W){const Nt=`calc(${Ye}px * var(--scale-factor)) / calc(${ft}px * var(--scale-factor))`;be.style.borderRadius=Nt}switch(ue.borderStyle.style){case B.AnnotationBorderStyleType.SOLID:be.style.borderStyle="solid";break;case B.AnnotationBorderStyleType.DASHED:be.style.borderStyle="dashed";break;case B.AnnotationBorderStyleType.BEVELED:(0,B.warn)("Unimplemented border style: beveled");break;case B.AnnotationBorderStyleType.INSET:(0,B.warn)("Unimplemented border style: inset");break;case B.AnnotationBorderStyleType.UNDERLINE:be.style.borderBottomStyle="solid";break}const zt=ue.borderColor||null;zt?be.style.borderColor=B.Util.makeHexColor(zt[0]|0,zt[1]|0,zt[2]|0):be.style.borderWidth=0}be.style.left=`${100*(ut[0]-ot)/ke}%`,be.style.top=`${100*(ut[1]-it)/tt}%`;const{rotation:bt}=ue;return ue.hasOwnCanvas||bt===0?(be.style.width=`${100*Ye/ke}%`,be.style.height=`${100*ft/tt}%`):this.setRotation(bt,be),be}setRotation(oe,ue=this.container){const{pageWidth:Ee,pageHeight:Pe}=this.viewport.rawDims,{width:be,height:ke}=ve(this.data.rect);let tt,ot;oe%180===0?(tt=100*be/Ee,ot=100*ke/Pe):(tt=100*ke/Ee,ot=100*be/Pe),ue.style.width=`${tt}%`,ue.style.height=`${ot}%`,ue.setAttribute("data-main-rotation",(360-oe)%360)}get _commonActions(){const oe=(ue,Ee,Pe)=>{const be=Pe.detail[ue];Pe.target.style[Ee]=re.ColorConverters[`${be[0]}_HTML`](be.slice(1))};return(0,B.shadow)(this,"_commonActions",{display:ue=>{const Ee=ue.detail.display%2===1;this.container.style.visibility=Ee?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ee,print:ue.detail.display===0||ue.detail.display===3})},print:ue=>{this.annotationStorage.setValue(this.data.id,{print:ue.detail.print})},hidden:ue=>{this.container.style.visibility=ue.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ue.detail.hidden})},focus:ue=>{setTimeout(()=>ue.target.focus({preventScroll:!1}),0)},userName:ue=>{ue.target.title=ue.detail.userName},readonly:ue=>{ue.detail.readonly?ue.target.setAttribute("readonly",""):ue.target.removeAttribute("readonly")},required:ue=>{this._setRequired(ue.target,ue.detail.required)},bgColor:ue=>{oe("bgColor","backgroundColor",ue)},fillColor:ue=>{oe("fillColor","backgroundColor",ue)},fgColor:ue=>{oe("fgColor","color",ue)},textColor:ue=>{oe("textColor","color",ue)},borderColor:ue=>{oe("borderColor","borderColor",ue)},strokeColor:ue=>{oe("strokeColor","borderColor",ue)},rotation:ue=>{const Ee=ue.detail.rotation;this.setRotation(Ee),this.annotationStorage.setValue(this.data.id,{rotation:Ee})}})}_dispatchEventFromSandbox(oe,ue){const Ee=this._commonActions;for(const Pe of Object.keys(ue.detail)){const be=oe[Pe]||Ee[Pe];be==null||be(ue)}}_setDefaultPropertiesFromJS(oe){if(!this.enableScripting)return;const ue=this.annotationStorage.getRawValue(this.data.id);if(!ue)return;const Ee=this._commonActions;for(const[Pe,be]of Object.entries(ue)){const ke=Ee[Pe];if(ke){const tt={detail:{[Pe]:be},target:oe};ke(tt),delete ue[Pe]}}}_createQuadrilaterals(oe=!1){if(!this.data.quadPoints)return null;const ue=[],Ee=this.data.rect;for(const Pe of this.data.quadPoints)this.data.rect=[Pe[2].x,Pe[2].y,Pe[1].x,Pe[1].y],ue.push(this._createContainer(oe));return this.data.rect=Ee,ue}_createPopup(oe,ue){let Ee=this.container;this.quadrilaterals&&(oe=oe||this.quadrilaterals,Ee=this.quadrilaterals[0]),oe||(oe=document.createElement("div"),oe.className="popupTriggerArea",Ee.append(oe));const be=new ce({container:Ee,trigger:oe,color:ue.color,titleObj:ue.titleObj,modificationDate:ue.modificationDate,contentsObj:ue.contentsObj,richText:ue.richText,hideWrapper:!0}).render();be.style.left="100%",Ee.append(be)}_renderQuadrilaterals(oe){for(const ue of this.quadrilaterals)ue.className=oe;return this.quadrilaterals}render(){(0,B.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(oe,ue=null){const Ee=[];if(this._fieldObjects){const Pe=this._fieldObjects[oe];if(Pe)for(const{page:be,id:ke,exportValues:tt}of Pe){if(be===-1||ke===ue)continue;const ot=typeof tt=="string"?tt:null,it=document.querySelector(`[data-element-id="${ke}"]`);if(it&&!te.has(it)){(0,B.warn)(`_getElementsByName - element not allowed: ${ke}`);continue}Ee.push({id:ke,exportValue:ot,domElement:it})}return Ee}for(const Pe of document.getElementsByName(oe)){const{exportValue:be}=Pe,ke=Pe.getAttribute("data-element-id");ke!==ue&&te.has(Pe)&&Ee.push({id:ke,exportValue:be,domElement:Pe})}return Ee}}class ee extends Q{constructor(ue,Ee=null){super(ue,{isRenderable:!0,ignoreBorder:!!(Ee!=null&&Ee.ignoreBorder),createQuadrilaterals:!0});at(this,ne);at(this,ye);this.isTooltipOnly=ue.data.isTooltipOnly}render(){const{data:ue,linkService:Ee}=this,Pe=document.createElement("a");Pe.setAttribute("data-element-id",ue.id);let be=!1;return ue.url?(Ee.addLinkAttributes(Pe,ue.url,ue.newWindow),be=!0):ue.action?(this._bindNamedAction(Pe,ue.action),be=!0):ue.attachment?(this._bindAttachment(Pe,ue.attachment),be=!0):ue.setOCGState?(dt(this,ye,Gi).call(this,Pe,ue.setOCGState),be=!0):ue.dest?(this._bindLink(Pe,ue.dest),be=!0):(ue.actions&&(ue.actions.Action||ue.actions["Mouse Up"]||ue.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Pe,ue),be=!0),ue.resetForm?(this._bindResetFormAction(Pe,ue.resetForm),be=!0):this.isTooltipOnly&&!be&&(this._bindLink(Pe,""),be=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ke,tt)=>{const ot=tt===0?Pe:Pe.cloneNode();return ke.append(ot),ke}):(this.container.className="linkAnnotation",be&&this.container.append(Pe),this.container)}_bindLink(ue,Ee){ue.href=this.linkService.getDestinationHash(Ee),ue.onclick=()=>(Ee&&this.linkService.goToDestination(Ee),!1),(Ee||Ee==="")&&dt(this,ne,tr).call(this)}_bindNamedAction(ue,Ee){ue.href=this.linkService.getAnchorUrl(""),ue.onclick=()=>(this.linkService.executeNamedAction(Ee),!1),dt(this,ne,tr).call(this)}_bindAttachment(ue,Ee){ue.href=this.linkService.getAnchorUrl(""),ue.onclick=()=>{var Pe;return(Pe=this.downloadManager)==null||Pe.openOrDownloadData(this.container,Ee.content,Ee.filename),!1},dt(this,ne,tr).call(this)}_bindJSAction(ue,Ee){ue.href=this.linkService.getAnchorUrl("");const Pe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const be of Object.keys(Ee.actions)){const ke=Pe.get(be);ke&&(ue[ke]=()=>{var tt;return(tt=this.linkService.eventBus)==null||tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee.id,name:be}}),!1})}ue.onclick||(ue.onclick=()=>!1),dt(this,ne,tr).call(this)}_bindResetFormAction(ue,Ee){const Pe=ue.onclick;if(Pe||(ue.href=this.linkService.getAnchorUrl("")),dt(this,ne,tr).call(this),!this._fieldObjects){(0,B.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Pe||(ue.onclick=()=>!1);return}ue.onclick=()=>{var ft;Pe==null||Pe();const{fields:be,refs:ke,include:tt}=Ee,ot=[];if(be.length!==0||ke.length!==0){const ut=new Set(ke);for(const bt of be){const yt=this._fieldObjects[bt]||[];for(const{id:Ft}of yt)ut.add(Ft)}for(const bt of Object.values(this._fieldObjects))for(const yt of bt)ut.has(yt.id)===tt&&ot.push(yt)}else for(const ut of Object.values(this._fieldObjects))ot.push(...ut);const it=this.annotationStorage,Ye=[];for(const ut of ot){const{id:bt}=ut;switch(Ye.push(bt),ut.type){case"text":{const Ft=ut.defaultValue||"";it.setValue(bt,{value:Ft});break}case"checkbox":case"radiobutton":{const Ft=ut.defaultValue===ut.exportValues;it.setValue(bt,{value:Ft});break}case"combobox":case"listbox":{const Ft=ut.defaultValue||"";it.setValue(bt,{value:Ft});break}default:continue}const yt=document.querySelector(`[data-element-id="${bt}"]`);if(yt){if(!te.has(yt)){(0,B.warn)(`_bindResetFormAction - element not allowed: ${bt}`);continue}}else continue;yt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ye,name:"ResetForm"}})),!1}}}ne=new WeakSet,tr=function(){this.container.setAttribute("data-internal-link","")},ye=new WeakSet,Gi=function(ue,Ee){ue.href=this.linkService.getAnchorUrl(""),ue.onclick=()=>(this.linkService.executeSetOCGState(Ee),!1),dt(this,ne,tr).call(this)};class G extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue})}render(){this.container.className="textAnnotation";const oe=document.createElement("img");return oe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",oe.alt="[{{type}} Annotation]",oe.dataset.l10nId="text_annotation_type",oe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(oe,this.data),this.container.append(oe),this.container}}class U extends Q{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(oe){const{isWin:ue,isMac:Ee}=B.FeatureTest.platform;return ue&&oe.ctrlKey||Ee&&oe.metaKey}_setEventListener(oe,ue,Ee,Pe){ue.includes("mouse")?oe.addEventListener(ue,be=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ee,value:Pe(be),shift:be.shiftKey,modifier:this._getKeyModifier(be)}})}):oe.addEventListener(ue,be=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ee,value:Pe(be)}})})}_setEventListeners(oe,ue,Ee){var Pe;for(const[be,ke]of ue)(ke==="Action"||(Pe=this.data.actions)!=null&&Pe[ke])&&this._setEventListener(oe,be,ke,Ee)}_setBackgroundColor(oe){const ue=this.data.backgroundColor||null;oe.style.backgroundColor=ue===null?"transparent":B.Util.makeHexColor(ue[0],ue[1],ue[2])}_setTextStyle(oe){const ue=["left","center","right"],{fontColor:Ee}=this.data.defaultAppearanceData,Pe=this.data.defaultAppearanceData.fontSize||ae,be=oe.style;let ke;const tt=2,ot=it=>Math.round(10*it)/10;if(this.data.multiLine){const it=Math.abs(this.data.rect[3]-this.data.rect[1]-tt),Ye=Math.round(it/(B.LINE_FACTOR*Pe))||1,ft=it/Ye;ke=Math.min(Pe,ot(ft/B.LINE_FACTOR))}else{const it=Math.abs(this.data.rect[3]-this.data.rect[1]-tt);ke=Math.min(Pe,ot(it/B.LINE_FACTOR))}be.fontSize=`calc(${ke}px * var(--scale-factor))`,be.color=B.Util.makeHexColor(Ee[0],Ee[1],Ee[2]),this.data.textAlignment!==null&&(be.textAlign=ue[this.data.textAlignment])}_setRequired(oe,ue){ue?oe.setAttribute("required",!0):oe.removeAttribute("required"),oe.setAttribute("aria-required",ue)}}class J extends U{constructor(oe){const ue=oe.renderForms||!oe.data.hasAppearance&&!!oe.data.fieldValue;super(oe,{isRenderable:ue})}setPropertyOnSiblings(oe,ue,Ee,Pe){const be=this.annotationStorage;for(const ke of this._getElementsByName(oe.name,oe.id))ke.domElement&&(ke.domElement[ue]=Ee),be.setValue(ke.id,{[Pe]:Ee})}render(){var Pe;const oe=this.annotationStorage,ue=this.data.id;this.container.className="textWidgetAnnotation";let Ee=null;if(this.renderForms){const be=oe.getValue(ue,{value:this.data.fieldValue});let ke=be.formattedValue||be.value||"";const tt=oe.getValue(ue,{charLimit:this.data.maxLen}).charLimit;tt&&ke.length>tt&&(ke=ke.slice(0,tt));const ot={userValue:ke,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(Ee=document.createElement("textarea"),Ee.textContent=ke,this.data.doNotScroll&&(Ee.style.overflowY="hidden")):(Ee=document.createElement("input"),Ee.type="text",Ee.setAttribute("value",ke),this.data.doNotScroll&&(Ee.style.overflowX="hidden")),te.add(Ee),Ee.setAttribute("data-element-id",ue),Ee.disabled=this.data.readOnly,Ee.name=this.data.fieldName,Ee.tabIndex=pe,this._setRequired(Ee,this.data.required),tt&&(Ee.maxLength=tt),Ee.addEventListener("input",Ye=>{oe.setValue(ue,{value:Ye.target.value}),this.setPropertyOnSiblings(Ee,"value",Ye.target.value,"value")}),Ee.addEventListener("resetform",Ye=>{const ft=this.data.defaultFieldValue??"";Ee.value=ot.userValue=ft,ot.formattedValue=null});let it=Ye=>{const{formattedValue:ft}=ot;ft!=null&&(Ye.target.value=ft),Ye.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ee.addEventListener("focus",ft=>{const{target:ut}=ft;ot.userValue&&(ut.value=ot.userValue),ot.lastCommittedValue=ut.value,ot.commitKey=1}),Ee.addEventListener("updatefromsandbox",ft=>{const ut={value(bt){ot.userValue=bt.detail.value??"",oe.setValue(ue,{value:ot.userValue.toString()}),bt.target.value=ot.userValue},formattedValue(bt){const{formattedValue:yt}=bt.detail;ot.formattedValue=yt,yt!=null&&bt.target!==document.activeElement&&(bt.target.value=yt),oe.setValue(ue,{formattedValue:yt})},selRange(bt){bt.target.setSelectionRange(...bt.detail.selRange)},charLimit:bt=>{var Nt;const{charLimit:yt}=bt.detail,{target:Ft}=bt;if(yt===0){Ft.removeAttribute("maxLength");return}Ft.setAttribute("maxLength",yt);let zt=ot.userValue;!zt||zt.length<=yt||(zt=zt.slice(0,yt),Ft.value=ot.userValue=zt,oe.setValue(ue,{value:zt}),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ue,name:"Keystroke",value:zt,willCommit:!0,commitKey:1,selStart:Ft.selectionStart,selEnd:Ft.selectionEnd}}))}};this._dispatchEventFromSandbox(ut,ft)}),Ee.addEventListener("keydown",ft=>{var yt;ot.commitKey=1;let ut=-1;if(ft.key==="Escape"?ut=0:ft.key==="Enter"&&!this.data.multiLine?ut=2:ft.key==="Tab"&&(ot.commitKey=3),ut===-1)return;const{value:bt}=ft.target;ot.lastCommittedValue!==bt&&(ot.lastCommittedValue=bt,ot.userValue=bt,(yt=this.linkService.eventBus)==null||yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ue,name:"Keystroke",value:bt,willCommit:!0,commitKey:ut,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}}))});const Ye=it;it=null,Ee.addEventListener("blur",ft=>{var bt;if(!ft.relatedTarget)return;const{value:ut}=ft.target;ot.userValue=ut,ot.lastCommittedValue!==ut&&((bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ue,name:"Keystroke",value:ut,willCommit:!0,commitKey:ot.commitKey,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}})),Ye(ft)}),(Pe=this.data.actions)!=null&&Pe.Keystroke&&Ee.addEventListener("beforeinput",ft=>{var Re;ot.lastCommittedValue=null;const{data:ut,target:bt}=ft,{value:yt,selectionStart:Ft,selectionEnd:zt}=bt;let Nt=Ft,$e=zt;switch(ft.inputType){case"deleteWordBackward":{const Ne=yt.substring(0,Ft).match(/\w*[^\w]*$/);Ne&&(Nt-=Ne[0].length);break}case"deleteWordForward":{const Ne=yt.substring(Ft).match(/^[^\w]*\w*/);Ne&&($e+=Ne[0].length);break}case"deleteContentBackward":Ft===zt&&(Nt-=1);break;case"deleteContentForward":Ft===zt&&($e+=1);break}ft.preventDefault(),(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ue,name:"Keystroke",value:yt,change:ut||"",willCommit:!1,selStart:Nt,selEnd:$e}})}),this._setEventListeners(Ee,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.value)}if(it&&Ee.addEventListener("blur",it),this.data.comb){const ft=(this.data.rect[2]-this.data.rect[0])/tt;Ee.classList.add("comb"),Ee.style.letterSpacing=`calc(${ft}px * var(--scale-factor) - 1ch)`}}else Ee=document.createElement("div"),Ee.textContent=this.data.fieldValue,Ee.style.verticalAlign="middle",Ee.style.display="table-cell";return this._setTextStyle(Ee),this._setBackgroundColor(Ee),this._setDefaultPropertiesFromJS(Ee),this.container.append(Ee),this.container}}class Y extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){const oe=this.annotationStorage,ue=this.data,Ee=ue.id;let Pe=oe.getValue(Ee,{value:ue.exportValue===ue.fieldValue}).value;typeof Pe=="string"&&(Pe=Pe!=="Off",oe.setValue(Ee,{value:Pe})),this.container.className="buttonWidgetAnnotation checkBox";const be=document.createElement("input");return te.add(be),be.setAttribute("data-element-id",Ee),be.disabled=ue.readOnly,this._setRequired(be,this.data.required),be.type="checkbox",be.name=ue.fieldName,Pe&&be.setAttribute("checked",!0),be.setAttribute("exportValue",ue.exportValue),be.tabIndex=pe,be.addEventListener("change",ke=>{const{name:tt,checked:ot}=ke.target;for(const it of this._getElementsByName(tt,Ee)){const Ye=ot&&it.exportValue===ue.exportValue;it.domElement&&(it.domElement.checked=Ye),oe.setValue(it.id,{value:Ye})}oe.setValue(Ee,{value:ot})}),be.addEventListener("resetform",ke=>{const tt=ue.defaultFieldValue||"Off";ke.target.checked=tt===ue.exportValue}),this.enableScripting&&this.hasJSActions&&(be.addEventListener("updatefromsandbox",ke=>{const tt={value(ot){ot.target.checked=ot.detail.value!=="Off",oe.setValue(Ee,{value:ot.target.checked})}};this._dispatchEventFromSandbox(tt,ke)}),this._setEventListeners(be,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.checked)),this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class W extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const oe=this.annotationStorage,ue=this.data,Ee=ue.id;let Pe=oe.getValue(Ee,{value:ue.fieldValue===ue.buttonValue}).value;typeof Pe=="string"&&(Pe=Pe!==ue.buttonValue,oe.setValue(Ee,{value:Pe}));const be=document.createElement("input");if(te.add(be),be.setAttribute("data-element-id",Ee),be.disabled=ue.readOnly,this._setRequired(be,this.data.required),be.type="radio",be.name=ue.fieldName,Pe&&be.setAttribute("checked",!0),be.tabIndex=pe,be.addEventListener("change",ke=>{const{name:tt,checked:ot}=ke.target;for(const it of this._getElementsByName(tt,Ee))oe.setValue(it.id,{value:!1});oe.setValue(Ee,{value:ot})}),be.addEventListener("resetform",ke=>{const tt=ue.defaultFieldValue;ke.target.checked=tt!=null&&tt===ue.buttonValue}),this.enableScripting&&this.hasJSActions){const ke=ue.buttonValue;be.addEventListener("updatefromsandbox",tt=>{const ot={value:it=>{const Ye=ke===it.detail.value;for(const ft of this._getElementsByName(it.target.name)){const ut=Ye&&ft.id===Ee;ft.domElement&&(ft.domElement.checked=ut),oe.setValue(ft.id,{value:ut})}}};this._dispatchEventFromSandbox(ot,tt)}),this._setEventListeners(be,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tt=>tt.target.checked)}return this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class q extends ee{constructor(oe){super(oe,{ignoreBorder:oe.data.hasAppearance})}render(){const oe=super.render();oe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(oe.title=this.data.alternativeText);const ue=oe.lastChild;return this.enableScripting&&this.hasJSActions&&ue&&(this._setDefaultPropertiesFromJS(ue),ue.addEventListener("updatefromsandbox",Ee=>{this._dispatchEventFromSandbox({},Ee)})),oe}}class V extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const oe=this.annotationStorage,ue=this.data.id,Ee=oe.getValue(ue,{value:this.data.fieldValue}),Pe=document.createElement("select");te.add(Pe),Pe.setAttribute("data-element-id",ue),Pe.disabled=this.data.readOnly,this._setRequired(Pe,this.data.required),Pe.name=this.data.fieldName,Pe.tabIndex=pe;let be=this.data.combo&&this.data.options.length>0;this.data.combo||(Pe.size=this.data.options.length,this.data.multiSelect&&(Pe.multiple=!0)),Pe.addEventListener("resetform",Ye=>{const ft=this.data.defaultFieldValue;for(const ut of Pe.options)ut.selected=ut.value===ft});for(const Ye of this.data.options){const ft=document.createElement("option");ft.textContent=Ye.displayValue,ft.value=Ye.exportValue,Ee.value.includes(Ye.exportValue)&&(ft.setAttribute("selected",!0),be=!1),Pe.append(ft)}let ke=null;if(be){const Ye=document.createElement("option");Ye.value=" ",Ye.setAttribute("hidden",!0),Ye.setAttribute("selected",!0),Pe.prepend(Ye),ke=()=>{Ye.remove(),Pe.removeEventListener("input",ke),ke=null},Pe.addEventListener("input",ke)}const tt=Ye=>{const ft=Ye?"value":"textContent",{options:ut,multiple:bt}=Pe;return bt?Array.prototype.filter.call(ut,yt=>yt.selected).map(yt=>yt[ft]):ut.selectedIndex===-1?null:ut[ut.selectedIndex][ft]};let ot=tt(!1);const it=Ye=>{const ft=Ye.target.options;return Array.prototype.map.call(ft,ut=>({displayValue:ut.textContent,exportValue:ut.value}))};return this.enableScripting&&this.hasJSActions?(Pe.addEventListener("updatefromsandbox",Ye=>{const ft={value(ut){ke==null||ke();const bt=ut.detail.value,yt=new Set(Array.isArray(bt)?bt:[bt]);for(const Ft of Pe.options)Ft.selected=yt.has(Ft.value);oe.setValue(ue,{value:tt(!0)}),ot=tt(!1)},multipleSelection(ut){Pe.multiple=!0},remove(ut){const bt=Pe.options,yt=ut.detail.remove;bt[yt].selected=!1,Pe.remove(yt),bt.length>0&&Array.prototype.findIndex.call(bt,zt=>zt.selected)===-1&&(bt[0].selected=!0),oe.setValue(ue,{value:tt(!0),items:it(ut)}),ot=tt(!1)},clear(ut){for(;Pe.length!==0;)Pe.remove(0);oe.setValue(ue,{value:null,items:[]}),ot=tt(!1)},insert(ut){const{index:bt,displayValue:yt,exportValue:Ft}=ut.detail.insert,zt=Pe.children[bt],Nt=document.createElement("option");Nt.textContent=yt,Nt.value=Ft,zt?zt.before(Nt):Pe.append(Nt),oe.setValue(ue,{value:tt(!0),items:it(ut)}),ot=tt(!1)},items(ut){const{items:bt}=ut.detail;for(;Pe.length!==0;)Pe.remove(0);for(const yt of bt){const{displayValue:Ft,exportValue:zt}=yt,Nt=document.createElement("option");Nt.textContent=Ft,Nt.value=zt,Pe.append(Nt)}Pe.options.length>0&&(Pe.options[0].selected=!0),oe.setValue(ue,{value:tt(!0),items:it(ut)}),ot=tt(!1)},indices(ut){const bt=new Set(ut.detail.indices);for(const yt of ut.target.options)yt.selected=bt.has(yt.index);oe.setValue(ue,{value:tt(!0)}),ot=tt(!1)},editable(ut){ut.target.disabled=!ut.detail.editable}};this._dispatchEventFromSandbox(ft,Ye)}),Pe.addEventListener("input",Ye=>{var ut;const ft=tt(!0);oe.setValue(ue,{value:ft}),Ye.preventDefault(),(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ue,name:"Keystroke",value:ot,changeEx:ft,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Pe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ye=>Ye.target.value)):Pe.addEventListener("input",function(Ye){oe.setValue(ue,{value:tt(!0)})}),this.data.combo&&this._setTextStyle(Pe),this._setBackgroundColor(Pe),this._setDefaultPropertiesFromJS(Pe),this.container.append(Pe),this.container}}const Me=class Me extends Q{constructor(oe){var Pe,be,ke;const{data:ue}=oe,Ee=!Me.IGNORE_TYPES.has(ue.parentType)&&!!((Pe=ue.titleObj)!=null&&Pe.str||(be=ue.contentsObj)!=null&&be.str||(ke=ue.richText)!=null&&ke.str);super(oe,{isRenderable:Ee})}render(){this.container.className="popupAnnotation";const oe=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(oe.length===0)return this.container;const ue=new ce({container:this.container,trigger:Array.from(oe),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Ee=this.page,Pe=B.Util.normalizeRect([this.data.parentRect[0],Ee.view[3]-this.data.parentRect[1]+Ee.view[1],this.data.parentRect[2],Ee.view[3]-this.data.parentRect[3]+Ee.view[1]]),be=Pe[0]+this.data.parentRect[2]-this.data.parentRect[0],ke=Pe[1],{pageWidth:tt,pageHeight:ot,pageX:it,pageY:Ye}=this.viewport.rawDims;return this.container.style.left=`${100*(be-it)/tt}%`,this.container.style.top=`${100*(ke-Ye)/ot}%`,this.container.append(ue.render()),this.container}};Sn(Me,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let X=Me;class ce{constructor(oe){this.container=oe.container,this.trigger=oe.trigger,this.color=oe.color,this.titleObj=oe.titleObj,this.modificationDate=oe.modificationDate,this.contentsObj=oe.contentsObj,this.richText=oe.richText,this.hideWrapper=oe.hideWrapper||!1,this.pinned=!1}render(){var tt,ot;const ue=document.createElement("div");ue.className="popupWrapper",this.hideElement=this.hideWrapper?ue:this.container,this.hideElement.hidden=!0;const Ee=document.createElement("div");Ee.className="popup";const Pe=this.color;if(Pe){const it=.7*(255-Pe[0])+Pe[0],Ye=.7*(255-Pe[1])+Pe[1],ft=.7*(255-Pe[2])+Pe[2];Ee.style.backgroundColor=B.Util.makeHexColor(it|0,Ye|0,ft|0)}const be=document.createElement("h1");be.dir=this.titleObj.dir,be.textContent=this.titleObj.str,Ee.append(be);const ke=O.PDFDateString.toDateObject(this.modificationDate);if(ke){const it=document.createElement("span");it.className="popupDate",it.textContent="{{date}}, {{time}}",it.dataset.l10nId="annotation_date_string",it.dataset.l10nArgs=JSON.stringify({date:ke.toLocaleDateString(),time:ke.toLocaleTimeString()}),Ee.append(it)}if((tt=this.richText)!=null&&tt.str&&(!((ot=this.contentsObj)!=null&&ot.str)||this.contentsObj.str===this.richText.str))de.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Ee}),Ee.lastChild.className="richText popupContent";else{const it=this._formatContents(this.contentsObj);Ee.append(it)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const it of this.trigger)it.addEventListener("click",this._toggle.bind(this)),it.addEventListener("mouseover",this._show.bind(this,!1)),it.addEventListener("mouseout",this._hide.bind(this,!1));return Ee.addEventListener("click",this._hide.bind(this,!0)),ue.append(Ee),ue}_formatContents({str:oe,dir:ue}){const Ee=document.createElement("p");Ee.className="popupContent",Ee.dir=ue;const Pe=oe.split(/(?:\r\n?|\n)/);for(let be=0,ke=Pe.length;be<ke;++be){const tt=Pe[be];Ee.append(document.createTextNode(tt)),be<ke-1&&Ee.append(document.createElement("br"))}return Ee}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(oe=!1){oe&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(oe=!0){oe&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class me extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0}),this.textContent=oe.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const oe=document.createElement("div");oe.className="annotationTextContent",oe.setAttribute("role","comment");for(const ue of this.textContent){const Ee=document.createElement("span");Ee.textContent=ue,oe.append(Ee)}this.container.append(oe)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const oe=this.data,{width:ue,height:Ee}=ve(oe.rect),Pe=this.svgFactory.create(ue,Ee,!0),be=this.svgFactory.createElement("svg:line");return be.setAttribute("x1",oe.rect[2]-oe.lineCoordinates[0]),be.setAttribute("y1",oe.rect[3]-oe.lineCoordinates[1]),be.setAttribute("x2",oe.rect[2]-oe.lineCoordinates[2]),be.setAttribute("y2",oe.rect[3]-oe.lineCoordinates[3]),be.setAttribute("stroke-width",oe.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),Pe.append(be),this.container.append(Pe),this._createPopup(be,oe),this.container}}class Ce extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const oe=this.data,{width:ue,height:Ee}=ve(oe.rect),Pe=this.svgFactory.create(ue,Ee,!0),be=oe.borderStyle.width,ke=this.svgFactory.createElement("svg:rect");return ke.setAttribute("x",be/2),ke.setAttribute("y",be/2),ke.setAttribute("width",ue-be),ke.setAttribute("height",Ee-be),ke.setAttribute("stroke-width",be||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Pe.append(ke),this.container.append(Pe),this._createPopup(ke,oe),this.container}}class le extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const oe=this.data,{width:ue,height:Ee}=ve(oe.rect),Pe=this.svgFactory.create(ue,Ee,!0),be=oe.borderStyle.width,ke=this.svgFactory.createElement("svg:ellipse");return ke.setAttribute("cx",ue/2),ke.setAttribute("cy",Ee/2),ke.setAttribute("rx",ue/2-be/2),ke.setAttribute("ry",Ee/2-be/2),ke.setAttribute("stroke-width",be||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Pe.append(ke),this.container.append(Pe),this._createPopup(ke,oe),this.container}}class xe extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const oe=this.data,{width:ue,height:Ee}=ve(oe.rect),Pe=this.svgFactory.create(ue,Ee,!0);let be=[];for(const tt of oe.vertices){const ot=tt.x-oe.rect[0],it=oe.rect[3]-tt.y;be.push(ot+","+it)}be=be.join(" ");const ke=this.svgFactory.createElement(this.svgElementName);return ke.setAttribute("points",be),ke.setAttribute("stroke-width",oe.borderStyle.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Pe.append(ke),this.container.append(Pe),this._createPopup(ke,oe),this.container}}class nt extends xe{constructor(oe){super(oe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ze extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ue extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const oe=this.data,{width:ue,height:Ee}=ve(oe.rect),Pe=this.svgFactory.create(ue,Ee,!0);for(const be of oe.inkLists){let ke=[];for(const ot of be){const it=ot.x-oe.rect[0],Ye=oe.rect[3]-ot.y;ke.push(`${it},${Ye}`)}ke=ke.join(" ");const tt=this.svgFactory.createElement(this.svgElementName);tt.setAttribute("points",ke),tt.setAttribute("stroke-width",oe.borderStyle.width||1),tt.setAttribute("stroke","transparent"),tt.setAttribute("fill","transparent"),this._createPopup(tt,oe),Pe.append(tt)}return this.container.append(Pe),this.container}}class Be extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Le extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Oe extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Je extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Qe extends Q{constructor(oe){var Ee,Pe,be;const ue=!!(oe.data.hasPopup||(Ee=oe.data.titleObj)!=null&&Ee.str||(Pe=oe.data.contentsObj)!=null&&Pe.str||(be=oe.data.richText)!=null&&be.str);super(oe,{isRenderable:ue,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Se extends Q{constructor(oe){var Pe;super(oe,{isRenderable:!0});const{filename:ue,content:Ee}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(ue,!0),this.content=Ee,(Pe=this.linkService.eventBus)==null||Pe.dispatch("fileattachmentannotation",{source:this,filename:ue,content:Ee})}render(){var ue,Ee;this.container.className="fileAttachmentAnnotation";let oe;return this.data.hasAppearance?oe=document.createElement("div"):(oe=document.createElement("img"),oe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),oe.className="popupTriggerArea",oe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((ue=this.data.titleObj)!=null&&ue.str||(Ee=this.data.contentsObj)!=null&&Ee.str||this.data.richText)&&this._createPopup(oe,this.data),this.container.append(oe),this.container}_download(){var oe;(oe=this.downloadManager)==null||oe.openOrDownloadData(this.container,this.content,this.filename)}}const et=class et{static render(oe){var ot,it;const{annotations:ue,div:Ee,viewport:Pe,accessibilityManager:be}=oe;(0,O.setLayerDimensions)(Ee,Pe);const ke={data:null,layer:Ee,page:oe.page,viewport:Pe,linkService:oe.linkService,downloadManager:oe.downloadManager,imageResourcesPath:oe.imageResourcesPath||"",renderForms:oe.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:oe.annotationStorage||new R.AnnotationStorage,enableScripting:oe.enableScripting===!0,hasJSActions:oe.hasJSActions,fieldObjects:oe.fieldObjects};let tt=0;for(const Ye of ue){if(Ye.annotationType!==B.AnnotationType.POPUP){const{width:bt,height:yt}=ve(Ye.rect);if(bt<=0||yt<=0)continue}ke.data=Ye;const ft=ie.create(ke);if(!ft.isRenderable)continue;const ut=ft.render();if(Ye.hidden&&(ut.style.visibility="hidden"),Array.isArray(ut))for(const bt of ut)bt.style.zIndex=tt++,dt(ot=et,Ie,oi).call(ot,bt,Ye.id,Ee,be);else ut.style.zIndex=tt++,ft instanceof X?Ee.prepend(ut):dt(it=et,Ie,oi).call(it,ut,Ye.id,Ee,be)}dt(this,rt,si).call(this,Ee,oe.annotationCanvasMap)}static update(oe){const{annotationCanvasMap:ue,div:Ee,viewport:Pe}=oe;(0,O.setLayerDimensions)(Ee,{rotation:Pe.rotation}),dt(this,rt,si).call(this,Ee,ue),Ee.hidden=!1}};Ie=new WeakSet,oi=function(oe,ue,Ee,Pe){const be=oe.firstChild||oe;be.id=`${O.AnnotationPrefix}${ue}`,Ee.append(oe),Pe==null||Pe.moveElementInDOM(Ee,oe,be,!1)},rt=new WeakSet,si=function(oe,ue){if(ue){for(const[Ee,Pe]of ue){const be=oe.querySelector(`[data-annotation-id="${Ee}"]`);if(!be)continue;const{firstChild:ke}=be;ke?ke.nodeName==="CANVAS"?ke.replaceWith(Pe):ke.before(Pe):be.append(Pe)}ue.clear()}},at(et,Ie),at(et,rt);let se=et;$.AnnotationLayer=se},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(O){return Math.floor(Math.max(0,Math.min(1,O))*255).toString(16).padStart(2,"0")}class B{static CMYK_G([R,re,de,pe]){return["G",1-Math.min(1,.3*R+.59*de+.11*re+pe)]}static G_CMYK([R]){return["CMYK",0,0,0,1-R]}static G_RGB([R]){return["RGB",R,R,R]}static G_HTML([R]){const re=H(R);return`#${re}${re}${re}`}static RGB_G([R,re,de]){return["G",.3*R+.59*re+.11*de]}static RGB_HTML([R,re,de]){const pe=H(R),ae=H(re),te=H(de);return`#${pe}${ae}${te}`}static T_HTML(){return"#00000000"}static CMYK_RGB([R,re,de,pe]){return["RGB",1-Math.min(1,R+pe),1-Math.min(1,de+pe),1-Math.min(1,re+pe)]}static CMYK_HTML(R){const re=this.CMYK_RGB(R).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([R,re,de]){const pe=1-R,ae=1-re,te=1-de,ve=Math.min(pe,ae,te);return["CMYK",pe,ae,te,ve]}}$.ColorConverters=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var B=H(19);class O{static setupStorage(re,de,pe,ae,te){const ve=ae.getValue(de,{value:null});switch(pe.name){case"textarea":if(ve.value!==null&&(re.textContent=ve.value),te==="print")break;re.addEventListener("input",ie=>{ae.setValue(de,{value:ie.target.value})});break;case"input":if(pe.attributes.type==="radio"||pe.attributes.type==="checkbox"){if(ve.value===pe.attributes.xfaOn?re.setAttribute("checked",!0):ve.value===pe.attributes.xfaOff&&re.removeAttribute("checked"),te==="print")break;re.addEventListener("change",ie=>{ae.setValue(de,{value:ie.target.checked?ie.target.getAttribute("xfaOn"):ie.target.getAttribute("xfaOff")})})}else{if(ve.value!==null&&re.setAttribute("value",ve.value),te==="print")break;re.addEventListener("input",ie=>{ae.setValue(de,{value:ie.target.value})})}break;case"select":if(ve.value!==null)for(const ie of pe.children)ie.attributes.value===ve.value&&(ie.attributes.selected=!0);re.addEventListener("input",ie=>{const Q=ie.target.options,ee=Q.selectedIndex===-1?"":Q[Q.selectedIndex].value;ae.setValue(de,{value:ee})});break}}static setAttributes({html:re,element:de,storage:pe=null,intent:ae,linkService:te}){const{attributes:ve}=de,ie=re instanceof HTMLAnchorElement;ve.type==="radio"&&(ve.name=`${ve.name}-${ae}`);for(const[Q,ee]of Object.entries(ve))if(ee!=null)switch(Q){case"class":ee.length&&re.setAttribute(Q,ee.join(" "));break;case"dataId":break;case"id":re.setAttribute("data-element-id",ee);break;case"style":Object.assign(re.style,ee);break;case"textContent":re.textContent=ee;break;default:(!ie||Q!=="href"&&Q!=="newWindow")&&re.setAttribute(Q,ee)}ie&&te.addLinkAttributes(re,ve.href,ve.newWindow),pe&&ve.dataId&&this.setupStorage(re,ve.dataId,de,pe)}static render(re){var G;const de=re.annotationStorage,pe=re.linkService,ae=re.xfaHtml,te=re.intent||"display",ve=document.createElement(ae.name);ae.attributes&&this.setAttributes({html:ve,element:ae,intent:te,linkService:pe});const ie=[[ae,-1,ve]],Q=re.div;if(Q.append(ve),re.viewport){const U=`matrix(${re.viewport.transform.join(",")})`;Q.style.transform=U}te!=="richText"&&Q.setAttribute("class","xfaLayer xfaFont");const ee=[];for(;ie.length>0;){const[U,J,Y]=ie.at(-1);if(J+1===U.children.length){ie.pop();continue}const W=U.children[++ie.at(-1)[1]];if(W===null)continue;const{name:q}=W;if(q==="#text"){const X=document.createTextNode(W.value);ee.push(X),Y.append(X);continue}let V;if((G=W==null?void 0:W.attributes)!=null&&G.xmlns?V=document.createElementNS(W.attributes.xmlns,q):V=document.createElement(q),Y.append(V),W.attributes&&this.setAttributes({html:V,element:W,storage:de,intent:te,linkService:pe}),W.children&&W.children.length>0)ie.push([W,-1,V]);else if(W.value){const X=document.createTextNode(W.value);B.XfaText.shouldBuildText(q)&&ee.push(X),V.append(X)}}for(const U of Q.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:ee}}static update(re){const de=`matrix(${re.viewport.transform.join(",")})`;re.div.style.transform=de,re.div.hidden=!1}}$.XfaLayer=O},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var B=H(6),O=H(1),R=H(10);let re=class{constructor(){(0,O.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=re;{let G=function(V){let X=[];const ce=[];for(const me of V){if(me.fn==="save"){X.push({fnId:92,fn:"group",items:[]}),ce.push(X),X=X.at(-1).items;continue}me.fn==="restore"?X=ce.pop():X.push(me)}return X},U=function(V){if(Number.isInteger(V))return V.toString();const X=V.toFixed(10);let ce=X.length-1;if(X[ce]!=="0")return X;do ce--;while(X[ce]==="0");return X.substring(0,X[ce]==="."?ce:ce+1)},J=function(V){if(V[4]===0&&V[5]===0){if(V[1]===0&&V[2]===0)return V[0]===1&&V[3]===1?"":`scale(${U(V[0])} ${U(V[3])})`;if(V[0]===V[3]&&V[1]===-V[2]){const X=Math.acos(V[0])*180/Math.PI;return`rotate(${U(X)})`}}else if(V[0]===1&&V[1]===0&&V[2]===0&&V[3]===1)return`translate(${U(V[4])} ${U(V[5])})`;return`matrix(${U(V[0])} ${U(V[1])} ${U(V[2])} ${U(V[3])} ${U(V[4])} ${U(V[5])})`};const de={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},pe="http://www.w3.org/XML/1998/namespace",ae="http://www.w3.org/1999/xlink",te=["butt","round","square"],ve=["miter","round","bevel"],ie=function(V,X="",ce=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ce)return URL.createObjectURL(new Blob([V],{type:X}));const me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _e=`data:${X};base64,`;for(let Ce=0,le=V.length;Ce<le;Ce+=3){const xe=V[Ce]&255,nt=V[Ce+1]&255,ze=V[Ce+2]&255,Ue=xe>>2,Be=(xe&3)<<4|nt>>4,Le=Ce+1<le?(nt&15)<<2|ze>>6:64,Oe=Ce+2<le?ze&63:64;_e+=me[Ue]+me[Be]+me[Le]+me[Oe]}return _e},Q=function(){const V=new Uint8Array([137,80,78,71,13,10,26,10]),X=12,ce=new Int32Array(256);for(let ze=0;ze<256;ze++){let Ue=ze;for(let Be=0;Be<8;Be++)Ue&1?Ue=3988292384^Ue>>1&2147483647:Ue=Ue>>1&2147483647;ce[ze]=Ue}function me(ze,Ue,Be){let Le=-1;for(let Oe=Ue;Oe<Be;Oe++){const Je=(Le^ze[Oe])&255,Qe=ce[Je];Le=Le>>>8^Qe}return Le^-1}function _e(ze,Ue,Be,Le){let Oe=Le;const Je=Ue.length;Be[Oe]=Je>>24&255,Be[Oe+1]=Je>>16&255,Be[Oe+2]=Je>>8&255,Be[Oe+3]=Je&255,Oe+=4,Be[Oe]=ze.charCodeAt(0)&255,Be[Oe+1]=ze.charCodeAt(1)&255,Be[Oe+2]=ze.charCodeAt(2)&255,Be[Oe+3]=ze.charCodeAt(3)&255,Oe+=4,Be.set(Ue,Oe),Oe+=Ue.length;const Qe=me(Be,Le+4,Oe);Be[Oe]=Qe>>24&255,Be[Oe+1]=Qe>>16&255,Be[Oe+2]=Qe>>8&255,Be[Oe+3]=Qe&255}function Ce(ze,Ue,Be){let Le=1,Oe=0;for(let Je=Ue;Je<Be;++Je)Le=(Le+(ze[Je]&255))%65521,Oe=(Oe+Le)%65521;return Oe<<16|Le}function le(ze){if(!R.isNodeJS)return xe(ze);try{let Ue;parseInt(process.versions.node)>=8?Ue=ze:Ue=Buffer.from(ze);const Be=require$$5.deflateSync(Ue,{level:9});return Be instanceof Uint8Array?Be:new Uint8Array(Be)}catch(Ue){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ue)}return xe(ze)}function xe(ze){let Ue=ze.length;const Be=65535,Le=Math.ceil(Ue/Be),Oe=new Uint8Array(2+Ue+Le*5+4);let Je=0;Oe[Je++]=120,Oe[Je++]=156;let Qe=0;for(;Ue>Be;)Oe[Je++]=0,Oe[Je++]=255,Oe[Je++]=255,Oe[Je++]=0,Oe[Je++]=0,Oe.set(ze.subarray(Qe,Qe+Be),Je),Je+=Be,Qe+=Be,Ue-=Be;Oe[Je++]=1,Oe[Je++]=Ue&255,Oe[Je++]=Ue>>8&255,Oe[Je++]=~Ue&65535&255,Oe[Je++]=(~Ue&65535)>>8&255,Oe.set(ze.subarray(Qe),Je),Je+=ze.length-Qe;const Se=Ce(ze,0,ze.length);return Oe[Je++]=Se>>24&255,Oe[Je++]=Se>>16&255,Oe[Je++]=Se>>8&255,Oe[Je++]=Se&255,Oe}function nt(ze,Ue,Be,Le){const Oe=ze.width,Je=ze.height;let Qe,Se,se;const ne=ze.data;switch(Ue){case O.ImageKind.GRAYSCALE_1BPP:Se=0,Qe=1,se=Oe+7>>3;break;case O.ImageKind.RGB_24BPP:Se=2,Qe=8,se=Oe*3;break;case O.ImageKind.RGBA_32BPP:Se=6,Qe=8,se=Oe*4;break;default:throw new Error("invalid format")}const fe=new Uint8Array((1+se)*Je);let ye=0,Ae=0;for(let et=0;et<Je;++et)fe[ye++]=0,fe.set(ne.subarray(Ae,Ae+se),ye),Ae+=se,ye+=se;if(Ue===O.ImageKind.GRAYSCALE_1BPP&&Le){ye=0;for(let et=0;et<Je;et++){ye++;for(let Xe=0;Xe<se;Xe++)fe[ye++]^=255}}const Me=new Uint8Array([Oe>>24&255,Oe>>16&255,Oe>>8&255,Oe&255,Je>>24&255,Je>>16&255,Je>>8&255,Je&255,Qe,Se,0,0,0]),Ie=le(fe),qe=V.length+X*3+Me.length+Ie.length,rt=new Uint8Array(qe);let Ze=0;return rt.set(V,Ze),Ze+=V.length,_e("IHDR",Me,rt,Ze),Ze+=X+Me.length,_e("IDATA",Ie,rt,Ze),Ze+=X+Ie.length,_e("IEND",new Uint8Array(0),rt,Ze),ie(rt,"image/png",Be)}return function(Ue,Be,Le){const Oe=Ue.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:Ue.kind;return nt(Ue,Oe,Be,Le)}}();class ee{constructor(){this.fontSizeScale=1,this.fontWeight=de.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=de.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(X,ce){this.x=X,this.y=ce}}let Y=0,W=0,q=0;$.SVGGraphics=re=class{constructor(V,X,ce=!1){(0,B.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new B.DOMSVGFactory,this.current=new ee,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=V,this.objs=X,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ce,this._operatorIdMapping=[];for(const me in O.OPS)this._operatorIdMapping[O.OPS[me]]=me}getObject(V,X=null){return typeof V=="string"?V.startsWith("g_")?this.commonObjs.get(V):this.objs.get(V):X}save(){this.transformStack.push(this.transformMatrix);const V=this.current;this.extraStack.push(V),this.current=V.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(V){this.save(),this.executeOpTree(V),this.restore()}loadDependencies(V){const X=V.fnArray,ce=V.argsArray;for(let me=0,_e=X.length;me<_e;me++)if(X[me]===O.OPS.dependency)for(const Ce of ce[me]){const le=Ce.startsWith("g_")?this.commonObjs:this.objs,xe=new Promise(nt=>{le.get(Ce,nt)});this.current.dependencies.push(xe)}return Promise.all(this.current.dependencies)}transform(V,X,ce,me,_e,Ce){const le=[V,X,ce,me,_e,Ce];this.transformMatrix=O.Util.transform(this.transformMatrix,le),this.tgrp=null}getSVG(V,X){this.viewport=X;const ce=this._initialize(X);return this.loadDependencies(V).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(V)),ce))}convertOpList(V){const X=this._operatorIdMapping,ce=V.argsArray,me=V.fnArray,_e=[];for(let Ce=0,le=me.length;Ce<le;Ce++){const xe=me[Ce];_e.push({fnId:xe,fn:X[xe],args:ce[Ce]})}return G(_e)}executeOpTree(V){for(const X of V){const ce=X.fn,me=X.fnId,_e=X.args;switch(me|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(_e);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(_e[0],_e[1]);break;case O.OPS.setFont:this.setFont(_e);break;case O.OPS.showText:this.showText(_e[0]);break;case O.OPS.showSpacedText:this.showText(_e[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(_e[0],_e[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(_e[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(_e[0]);break;case O.OPS.setHScale:this.setHScale(_e[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);break;case O.OPS.setTextRise:this.setTextRise(_e[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(_e[0]);break;case O.OPS.setLineWidth:this.setLineWidth(_e[0]);break;case O.OPS.setLineJoin:this.setLineJoin(_e[0]);break;case O.OPS.setLineCap:this.setLineCap(_e[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(_e[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(_e[0],_e[1],_e[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_e[0],_e[1],_e[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(_e);break;case O.OPS.setFillColorN:this.setFillColorN(_e);break;case O.OPS.shadingFill:this.shadingFill(_e[0]);break;case O.OPS.setDash:this.setDash(_e[0],_e[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(_e[0]);break;case O.OPS.setFlatness:this.setFlatness(_e[0]);break;case O.OPS.setGState:this.setGState(_e[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(_e[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_e[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_e[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_e[0],_e[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);break;case O.OPS.constructPath:this.constructPath(_e[0],_e[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(X.items);break;default:(0,O.warn)(`Unimplemented operator ${ce}`);break}}}setWordSpacing(V){this.current.wordSpacing=V}setCharSpacing(V){this.current.charSpacing=V}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(V,X,ce,me,_e,Ce){const le=this.current;le.textMatrix=le.lineMatrix=[V,X,ce,me,_e,Ce],le.textMatrixScale=Math.hypot(V,X),le.x=le.lineX=0,le.y=le.lineY=0,le.xcoords=[],le.ycoords=[],le.tspan=this.svgFactory.createElement("svg:tspan"),le.tspan.setAttributeNS(null,"font-family",le.fontFamily),le.tspan.setAttributeNS(null,"font-size",`${U(le.fontSize)}px`),le.tspan.setAttributeNS(null,"y",U(-le.y)),le.txtElement=this.svgFactory.createElement("svg:text"),le.txtElement.append(le.tspan)}beginText(){const V=this.current;V.x=V.lineX=0,V.y=V.lineY=0,V.textMatrix=O.IDENTITY_MATRIX,V.lineMatrix=O.IDENTITY_MATRIX,V.textMatrixScale=1,V.tspan=this.svgFactory.createElement("svg:tspan"),V.txtElement=this.svgFactory.createElement("svg:text"),V.txtgrp=this.svgFactory.createElement("svg:g"),V.xcoords=[],V.ycoords=[]}moveText(V,X){const ce=this.current;ce.x=ce.lineX+=V,ce.y=ce.lineY+=X,ce.xcoords=[],ce.ycoords=[],ce.tspan=this.svgFactory.createElement("svg:tspan"),ce.tspan.setAttributeNS(null,"font-family",ce.fontFamily),ce.tspan.setAttributeNS(null,"font-size",`${U(ce.fontSize)}px`),ce.tspan.setAttributeNS(null,"y",U(-ce.y))}showText(V){const X=this.current,ce=X.font,me=X.fontSize;if(me===0)return;const _e=X.fontSizeScale,Ce=X.charSpacing,le=X.wordSpacing,xe=X.fontDirection,nt=X.textHScale*xe,ze=ce.vertical,Ue=ze?1:-1,Be=ce.defaultVMetrics,Le=me*X.fontMatrix[0];let Oe=0;for(const Se of V){if(Se===null){Oe+=xe*le;continue}else if(typeof Se=="number"){Oe+=Ue*Se*me/1e3;continue}const se=(Se.isSpace?le:0)+Ce,ne=Se.fontChar;let fe,ye,Ae=Se.width;if(ze){let Ie;const qe=Se.vmetric||Be;Ie=Se.vmetric?qe[1]:Ae*.5,Ie=-Ie*Le;const rt=qe[2]*Le;Ae=qe?-qe[0]:Ae,fe=Ie/_e,ye=(Oe+rt)/_e}else fe=Oe/_e,ye=0;(Se.isInFont||ce.missingFile)&&(X.xcoords.push(X.x+fe),ze&&X.ycoords.push(-X.y+ye),X.tspan.textContent+=ne);let Me;ze?Me=Ae*Le-se*xe:Me=Ae*Le+se*xe,Oe+=Me}X.tspan.setAttributeNS(null,"x",X.xcoords.map(U).join(" ")),ze?X.tspan.setAttributeNS(null,"y",X.ycoords.map(U).join(" ")):X.tspan.setAttributeNS(null,"y",U(-X.y)),ze?X.y-=Oe:X.x+=Oe*nt,X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size",`${U(X.fontSize)}px`),X.fontStyle!==de.fontStyle&&X.tspan.setAttributeNS(null,"font-style",X.fontStyle),X.fontWeight!==de.fontWeight&&X.tspan.setAttributeNS(null,"font-weight",X.fontWeight);const Je=X.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(Je===O.TextRenderingMode.FILL||Je===O.TextRenderingMode.FILL_STROKE?(X.fillColor!==de.fillColor&&X.tspan.setAttributeNS(null,"fill",X.fillColor),X.fillAlpha<1&&X.tspan.setAttributeNS(null,"fill-opacity",X.fillAlpha)):X.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?X.tspan.setAttributeNS(null,"fill","transparent"):X.tspan.setAttributeNS(null,"fill","none"),Je===O.TextRenderingMode.STROKE||Je===O.TextRenderingMode.FILL_STROKE){const Se=1/(X.textMatrixScale||1);this._setStrokeAttributes(X.tspan,Se)}let Qe=X.textMatrix;X.textRise!==0&&(Qe=Qe.slice(),Qe[5]+=X.textRise),X.txtElement.setAttributeNS(null,"transform",`${J(Qe)} scale(${U(nt)}, -1)`),X.txtElement.setAttributeNS(pe,"xml:space","preserve"),X.txtElement.append(X.tspan),X.txtgrp.append(X.txtElement),this._ensureTransformGroup().append(X.txtElement)}setLeadingMoveText(V,X){this.setLeading(-X),this.moveText(V,X)}addFontStyle(V){if(!V.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const X=ie(V.data,V.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${V.loadedName}"; src: url(${X}); }
`}setFont(V){const X=this.current,ce=this.commonObjs.get(V[0]);let me=V[1];X.font=ce,this.embedFonts&&!ce.missingFile&&!this.embeddedFonts[ce.loadedName]&&(this.addFontStyle(ce),this.embeddedFonts[ce.loadedName]=ce),X.fontMatrix=ce.fontMatrix||O.FONT_IDENTITY_MATRIX;let _e="normal";ce.black?_e="900":ce.bold&&(_e="bold");const Ce=ce.italic?"italic":"normal";me<0?(me=-me,X.fontDirection=-1):X.fontDirection=1,X.fontSize=me,X.fontFamily=ce.loadedName,X.fontWeight=_e,X.fontStyle=Ce,X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"y",U(-X.y)),X.xcoords=[],X.ycoords=[]}endText(){var X;const V=this.current;V.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((X=V.txtElement)!=null&&X.hasChildNodes())&&(V.element=V.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(V){V>0&&(this.current.lineWidth=V)}setLineCap(V){this.current.lineCap=te[V]}setLineJoin(V){this.current.lineJoin=ve[V]}setMiterLimit(V){this.current.miterLimit=V}setStrokeAlpha(V){this.current.strokeAlpha=V}setStrokeRGBColor(V,X,ce){this.current.strokeColor=O.Util.makeHexColor(V,X,ce)}setFillAlpha(V){this.current.fillAlpha=V}setFillRGBColor(V,X,ce){this.current.fillColor=O.Util.makeHexColor(V,X,ce),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(V){this.current.strokeColor=this._makeColorN_Pattern(V)}setFillColorN(V){this.current.fillColor=this._makeColorN_Pattern(V)}shadingFill(V){const X=this.viewport.width,ce=this.viewport.height,me=O.Util.inverseTransform(this.transformMatrix),_e=O.Util.applyTransform([0,0],me),Ce=O.Util.applyTransform([0,ce],me),le=O.Util.applyTransform([X,0],me),xe=O.Util.applyTransform([X,ce],me),nt=Math.min(_e[0],Ce[0],le[0],xe[0]),ze=Math.min(_e[1],Ce[1],le[1],xe[1]),Ue=Math.max(_e[0],Ce[0],le[0],xe[0]),Be=Math.max(_e[1],Ce[1],le[1],xe[1]),Le=this.svgFactory.createElement("svg:rect");Le.setAttributeNS(null,"x",nt),Le.setAttributeNS(null,"y",ze),Le.setAttributeNS(null,"width",Ue-nt),Le.setAttributeNS(null,"height",Be-ze),Le.setAttributeNS(null,"fill",this._makeShadingPattern(V)),this.current.fillAlpha<1&&Le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Le)}_makeColorN_Pattern(V){return V[0]==="TilingPattern"?this._makeTilingPattern(V):this._makeShadingPattern(V)}_makeTilingPattern(V){const X=V[1],ce=V[2],me=V[3]||O.IDENTITY_MATRIX,[_e,Ce,le,xe]=V[4],nt=V[5],ze=V[6],Ue=V[7],Be=`shading${q++}`,[Le,Oe,Je,Qe]=O.Util.normalizeRect([...O.Util.applyTransform([_e,Ce],me),...O.Util.applyTransform([le,xe],me)]),[Se,se]=O.Util.singularValueDecompose2dScale(me),ne=nt*Se,fe=ze*se,ye=this.svgFactory.createElement("svg:pattern");ye.setAttributeNS(null,"id",Be),ye.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ye.setAttributeNS(null,"width",ne),ye.setAttributeNS(null,"height",fe),ye.setAttributeNS(null,"x",`${Le}`),ye.setAttributeNS(null,"y",`${Oe}`);const Ae=this.svg,Me=this.transformMatrix,Ie=this.current.fillColor,qe=this.current.strokeColor,rt=this.svgFactory.create(Je-Le,Qe-Oe);if(this.svg=rt,this.transformMatrix=me,Ue===2){const Ze=O.Util.makeHexColor(...X);this.current.fillColor=Ze,this.current.strokeColor=Ze}return this.executeOpTree(this.convertOpList(ce)),this.svg=Ae,this.transformMatrix=Me,this.current.fillColor=Ie,this.current.strokeColor=qe,ye.append(rt.childNodes[0]),this.defs.append(ye),`url(#${Be})`}_makeShadingPattern(V){switch(typeof V=="string"&&(V=this.objs.get(V)),V[0]){case"RadialAxial":const X=`shading${q++}`,ce=V[3];let me;switch(V[1]){case"axial":const _e=V[4],Ce=V[5];me=this.svgFactory.createElement("svg:linearGradient"),me.setAttributeNS(null,"id",X),me.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),me.setAttributeNS(null,"x1",_e[0]),me.setAttributeNS(null,"y1",_e[1]),me.setAttributeNS(null,"x2",Ce[0]),me.setAttributeNS(null,"y2",Ce[1]);break;case"radial":const le=V[4],xe=V[5],nt=V[6],ze=V[7];me=this.svgFactory.createElement("svg:radialGradient"),me.setAttributeNS(null,"id",X),me.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),me.setAttributeNS(null,"cx",xe[0]),me.setAttributeNS(null,"cy",xe[1]),me.setAttributeNS(null,"r",ze),me.setAttributeNS(null,"fx",le[0]),me.setAttributeNS(null,"fy",le[1]),me.setAttributeNS(null,"fr",nt);break;default:throw new Error(`Unknown RadialAxial type: ${V[1]}`)}for(const _e of ce){const Ce=this.svgFactory.createElement("svg:stop");Ce.setAttributeNS(null,"offset",_e[0]),Ce.setAttributeNS(null,"stop-color",_e[1]),me.append(Ce)}return this.defs.append(me),`url(#${X})`;case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${V[0]}`)}}setDash(V,X){this.current.dashArray=V,this.current.dashPhase=X}constructPath(V,X){const ce=this.current;let me=ce.x,_e=ce.y,Ce=[],le=0;for(const xe of V)switch(xe|0){case O.OPS.rectangle:me=X[le++],_e=X[le++];const nt=X[le++],ze=X[le++],Ue=me+nt,Be=_e+ze;Ce.push("M",U(me),U(_e),"L",U(Ue),U(_e),"L",U(Ue),U(Be),"L",U(me),U(Be),"Z");break;case O.OPS.moveTo:me=X[le++],_e=X[le++],Ce.push("M",U(me),U(_e));break;case O.OPS.lineTo:me=X[le++],_e=X[le++],Ce.push("L",U(me),U(_e));break;case O.OPS.curveTo:me=X[le+4],_e=X[le+5],Ce.push("C",U(X[le]),U(X[le+1]),U(X[le+2]),U(X[le+3]),U(me),U(_e)),le+=6;break;case O.OPS.curveTo2:Ce.push("C",U(me),U(_e),U(X[le]),U(X[le+1]),U(X[le+2]),U(X[le+3])),me=X[le+2],_e=X[le+3],le+=4;break;case O.OPS.curveTo3:me=X[le+2],_e=X[le+3],Ce.push("C",U(X[le]),U(X[le+1]),U(me),U(_e),U(me),U(_e)),le+=4;break;case O.OPS.closePath:Ce.push("Z");break}Ce=Ce.join(" "),ce.path&&V.length>0&&V[0]!==O.OPS.rectangle&&V[0]!==O.OPS.moveTo?Ce=ce.path.getAttributeNS(null,"d")+Ce:(ce.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ce.path)),ce.path.setAttributeNS(null,"d",Ce),ce.path.setAttributeNS(null,"fill","none"),ce.element=ce.path,ce.setCurrentPoint(me,_e)}endPath(){const V=this.current;if(V.path=null,!this.pendingClip)return;if(!V.element){this.pendingClip=null;return}const X=`clippath${Y++}`,ce=this.svgFactory.createElement("svg:clipPath");ce.setAttributeNS(null,"id",X),ce.setAttributeNS(null,"transform",J(this.transformMatrix));const me=V.element.cloneNode(!0);if(this.pendingClip==="evenodd"?me.setAttributeNS(null,"clip-rule","evenodd"):me.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ce.append(me),this.defs.append(ce),V.activeClipUrl){V.clipGroup=null;for(const _e of this.extraStack)_e.clipGroup=null;ce.setAttributeNS(null,"clip-path",V.activeClipUrl)}V.activeClipUrl=`url(#${X})`,this.tgrp=null}clip(V){this.pendingClip=V}closePath(){const V=this.current;if(V.path){const X=`${V.path.getAttributeNS(null,"d")}Z`;V.path.setAttributeNS(null,"d",X)}}setLeading(V){this.current.leading=-V}setTextRise(V){this.current.textRise=V}setTextRenderingMode(V){this.current.textRenderingMode=V}setHScale(V){this.current.textHScale=V/100}setRenderingIntent(V){}setFlatness(V){}setGState(V){for(const[X,ce]of V)switch(X){case"LW":this.setLineWidth(ce);break;case"LC":this.setLineCap(ce);break;case"LJ":this.setLineJoin(ce);break;case"ML":this.setMiterLimit(ce);break;case"D":this.setDash(ce[0],ce[1]);break;case"RI":this.setRenderingIntent(ce);break;case"FL":this.setFlatness(ce);break;case"Font":this.setFont(ce);break;case"CA":this.setStrokeAlpha(ce);break;case"ca":this.setFillAlpha(ce);break;default:(0,O.warn)(`Unimplemented graphic state operator ${X}`);break}}fill(){const V=this.current;V.element&&(V.element.setAttributeNS(null,"fill",V.fillColor),V.element.setAttributeNS(null,"fill-opacity",V.fillAlpha),this.endPath())}stroke(){const V=this.current;V.element&&(this._setStrokeAttributes(V.element),V.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(V,X=1){const ce=this.current;let me=ce.dashArray;X!==1&&me.length>0&&(me=me.map(function(_e){return X*_e})),V.setAttributeNS(null,"stroke",ce.strokeColor),V.setAttributeNS(null,"stroke-opacity",ce.strokeAlpha),V.setAttributeNS(null,"stroke-miterlimit",U(ce.miterLimit)),V.setAttributeNS(null,"stroke-linecap",ce.lineCap),V.setAttributeNS(null,"stroke-linejoin",ce.lineJoin),V.setAttributeNS(null,"stroke-width",U(X*ce.lineWidth)+"px"),V.setAttributeNS(null,"stroke-dasharray",me.map(U).join(" ")),V.setAttributeNS(null,"stroke-dashoffset",U(X*ce.dashPhase)+"px")}eoFill(){var V;(V=this.current.element)==null||V.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var V;(V=this.current.element)==null||V.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width","1px"),V.setAttributeNS(null,"height","1px"),V.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(V)}paintImageXObject(V){const X=this.getObject(V);if(!X){(0,O.warn)(`Dependent image with object ID ${V} is not ready yet`);return}this.paintInlineImageXObject(X)}paintInlineImageXObject(V,X){const ce=V.width,me=V.height,_e=Q(V,this.forceDataSchema,!!X),Ce=this.svgFactory.createElement("svg:rect");Ce.setAttributeNS(null,"x","0"),Ce.setAttributeNS(null,"y","0"),Ce.setAttributeNS(null,"width",U(ce)),Ce.setAttributeNS(null,"height",U(me)),this.current.element=Ce,this.clip("nonzero");const le=this.svgFactory.createElement("svg:image");le.setAttributeNS(ae,"xlink:href",_e),le.setAttributeNS(null,"x","0"),le.setAttributeNS(null,"y",U(-me)),le.setAttributeNS(null,"width",U(ce)+"px"),le.setAttributeNS(null,"height",U(me)+"px"),le.setAttributeNS(null,"transform",`scale(${U(1/ce)} ${U(-1/me)})`),X?X.append(le):this._ensureTransformGroup().append(le)}paintImageMaskXObject(V){const X=this.getObject(V.data,V);if(X.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ce=this.current,me=X.width,_e=X.height,Ce=ce.fillColor;ce.maskId=`mask${W++}`;const le=this.svgFactory.createElement("svg:mask");le.setAttributeNS(null,"id",ce.maskId);const xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width",U(me)),xe.setAttributeNS(null,"height",U(_e)),xe.setAttributeNS(null,"fill",Ce),xe.setAttributeNS(null,"mask",`url(#${ce.maskId})`),this.defs.append(le),this._ensureTransformGroup().append(xe),this.paintInlineImageXObject(X,le)}paintFormXObjectBegin(V,X){if(Array.isArray(V)&&V.length===6&&this.transform(V[0],V[1],V[2],V[3],V[4],V[5]),X){const ce=X[2]-X[0],me=X[3]-X[1],_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x",X[0]),_e.setAttributeNS(null,"y",X[1]),_e.setAttributeNS(null,"width",U(ce)),_e.setAttributeNS(null,"height",U(me)),this.current.element=_e,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(V){const X=this.svgFactory.create(V.width,V.height),ce=this.svgFactory.createElement("svg:defs");X.append(ce),this.defs=ce;const me=this.svgFactory.createElement("svg:g");return me.setAttributeNS(null,"transform",J(V.transform)),X.append(me),this.svg=me,X}_ensureClipGroup(){if(!this.current.clipGroup){const V=this.svgFactory.createElement("svg:g");V.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(V),this.current.clipGroup=V}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",J(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return R.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return de.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return pe.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return B.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return B.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return B.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return ae.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return te.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return B.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return B.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return B.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return B.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return B.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return B.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return B.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),B=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),R=__w_pdfjs_require__(27),re=__w_pdfjs_require__(5),de=__w_pdfjs_require__(32),pe=__w_pdfjs_require__(14),ae=__w_pdfjs_require__(35),te=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,H=pdfExports;function B(K){var he=Object.create(null);return K&&Object.keys(K).forEach(function(we){if(we!=="default"){var Te=Object.getOwnPropertyDescriptor(K,we);Object.defineProperty(he,we,Te.get?Te:{enumerable:!0,get:function(){return K[we]}})}}),he.default=K,Object.freeze(he)}var O,R=B($),re=B(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var de=function(K,he){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,Te){we.__proto__=Te}||function(we,Te){for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(we[De]=Te[De])},de(K,he)};function pe(K,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function we(){this.constructor=K}de(K,he),K.prototype=he===null?Object.create(he):(we.prototype=he.prototype,new we)}var ae,te=function(){return te=Object.assign||function(K){for(var he,we=1,Te=arguments.length;we<Te;we++)for(var De in he=arguments[we])Object.prototype.hasOwnProperty.call(he,De)&&(K[De]=he[De]);return K},te.apply(this,arguments)};A.TextDirection=void 0,(ae=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ae.LeftToRight="LTR";var ve,ie=R.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),Q=function(K){var he=[];return Object.keys(K).forEach(function(we){we&&K[we]&&he.push(we)}),he.join(" ")},ee=typeof window<"u"?R.useLayoutEffect:R.useEffect,G=function(K){var he=R.useRef(null),we=K.once,Te=K.threshold,De=K.onVisibilityChanged;return ee(function(){var je=he.current;if(je){var Ge=new IntersectionObserver(function(He){He.forEach(function(Fe){var We=Fe.isIntersecting,Ve=Fe.intersectionRatio;De({isVisible:We,ratio:Ve}),We&&we&&(Ge.unobserve(je),Ge.disconnect())})},{threshold:Te||0});return Ge.observe(je),function(){Ge.unobserve(je),Ge.disconnect()}}},[]),he},U=function(K){var he=K.children,we=K.ignoreDirection,Te=we!==void 0&&we,De=K.size,je=De===void 0?24:De,Ge=R.useContext(ie).direction,He=!Te&&Ge===A.TextDirection.RightToLeft,Fe="".concat(je||24,"px");return R.createElement("svg",{"aria-hidden":"true",className:Q({"rpv-core__icon":!0,"rpv-core__icon--rtl":He}),focusable:"false",height:Fe,viewBox:"0 0 24 24",width:Fe},he)},J=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Y=function(K){var he=K.children,we=K.testId,Te=K.onClick,De=R.useContext(ie).direction===A.TextDirection.RightToLeft,je=we?{"data-testid":we}:{};return R.createElement("button",te({className:Q({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":De}),type:"button",onClick:Te},je),he)},W=function(K){var he=K.size,we=he===void 0?"4rem":he,Te=K.testId,De=R.useState(!1),je=De[0],Ge=De[1],He=Te?{"data-testid":Te}:{},Fe=G({onVisibilityChanged:function(We){Ge(We.isVisible)}});return R.createElement("div",te({},He,{className:Q({"rpv-core__spinner":!0,"rpv-core__spinner--animating":je}),ref:Fe,style:{height:we,width:we}}))},q=function(K){var he=K.ariaLabel,we=he===void 0?"":he,Te=K.autoFocus,De=Te!==void 0&&Te,je=K.placeholder,Ge=je===void 0?"":je,He=K.testId,Fe=K.type,We=Fe===void 0?"text":Fe,Ve=K.value,lt=Ve===void 0?"":Ve,ct=K.onChange,st=K.onKeyDown,Et=st===void 0?function(){}:st,vt=R.useContext(ie).direction,gt=R.useRef(),Xt=vt===A.TextDirection.RightToLeft,xt={ref:gt,"data-testid":"","aria-label":we,className:Q({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Xt}),placeholder:Ge,value:lt,onChange:function(Tt){return ct(Tt.target.value)},onKeyDown:Et};return He&&(xt["data-testid"]=He),ee(function(){if(De){var Tt=gt.current;if(Tt){var Dt=window.scrollX,wt=window.scrollY;Tt.focus(),window.scrollTo(Dt,wt)}}},[]),We==="text"?R.createElement("input",te({type:"text"},xt)):R.createElement("input",te({type:"password"},xt))};(function(K){K[K.ExitFullScreen=0]="ExitFullScreen",K[K.FullScreenChange=1]="FullScreenChange",K[K.FullScreenElement=2]="FullScreenElement",K[K.FullScreenEnabled=3]="FullScreenEnabled",K[K.RequestFullScreen=4]="RequestFullScreen"})(ve||(ve={}));var V,X={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ce={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},me={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},_e=typeof window<"u",Ce=_e&&(ve.FullScreenEnabled in document&&X||ce.FullScreenEnabled in document&&ce||me.FullScreenEnabled in document&&me)||X,le=function(){return _e&&Ce.FullScreenEnabled in document&&document[Ce.FullScreenEnabled]===!0},xe=function(K){return _e?K[Ce.ExitFullScreen]():Promise.resolve({})},nt=function(){return _e?document[Ce.FullScreenElement]:null},ze=function(K,he){var we=R.useRef(),Te=function(){we.current&&clearTimeout(we.current)};return R.useEffect(function(){return function(){return Te()}},[]),R.useCallback(function(){for(var De=[],je=0;je<arguments.length;je++)De[je]=arguments[je];Te(),we.current=setTimeout(function(){K.apply(void 0,De)},he)},[K,he])},Ue=function(){var K=R.useRef(!1);return R.useEffect(function(){return K.current=!0,function(){K.current=!1}},[]),K},Be=function(K){var he=R.useRef(K);return R.useEffect(function(){he.current=K},[K]),he.current};(function(K){K.NotRenderedYet="NotRenderedYet",K.Rendering="Rendering",K.Rendered="Rendered"})(V||(V={}));var Le,Oe=-9999,Je=function(K){var he=K.doc,we=he.numPages,Te=he.loadingTask.docId,De=R.useMemo(function(){return Array(we).fill(null).map(function(He,Fe){return{pageIndex:Fe,renderStatus:V.NotRenderedYet,visibility:Oe}})},[Te]),je=R.useRef({currentRenderingPage:-1,startRange:0,endRange:we-1,visibilities:De}),Ge=function(He,Fe){je.current.visibilities[He].visibility=Fe};return{getHighestPriorityPage:function(){var He=je.current.visibilities.slice(je.current.startRange,je.current.endRange+1).filter(function(ct){return ct.visibility>Oe});if(!He.length)return-1;for(var Fe=He[0].pageIndex,We=He[He.length-1].pageIndex,Ve=He.length,lt=0;lt<Ve;lt++){if(He[lt].renderStatus===V.Rendering)return-1;if(He[lt].renderStatus===V.NotRenderedYet)return He[lt].pageIndex}return We+1<we&&je.current.visibilities[We+1].renderStatus!==V.Rendered?We+1:Fe-1>=0&&je.current.visibilities[Fe-1].renderStatus!==V.Rendered?Fe-1:-1},isInRange:function(He){return He>=je.current.startRange&&He<=je.current.endRange},markNotRendered:function(){for(var He=0;He<we;He++)je.current.visibilities[He].renderStatus=V.NotRenderedYet},markRendered:function(He){je.current.visibilities[He].renderStatus=V.Rendered},markRendering:function(He){je.current.currentRenderingPage!==-1&&je.current.currentRenderingPage!==He&&je.current.visibilities[je.current.currentRenderingPage].renderStatus===V.Rendering&&(je.current.visibilities[je.current.currentRenderingPage].renderStatus=V.NotRenderedYet),je.current.visibilities[He].renderStatus=V.Rendering,je.current.currentRenderingPage=He},setOutOfRange:function(He){Ge(He,Oe)},setRange:function(He,Fe){je.current.startRange=He,je.current.endRange=Fe;for(var We=0;We<we;We++)(We<He||We>Fe)&&(je.current.visibilities[We].visibility=Oe,je.current.visibilities[We].renderStatus=V.NotRenderedYet)},setVisibility:Ge}},Qe={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Se=R.createContext({l10n:Qe,setL10n:function(){}}),se=0,ne=function(){return se++},fe=function(K,he,we){var Te=function(De){var je=he.current;if(je){var Ge=De.target;if(Ge instanceof Element&&Ge.shadowRoot){var He=De.composedPath();He.length>0&&!je.contains(He[0])&&we()}else je.contains(Ge)||we()}};R.useEffect(function(){if(K){var De={capture:!0};return document.addEventListener("click",Te,De),function(){document.removeEventListener("click",Te,De)}}},[])},ye=function(K){var he=function(we){we.key==="Escape"&&K()};R.useEffect(function(){return document.addEventListener("keyup",he),function(){document.removeEventListener("keyup",he)}},[])},Ae=function(K){var he=K.ariaControlsSuffix,we=K.children,Te=K.closeOnClickOutside,De=K.closeOnEscape,je=K.onToggle,Ge=R.useRef(),He=R.useContext(ie).direction===A.TextDirection.RightToLeft;return R.useEffect(function(){var Fe=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Fe}},[]),ye(function(){Ge.current&&De&&je()}),fe(Te,Ge,je),ee(function(){var Fe=Ge.current;if(Fe){var We=.75*document.body.clientHeight;Fe.getBoundingClientRect().height>=We&&(Fe.style.overflow="auto",Fe.style.maxHeight="".concat(We,"px"))}},[]),R.createElement("div",{"aria-modal":"true",className:Q({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":He}),id:"rpv-core__modal-body-".concat(he),ref:Ge,role:"dialog",tabIndex:-1},we)},Me=function(K){var he=K.children;return R.createElement("div",{className:"rpv-core__modal-overlay"},he)};A.ToggleStatus=void 0,(Le=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Le.Open="Open",Le.Toggle="Toggle";var Ie,qe=function(K){var he=R.useState(K),we=he[0],Te=he[1];return{opened:we,toggle:function(De){switch(De){case A.ToggleStatus.Close:Te(!1);break;case A.ToggleStatus.Open:Te(!0);break;case A.ToggleStatus.Toggle:default:Te(function(je){return!je})}}}},rt=function(K){var he=K.content,we=K.isOpened,Te=we!==void 0&&we,De=K.target,je=qe(Te),Ge=je.opened,He=je.toggle;return R.createElement(R.Fragment,null,De&&De(He,Ge),Ge&&he(He))};A.Position=void 0,(Ie=A.Position||(A.Position={})).TopLeft="TOP_LEFT",Ie.TopCenter="TOP_CENTER",Ie.TopRight="TOP_RIGHT",Ie.RightTop="RIGHT_TOP",Ie.RightCenter="RIGHT_CENTER",Ie.RightBottom="RIGHT_BOTTOM",Ie.BottomLeft="BOTTOM_LEFT",Ie.BottomCenter="BOTTOM_CENTER",Ie.BottomRight="BOTTOM_RIGHT",Ie.LeftTop="LEFT_TOP",Ie.LeftCenter="LEFT_CENTER",Ie.LeftBottom="LEFT_BOTTOM";var Ze,et,Xe,oe,ue,Ee,Pe,be,ke=function(K,he,we,Te,De){ee(function(){var je=he.current,Ge=K.current,He=we.current;if(Ge&&je&&He){var Fe=He.getBoundingClientRect(),We=function(ct,st,Et,vt){var gt=st.getBoundingClientRect(),Xt=ct.getBoundingClientRect(),xt=Xt.height,Tt=Xt.width,Dt=0,wt=0;switch(Et){case A.Position.TopLeft:Dt=gt.top-xt,wt=gt.left;break;case A.Position.TopCenter:Dt=gt.top-xt,wt=gt.left+gt.width/2-Tt/2;break;case A.Position.TopRight:Dt=gt.top-xt,wt=gt.left+gt.width-Tt;break;case A.Position.RightTop:Dt=gt.top,wt=gt.left+gt.width;break;case A.Position.RightCenter:Dt=gt.top+gt.height/2-xt/2,wt=gt.left+gt.width;break;case A.Position.RightBottom:Dt=gt.top+gt.height-xt,wt=gt.left+gt.width;break;case A.Position.BottomLeft:Dt=gt.top+gt.height,wt=gt.left;break;case A.Position.BottomCenter:Dt=gt.top+gt.height,wt=gt.left+gt.width/2-Tt/2;break;case A.Position.BottomRight:Dt=gt.top+gt.height,wt=gt.left+gt.width-Tt;break;case A.Position.LeftTop:Dt=gt.top,wt=gt.left-Tt;break;case A.Position.LeftCenter:Dt=gt.top+gt.height/2-xt/2,wt=gt.left-Tt;break;case A.Position.LeftBottom:Dt=gt.top+gt.height-xt,wt=gt.left-Tt}return{left:wt+(vt.left||0),top:Dt+(vt.top||0)}}(Ge,je,Te,De),Ve=We.top,lt=We.left;Ge.style.top="".concat(Ve-Fe.top,"px"),Ge.style.left="".concat(lt-Fe.left,"px")}},[])},tt=function(K){var he,we=K.customClassName,Te=K.position;return R.createElement("div",{className:Q((he={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Te===A.Position.TopLeft,"rpv-core__arrow--tc":Te===A.Position.TopCenter,"rpv-core__arrow--tr":Te===A.Position.TopRight,"rpv-core__arrow--rt":Te===A.Position.RightTop,"rpv-core__arrow--rc":Te===A.Position.RightCenter,"rpv-core__arrow--rb":Te===A.Position.RightBottom,"rpv-core__arrow--bl":Te===A.Position.BottomLeft,"rpv-core__arrow--bc":Te===A.Position.BottomCenter,"rpv-core__arrow--br":Te===A.Position.BottomRight,"rpv-core__arrow--lt":Te===A.Position.LeftTop,"rpv-core__arrow--lc":Te===A.Position.LeftCenter,"rpv-core__arrow--lb":Te===A.Position.LeftBottom},he["".concat(we)]=we!=="",he))})},ot=function(K){var he=K.ariaControlsSuffix,we=K.children,Te=K.closeOnClickOutside,De=K.offset,je=K.position,Ge=K.targetRef,He=K.onClose,Fe=R.useRef(),We=R.useRef(),Ve=R.useRef(),lt=R.useContext(ie).direction===A.TextDirection.RightToLeft;fe(Te,Fe,He),ke(Fe,Ge,Ve,je,De),ee(function(){var st=We.current;if(st){var Et=.75*document.body.clientHeight;st.getBoundingClientRect().height>=Et&&(st.style.overflow="auto",st.style.maxHeight="".concat(Et,"px"))}},[]);var ct="rpv-core__popover-body-inner-".concat(he);return R.createElement(R.Fragment,null,R.createElement("div",{ref:Ve,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{"aria-describedby":ct,className:Q({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":lt}),id:"rpv-core__popover-body-".concat(he),ref:Fe,role:"dialog",tabIndex:-1},R.createElement(tt,{customClassName:"rpv-core__popover-body-arrow",position:je}),R.createElement("div",{id:ct,ref:We},we)))},it=function(K){var he=K.closeOnEscape,we=K.onClose,Te=R.useRef();return ye(function(){Te.current&&he&&we()}),R.createElement("div",{className:"rpv-core__popover-overlay",ref:Te})},Ye=function(K){var he=K.ariaControlsSuffix,we=K.children,Te=K.contentRef,De=K.offset,je=K.position,Ge=K.targetRef,He=R.useRef(),Fe=R.useContext(ie).direction===A.TextDirection.RightToLeft;return ke(Te,Ge,He,je,De),R.createElement(R.Fragment,null,R.createElement("div",{ref:He,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{className:Q({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Fe}),id:"rpv-core__tooltip-body-".concat(he),ref:Te,role:"tooltip"},R.createElement(tt,{customClassName:"rpv-core__tooltip-body-arrow",position:je}),R.createElement("div",{className:"rpv-core__tooltip-body-content"},we)))};A.FullScreenMode=void 0,(Ze=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Ze.Entering="Entering",Ze.Entered="Entered",Ze.EnteredCompletely="EnteredCompletely",Ze.Exitting="Exitting",Ze.Exited="Exited",A.LayerRenderStatus=void 0,(et=A.LayerRenderStatus||(A.LayerRenderStatus={}))[et.PreRender=0]="PreRender",et[et.DidRender=1]="DidRender",A.PageMode=void 0,(Xe=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",Xe.Bookmarks="UseOutlines",Xe.ContentGroup="UseOC",Xe.Default="UserNone",Xe.FullScreen="FullScreen",Xe.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(oe=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",oe.WrongPassword="WrongPassword",A.RotateDirection=void 0,(ue=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",ue.Forward="Forward",A.ScrollMode=void 0,(Ee=A.ScrollMode||(A.ScrollMode={})).Page="Page",Ee.Horizontal="Horizontal",Ee.Vertical="Vertical",Ee.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Pe=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Pe.PageFit="PageFit",Pe.PageWidth="PageWidth",A.ViewMode=void 0,(be=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",be.DualPageWithCover="DualPageWithCover",be.SinglePage="SinglePage";var ft,ut=function(K,he){return K.reduce(function(we,Te,De){return De%he?we[we.length-1].push(Te):we.push([Te]),we},[])},bt=function(K,he){switch(he[1].name){case"XYZ":return{bottomOffset:function(we,Te){return he[3]===null?Te:he[3]},leftOffset:function(we,Te){return he[2]===null?0:he[2]},pageIndex:K,scaleTo:he[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:he[2],leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:1}}},yt=new Map,Ft=new Map,zt=function(K,he){return"".concat(K.loadingTask.docId,"___").concat(he.num,"R").concat(he.gen===0?"":he.gen)},Nt=function(K,he,we){yt.set(zt(K,he),we)},$e=function(K,he){if(!K)return Promise.reject("The document is not loaded yet");var we="".concat(K.loadingTask.docId,"___").concat(he),Te=Ft.get(we);return Te?Promise.resolve(Te):new Promise(function(De,je){K.getPage(he+1).then(function(Ge){Ft.set(we,Ge),Ge.ref&&Nt(K,Ge.ref,he),De(Ge)})})},Re=function(K,he){return new Promise(function(we){new Promise(function(Te){typeof he=="string"?K.getDestination(he).then(function(De){Te(De)}):Te(he)}).then(function(Te){if(typeof Te[0]=="object"&&Te[0]!==null){var De=Te[0],je=function(He,Fe){var We=zt(He,Fe);return yt.has(We)?yt.get(We):null}(K,De);je===null?K.getPageIndex(De).then(function(He){Nt(K,De,He),Re(K,he).then(function(Fe){return we(Fe)})}):we(bt(je,Te))}else{var Ge=bt(Te[0],Te);we(Ge)}})})};(function(K){K[K.Solid=1]="Solid",K[K.Dashed=2]="Dashed",K[K.Beveled=3]="Beveled",K[K.Inset=4]="Inset",K[K.Underline=5]="Underline"})(ft||(ft={}));var Ne,ht=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Ot=function(K,he,we,Te){var De=parseInt(K,10);return De>=he&&De<=we?De:Te},Yt=function(K){return K.contentsObj?K.contentsObj.str:K.contents||""},Ke=function(K){return K.titleObj?K.titleObj.str:K.title||""},pt=function(K){var he=K.annotation,we=R.useContext(ie).direction,Te=Ke(he),De=Yt(he),je=we===A.TextDirection.RightToLeft,Ge=R.useRef(),He="";if(he.modificationDate){var Fe=function(We){var Ve=ht.exec(We);if(!Ve)return null;var lt=parseInt(Ve[1],10),ct=Ot(Ve[2],1,12,1)-1,st=Ot(Ve[3],1,31,1),Et=Ot(Ve[4],0,23,0),vt=Ot(Ve[5],0,59,0),gt=Ot(Ve[6],0,59,0),Xt=Ve[7]||"Z",xt=Ot(Ve[8],0,23,0),Tt=Ot(Ve[9],0,59,0);switch(Xt){case"-":Et+=xt,vt+=Tt;break;case"+":Et-=xt,vt-=Tt}return new Date(Date.UTC(lt,ct,st,Et,vt,gt))}(he.modificationDate);He=Fe?"".concat(Fe.toLocaleDateString(),", ").concat(Fe.toLocaleTimeString()):""}return R.useLayoutEffect(function(){if(Ge.current){var We=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(We){var Ve=We;return Ve.style.zIndex+=1,function(){Ve.style.zIndex="".concat(parseInt(Ve.style.zIndex,10)-1)}}}},[]),R.createElement("div",{ref:Ge,className:Q({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":je}),style:{top:he.annotationType===A.AnnotationType.Popup?"":"100%"}},Te&&R.createElement(R.Fragment,null,R.createElement("div",{className:Q({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!je,"rpv-core__annotation-popup-title--rtl":je})},Te),R.createElement("div",{className:"rpv-core__annotation-popup-date"},He)),De&&R.createElement("div",{className:"rpv-core__annotation-popup-content"},De.split(`
`).map(function(We,Ve){return R.createElement(R.Fragment,{key:Ve},We,R.createElement("br",null))})))};(function(K){K.Click="Click",K.Hover="Hover"})(Ne||(Ne={}));var _t,St=function(K){var he,we=K.annotation,Te=K.children,De=K.ignoreBorder,je=K.hasPopup,Ge=K.isRenderable,He=K.page,Fe=K.viewport,We=we.rect,Ve=function(){var It=qe(!1),rn=It.opened,nn=It.toggle,an=R.useState(Ne.Hover),sn=an[0],ln=an[1];return{opened:rn,closeOnHover:function(){sn===Ne.Hover&&nn(A.ToggleStatus.Close)},openOnHover:function(){sn===Ne.Hover&&nn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(sn){case Ne.Click:rn&&ln(Ne.Hover),nn(A.ToggleStatus.Toggle);break;case Ne.Hover:ln(Ne.Click),nn(A.ToggleStatus.Open)}}}}(),lt=Ve.closeOnHover,ct=Ve.opened,st=Ve.openOnHover,Et=Ve.toggleOnClick,vt=(he=[We[0],He.view[3]+He.view[1]-We[1],We[2],He.view[3]+He.view[1]-We[3]],[Math.min(he[0],he[2]),Math.min(he[1],he[3]),Math.max(he[0],he[2]),Math.max(he[1],he[3])]),gt=We[2]-We[0],Xt=We[3]-We[1],xt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!De&&we.borderStyle.width>0){switch(we.borderStyle.style){case ft.Dashed:xt.borderStyle="dashed";break;case ft.Solid:xt.borderStyle="solid";break;case ft.Underline:xt=Object.assign({borderBottomStyle:"solid"},xt);case ft.Beveled:case ft.Inset:}var Tt=we.borderStyle.width;xt.borderWidth="".concat(Tt,"px"),we.borderStyle.style!==ft.Underline&&(gt-=2*Tt,Xt-=2*Tt);var Dt=we.borderStyle,wt=Dt.horizontalCornerRadius,jt=Dt.verticalCornerRadius;(wt>0||jt>0)&&(xt.borderRadius="".concat(wt,"px / ").concat(jt,"px")),we.color?xt.borderColor="rgb(".concat(0|we.color[0],", ").concat(0|we.color[1],", ").concat(0|we.color[2],")"):xt.borderWidth="0"}return R.createElement(R.Fragment,null,Ge&&Te({popup:{opened:ct,closeOnHover:lt,openOnHover:st,toggleOnClick:Et},slot:{attrs:{style:Object.assign({height:"".concat(Xt,"px"),left:"".concat(vt[0],"px"),top:"".concat(vt[1],"px"),transform:"matrix(".concat(Fe.transform.join(","),")"),transformOrigin:"-".concat(vt[0],"px -").concat(vt[1],"px"),width:"".concat(gt,"px")},xt)},children:R.createElement(R.Fragment,null,je&&ct&&R.createElement(pt,{annotation:we}))}}))},qt=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},on=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},R.createElement("circle",{cy:Ve/2,fill:"none",rx:We/2-lt/2,ry:Ve/2-lt/2,stroke:"transparent",strokeWidth:lt||1})),ct.slot.children)})},Kt=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=Ke(he),je=Yt(he),Ge=!(he.hasPopup!==!1||!De&&!je),He=function(){var Fe,We,Ve,lt,ct=he.file;ct&&(Fe=ct.filename,We=ct.content,Ve=typeof We=="string"?"":URL.createObjectURL(new Blob([We],{type:""})),(lt=document.createElement("a")).style.display="none",lt.href=Ve||Fe,lt.setAttribute("download",function(st){var Et=st.split("/").pop();return Et?Et.split("#")[0].split("?")[0]:st}(Fe)),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),Ve&&URL.revokeObjectURL(Ve))};return R.createElement(St,{annotation:he,hasPopup:Ge,ignoreBorder:!0,isRenderable:!0,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onDoubleClick:He,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},Zt=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},Gt=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=Ke(he),je=Yt(he),Ge=!(!De&&!je),He=!he.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(he.parentType)!==-1;return ee(function(){if(he.parentId){var Fe=document.querySelector('[data-annotation-id="'.concat(he.parentId,'"]')),We=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(Fe&&We){var Ve=parseFloat(Fe.style.left),lt=parseFloat(Fe.style.top)+parseFloat(Fe.style.height);We.style.left="".concat(Ve,"px"),We.style.top="".concat(lt,"px"),We.style.transformOrigin="-".concat(Ve,"px -").concat(lt,"px")}}},[]),R.createElement(St,{annotation:he,hasPopup:He,ignoreBorder:!1,isRenderable:Ge,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":he.id}),R.createElement(pt,{annotation:he}))})},tn=function(K){var he=K.annotation,we=K.childAnnotation,Te=K.page,De=K.viewport,je=he.hasPopup===!1,Ge=Ke(he),He=Yt(he),Fe=!!(he.hasPopup||Ge||He);if(he.quadPoints&&he.quadPoints.length>0){var We=he.quadPoints.map(function(Ve){return Object.assign({},he,{rect:[Ve[2].x,Ve[2].y,Ve[1].x,Ve[1].y],quadPoints:[]})});return R.createElement(R.Fragment,null,We.map(function(Ve,lt){return R.createElement(tn,{key:lt,annotation:Ve,childAnnotation:we,page:Te,viewport:De})}))}return R.createElement(St,{annotation:he,hasPopup:je,ignoreBorder:!0,isRenderable:Fe,page:Te,viewport:De},function(Ve){return R.createElement(R.Fragment,null,R.createElement("div",te({},Ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":he.id,onClick:Ve.popup.toggleOnClick,onMouseEnter:Ve.popup.openOnHover,onMouseLeave:Ve.popup.closeOnHover}),Ve.slot.children),we&&we.annotationType===A.AnnotationType.Popup&&Ve.popup.opened&&R.createElement(Gt,{annotation:we,page:Te,viewport:De}))})},kn=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),he.inkLists&&he.inkLists.length&&R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},he.inkLists.map(function(st,Et){return R.createElement("polyline",{key:Et,fill:"none",stroke:"transparent",strokeWidth:lt||1,points:st.map(function(vt){return"".concat(vt.x-Fe[0],",").concat(Fe[3]-vt.y)}).join(" ")})})),ct.slot.children)})},_n=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},R.createElement("line",{stroke:"transparent",strokeWidth:lt||1,x1:Fe[2]-he.lineCoordinates[0],x2:Fe[2]-he.lineCoordinates[2],y1:Fe[3]-he.lineCoordinates[1],y2:Fe[3]-he.lineCoordinates[3]})),ct.slot.children)})},En=/^([^\w]*)(javascript|data|vbscript)/im,yn=/&#(\w+)(^\w|;)?/g,pn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Fn=/^([^:]+):/gm,On=function(K,he){he===void 0&&(he="about:blank");var we,Te=(we=K||"",we.replace(yn,function(He,Fe){return String.fromCharCode(Fe)})).replace(pn,"").trim();if(!Te)return he;var De=Te[0];if(De==="."||De==="/")return Te;var je=Te.match(Fn);if(!je)return Te;var Ge=je[0];return En.test(Ge)?he:Te},qn=function(K){var he,we=K.annotation,Te=K.annotationContainerRef,De=K.doc,je=K.outlines,Ge=K.page,He=K.pageIndex,Fe=K.scale,We=K.viewport,Ve=K.onExecuteNamedAction,lt=K.onJumpFromLinkAnnotation,ct=K.onJumpToDest,st=R.useRef(),Et=je&&je.length&&we.dest&&typeof we.dest=="string"?(he=je.find(function(xt){return xt.dest===we.dest}))===null||he===void 0?void 0:he.title:"",vt=!!(we.url||we.dest||we.action||we.unsafeUrl),gt={};if(we.url||we.unsafeUrl){var Xt=On(we.url||we.unsafeUrl,"");Xt?gt={"data-target":"external",href:Xt,rel:"noopener noreferrer nofollow",target:we.newWindow?"_blank":"",title:Xt}:vt=!1}else gt={href:"","data-annotation-link":we.id,onClick:function(xt){xt.preventDefault(),we.action?Ve(we.action):Re(De,we.dest).then(function(Tt){var Dt=st.current,wt=Te.current;if(Dt&&wt){var jt=Dt.getBoundingClientRect();wt.style.setProperty("height","100%"),wt.style.setProperty("width","100%");var It=wt.getBoundingClientRect();wt.style.removeProperty("height"),wt.style.removeProperty("width");var rn=(jt.left-It.left)/Fe,nn=(It.bottom-jt.bottom+jt.height)/Fe;lt({bottomOffset:nn,label:Et,leftOffset:rn,pageIndex:He})}ct(Tt)})}};return Et&&(gt=Object.assign({},gt,{title:Et,"aria-label":Et})),R.createElement(St,{annotation:we,hasPopup:!1,ignoreBorder:!1,isRenderable:vt,page:Ge,viewport:We},function(xt){return R.createElement("div",te({},xt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":we.id,"data-testid":"core__annotation--link-".concat(we.id)}),R.createElement("a",te({ref:st},gt)))})},Nn=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),he.vertices&&he.vertices.length&&R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},R.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:lt||1,points:he.vertices.map(function(st){return"".concat(st.x-Fe[0],",").concat(Fe[3]-st.y)}).join(" ")})),ct.slot.children)})},nr=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),he.vertices&&he.vertices.length&&R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},R.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:lt||1,points:he.vertices.map(function(st){return"".concat(st.x-Fe[0],",").concat(Fe[3]-st.y)}).join(" ")})),ct.slot.children)})},rr=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge),Fe=he.rect,We=Fe[2]-Fe[0],Ve=Fe[3]-Fe[1],lt=he.borderStyle.width;return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(ct){return R.createElement("div",te({},ct.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":he.id,onClick:ct.popup.toggleOnClick,onMouseEnter:ct.popup.openOnHover,onMouseLeave:ct.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(We," ").concat(Ve),width:"".concat(We,"px")},R.createElement("rect",{height:Ve-lt,fill:"none",stroke:"transparent",strokeWidth:lt||1,x:lt/2,y:lt/2,width:We-lt})),ct.slot.children)})},ir=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},ar=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},or=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},gr=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),R.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),R.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),R.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},vr=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),R.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),R.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),R.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),R.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),R.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),R.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),R.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),R.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),R.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Xi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),R.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Ki=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),R.createElement("path",{d:"M6 4.5L6 0.5"}),R.createElement("path",{d:"M18 4.5L18 0.5"}),R.createElement("path",{d:"M10 4.5L10 0.5"}),R.createElement("path",{d:"M14 4.5L14 0.5"}))},Yi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),R.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),R.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Zi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ji=function(K){var he=K.annotation,we=K.childAnnotation,Te=K.page,De=K.viewport,je=he.hasPopup===!1,Ge=Ke(he),He=Yt(he),Fe=!!(he.hasPopup||Ge||He),We=he.name?he.name.toLowerCase():"";return R.createElement(St,{annotation:he,hasPopup:je,ignoreBorder:!1,isRenderable:Fe,page:Te,viewport:De},function(Ve){return R.createElement(R.Fragment,null,R.createElement("div",te({},Ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":he.id,onClick:Ve.popup.toggleOnClick,onMouseEnter:Ve.popup.openOnHover,onMouseLeave:Ve.popup.closeOnHover}),We&&R.createElement("div",{className:"rpv-core__annotation-text-icon"},We==="check"&&R.createElement(J,null),We==="comment"&&R.createElement(gr,null),We==="help"&&R.createElement(vr,null),We==="insert"&&R.createElement(Zi,null),We==="key"&&R.createElement(Xi,null),We==="note"&&R.createElement(Ki,null),(We==="newparagraph"||We==="paragraph")&&R.createElement(Yi,null)),Ve.slot.children),we&&we.annotationType===A.AnnotationType.Popup&&Ve.popup.opened&&R.createElement(Gt,{annotation:we,page:Te,viewport:De}))})},Qi=function(K){var he=K.annotation,we=K.page,Te=K.viewport,De=he.hasPopup===!1,je=Ke(he),Ge=Yt(he),He=!!(he.hasPopup||je||Ge);return R.createElement(St,{annotation:he,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:we,viewport:Te},function(Fe){return R.createElement("div",te({},Fe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":he.id,onClick:Fe.popup.toggleOnClick,onMouseEnter:Fe.popup.openOnHover,onMouseLeave:Fe.popup.closeOnHover}),Fe.slot.children)})},ea=function(K){var he=K.annotations,we=K.doc,Te=K.outlines,De=K.page,je=K.pageIndex,Ge=K.plugins,He=K.rotation,Fe=K.scale,We=K.onExecuteNamedAction,Ve=K.onJumpFromLinkAnnotation,lt=K.onJumpToDest,ct=R.useRef(),st=De.getViewport({rotation:He,scale:Fe}).clone({dontFlip:!0}),Et=he.filter(function(vt){return!vt.parentId});return ee(function(){var vt=ct.current;vt&&Ge.forEach(function(gt){gt.onAnnotationLayerRender&&gt.onAnnotationLayerRender({annotations:Et,container:vt,pageIndex:je,rotation:He,scale:Fe})})},[]),R.createElement("div",{ref:ct,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(je)},Et.map(function(vt){var gt=he.find(function(Xt){return Xt.parentId===vt.id});switch(vt.annotationType){case A.AnnotationType.Caret:return R.createElement(qt,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Circle:return R.createElement(on,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.FileAttachment:return R.createElement(Kt,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.FreeText:return R.createElement(Zt,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Highlight:return R.createElement(tn,{key:vt.id,annotation:vt,childAnnotation:gt,page:De,viewport:st});case A.AnnotationType.Ink:return R.createElement(kn,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Line:return R.createElement(_n,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Link:return R.createElement(qn,{key:vt.id,annotation:vt,annotationContainerRef:ct,doc:we,outlines:Te,page:De,pageIndex:je,scale:Fe,viewport:st,onExecuteNamedAction:We,onJumpFromLinkAnnotation:Ve,onJumpToDest:lt});case A.AnnotationType.Polygon:return R.createElement(Nn,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Polyline:return R.createElement(nr,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Popup:return R.createElement(Gt,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Square:return R.createElement(rr,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Squiggly:return R.createElement(ir,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Stamp:return R.createElement(ar,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.StrikeOut:return R.createElement(or,{key:vt.id,annotation:vt,page:De,viewport:st});case A.AnnotationType.Text:return R.createElement(Ji,{key:vt.id,annotation:vt,childAnnotation:gt,page:De,viewport:st});case A.AnnotationType.Underline:return R.createElement(Qi,{key:vt.id,annotation:vt,page:De,viewport:st});default:return R.createElement(R.Fragment,{key:vt.id})}}))},ta=function(K){var he=K.page,we=K.renderAnnotations,Te=Ue(),De=R.useState({loading:!0,annotations:[]}),je=De[0],Ge=De[1];return R.useEffect(function(){he.getAnnotations({intent:"display"}).then(function(He){Te.current&&Ge({loading:!1,annotations:He})})},[]),je.loading?R.createElement(R.Fragment,null):we(je.annotations)},na=function(K){var he=K.doc,we=K.outlines,Te=K.page,De=K.pageIndex,je=K.plugins,Ge=K.rotation,He=K.scale,Fe=K.onExecuteNamedAction,We=K.onJumpFromLinkAnnotation,Ve=K.onJumpToDest;return R.createElement(ta,{page:Te,renderAnnotations:function(lt){return R.createElement(ea,{annotations:lt,doc:he,outlines:we,page:Te,pageIndex:De,plugins:je,rotation:Ge,scale:He,onExecuteNamedAction:Fe,onJumpFromLinkAnnotation:We,onJumpToDest:Ve})}})},br=function(K,he){var we=K%he;return we===0?K:Math.floor(K-we)},ra=function(K){var he=K.canvasLayerRef,we=K.height,Te=K.page,De=K.pageIndex,je=K.plugins,Ge=K.rotation,He=K.scale,Fe=K.width,We=K.onRenderCanvasCompleted,Ve=R.useRef();return ee(function(){var lt=Ve.current;lt&&lt.cancel();var ct=he.current;ct.removeAttribute("data-testid"),je.forEach(function(It){It.onCanvasLayerRender&&It.onCanvasLayerRender({ele:ct,pageIndex:De,rotation:Ge,scale:He,status:A.LayerRenderStatus.PreRender})});var st=Te.getViewport({rotation:Ge,scale:He}),Et=window.devicePixelRatio||1,vt=Math.sqrt(16777216/(st.width*st.height)),gt=Et>vt;gt?ct.style.transform="scale(1, 1)":ct.style.removeProperty("transform");var Xt=Math.min(vt,Et),xt=function(It,rn){var nn,an;if(Math.floor(It)===It)return[It,1];var sn=1/It;if(sn>rn)return[1,rn];if(Math.floor(sn)===sn)return[1,sn];for(var ln=It>1?sn:It,$n=0,vn=1,Mn=1,Cn=1;;){var wn=$n+Mn,Pn=vn+Cn;if(Pn>rn)break;ln<=wn/Pn?(Mn=(nn=[wn,Pn])[0],Cn=nn[1]):($n=(an=[wn,Pn])[0],vn=an[1])}return ln<($n/vn+Mn/Cn)/2?ln===It?[$n,vn]:[vn,$n]:ln===It?[Mn,Cn]:[Cn,Mn]}(Xt,8),Tt=xt[0],Dt=xt[1];ct.width=br(st.width*Xt,Tt),ct.height=br(st.height*Xt,Tt),ct.style.width="".concat(br(st.width,Dt),"px"),ct.style.height="".concat(br(st.height,Dt),"px"),ct.hidden=!0;var wt=ct.getContext("2d",{alpha:!1}),jt=gt||Et!==1?[Xt,0,0,Xt,0,0]:null;return Ve.current=Te.render({canvasContext:wt,transform:jt,viewport:st}),Ve.current.promise.then(function(){ct.hidden=!1,ct.setAttribute("data-testid","core__canvas-layer-".concat(De)),je.forEach(function(It){It.onCanvasLayerRender&&It.onCanvasLayerRender({ele:ct,pageIndex:De,rotation:Ge,scale:He,status:A.LayerRenderStatus.DidRender})}),We()},function(){We()}),function(){ct&&(ct.width=0,ct.height=0)}},[]),R.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(we,"px"),width:"".concat(Fe,"px")}},R.createElement("canvas",{ref:he}))},ia=function(K){var he=K.height,we=K.page,Te=K.rotation,De=K.scale,je=K.width,Ge=R.useRef();return ee(function(){var He=Ge.current,Fe=we.getViewport({rotation:Te,scale:De});we.getOperatorList().then(function(We){(function(){var Ve=Ge.current;Ve&&(Ve.innerHTML="")})(),new re.SVGGraphics(we.commonObjs,we.objs).getSVG(We,Fe).then(function(Ve){Ve.style.height="".concat(he,"px"),Ve.style.width="".concat(je,"px"),He.appendChild(Ve)})})},[]),R.createElement("div",{className:"rpv-core__svg-layer",ref:Ge})},aa=function(K){var he=K.containerRef,we=K.page,Te=K.pageIndex,De=K.plugins,je=K.rotation,Ge=K.scale,He=K.onRenderTextCompleted,Fe=R.useRef(),We=function(){var Ve=he.current;Ve&&([].slice.call(Ve.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(lt){return Ve.removeChild(lt)}),[].slice.call(Ve.querySelectorAll('br[role="presentation"]')).forEach(function(lt){return Ve.removeChild(lt)}))};return ee(function(){var Ve=Fe.current;Ve&&Ve.cancel();var lt=he.current;if(lt){lt.removeAttribute("data-testid");var ct=we.getViewport({rotation:je,scale:Ge});return De.forEach(function(st){st.onTextLayerRender&&st.onTextLayerRender({ele:lt,pageIndex:Te,scale:Ge,status:A.LayerRenderStatus.PreRender})}),we.getTextContent().then(function(st){We(),Fe.current=re.renderTextLayer({container:lt,textContent:st,textContentSource:st,viewport:ct}),Fe.current.promise.then(function(){lt.setAttribute("data-testid","core__text-layer-".concat(Te)),[].slice.call(lt.children).forEach(function(Et){Et.classList.contains("rpv-core__text-layer-text--not")||Et.classList.add("rpv-core__text-layer-text")}),De.forEach(function(Et){Et.onTextLayerRender&&Et.onTextLayerRender({ele:lt,pageIndex:Te,scale:Ge,status:A.LayerRenderStatus.DidRender})}),He()},function(){lt.removeAttribute("data-testid"),He()})}),function(){var st;We(),(st=Fe.current)===null||st===void 0||st.cancel()}}},[]),R.createElement("div",{className:"rpv-core__text-layer",ref:he})},oa=function(K){var he=K.doc,we=K.measureRef,Te=K.outlines,De=K.pageIndex,je=K.pageRotation,Ge=K.pageSize,He=K.plugins,Fe=K.renderPage,We=K.renderQueueKey,Ve=K.rotation,lt=K.scale,ct=K.shouldRender,st=K.viewMode,Et=K.onExecuteNamedAction,vt=K.onJumpFromLinkAnnotation,gt=K.onJumpToDest,Xt=K.onRenderCompleted,xt=K.onRotatePage,Tt=Ue(),Dt=R.useState(null),wt=Dt[0],jt=Dt[1],It=R.useState(!1),rn=It[0],nn=It[1],an=R.useState(!1),sn=an[0],ln=an[1],$n=R.useRef(),vn=R.useRef(),Mn=Math.abs(Ve+je)%180==0,Cn=Ge.pageWidth*lt,wn=Ge.pageHeight*lt,Pn=Mn?Cn:wn,An=Mn?wn:Cn,Dn=(Ge.rotation+Ve+je)%360,Un=R.useRef(0),Vn=Fe||function(Rn){return R.createElement(R.Fragment,null,Rn.canvasLayer.children,Rn.textLayer.children,Rn.annotationLayer.children)};return R.useEffect(function(){jt(null),nn(!1),ln(!1)},[je,Ve,lt]),R.useEffect(function(){ct&&Tt.current&&!wt&&$e(he,De).then(function(Rn){Tt.current&&(Un.current=We,jt(Rn))})},[ct,wt]),R.useEffect(function(){rn&&sn&&(We!==Un.current?(jt(null),nn(!1),ln(!1)):Xt(De))},[rn,sn]),R.createElement("div",{className:Q({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":st===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":st===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":st===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(De),ref:we,style:{height:"".concat(An,"px"),width:"".concat(Pn,"px")}},wt?R.createElement(R.Fragment,null,Vn({annotationLayer:{attrs:{},children:R.createElement(na,{doc:he,outlines:Te,page:wt,pageIndex:De,plugins:He,rotation:Dn,scale:lt,onExecuteNamedAction:Et,onJumpFromLinkAnnotation:vt,onJumpToDest:gt})},canvasLayer:{attrs:{},children:R.createElement(ra,{canvasLayerRef:$n,height:An,page:wt,pageIndex:De,plugins:He,rotation:Dn,scale:lt,width:Pn,onRenderCanvasCompleted:function(){Tt.current&&nn(!0)}})},canvasLayerRendered:rn,doc:he,height:An,pageIndex:De,rotation:Dn,scale:lt,svgLayer:{attrs:{},children:R.createElement(ia,{height:An,page:wt,rotation:Dn,scale:lt,width:Pn})},textLayer:{attrs:{},children:R.createElement(aa,{containerRef:vn,page:wt,pageIndex:De,plugins:He,rotation:Dn,scale:lt,onRenderTextCompleted:function(){Tt.current&&ln(!0)}})},textLayerRendered:sn,width:Pn,markRendered:Xt,onRotatePage:function(Rn){return xt(De,Rn)}}),He.map(function(Rn,jn){return Rn.renderPageLayer?R.createElement(R.Fragment,{key:jn},Rn.renderPageLayer({canvasLayerRef:$n,canvasLayerRendered:rn,doc:he,height:An,pageIndex:De,rotation:Dn,scale:lt,textLayerRef:vn,textLayerRendered:sn,width:Pn})):R.createElement(R.Fragment,{key:jn})})):R.createElement(W,{testId:"core__page-layer-loading-".concat(De)}))},sa=function(K,he){var we=he.rect;return K.height!==we.height||K.width!==we.width?we:K};(function(K){K.Horizontal="Horizontal",K.Vertical="Vertical",K.Both="Both"})(_t||(_t={}));var ca=function(K){return 1-Math.pow(1-K,4)},_r=1e-4,ci={left:0,top:0},li={capture:!1,passive:!0},la=function(K){var he=K.elementRef,we=K.enableSmoothScroll,Te=K.isRtl,De=K.scrollDirection,je=K.onSmoothScroll,Ge=R.useState(ci),He=Ge[0],Fe=Ge[1],We=R.useState(he.current),Ve=We[0],lt=We[1],ct=Te?-1:1,st=R.useRef(De);st.current=De;var Et=R.useRef(ci),vt=R.useRef(!0),gt=R.useCallback(function(){vt.current=!0,we&&Fe(Et.current),je(!1)},[]),Xt=R.useCallback(function(){if(Ve){switch(st.current){case _t.Horizontal:Et.current={left:ct*Ve.scrollLeft,top:0};break;case _t.Both:Et.current={left:ct*Ve.scrollLeft,top:Ve.scrollTop};break;case _t.Vertical:default:Et.current={left:0,top:Ve.scrollTop}}we&&!vt.current||Fe(Et.current)}},[Ve]);ee(function(){lt(he.current)}),ee(function(){if(Ve)return Ve.addEventListener("scroll",Xt,li),function(){Ve.removeEventListener("scroll",Xt,li)}},[Ve]);var xt=R.useCallback(function(Tt,Dt){var wt=he.current;if(!wt)return Promise.resolve();var jt={left:0,top:0};switch(st.current){case _t.Horizontal:jt.left=ct*Tt.left;break;case _t.Both:jt.left=ct*Tt.left,jt.top=Tt.top;break;case _t.Vertical:default:jt.top=Tt.top}return Dt?(vt.current=!1,je(!0),new Promise(function(It,rn){(function(nn,an,sn,ln,$n,vn){$n===void 0&&($n=function(jn){return jn}),vn===void 0&&(vn=function(){});var Mn=0,Cn=0,wn=!1;switch(an){case _t.Horizontal:Cn=nn.scrollLeft,Mn=0;case _t.Both:Cn=nn.scrollLeft,Mn=nn.scrollTop;break;case _t.Vertical:default:Cn=0,Mn=nn.scrollTop}var Pn=function(){wn||(wn=!0,nn.scrollLeft=sn.left,nn.scrollTop=sn.top,vn())};if(Math.abs(Mn-sn.top)<=_r&&an===_t.Vertical)Pn();else if(Math.abs(Cn-sn.left)<=_r&&an===_t.Horizontal)Pn();else{var An,Dn=-1,Un=Cn-sn.left,Vn=Mn-sn.top,Rn=function(jn){Dn===-1&&(Dn=jn);var Gn=jn-Dn,Lt=Math.min(Gn/ln,1),Rt=$n(Lt),Pt={left:Cn-Un*Rt,top:Mn-Vn*Rt};switch(an){case _t.Horizontal:nn.scrollLeft=Pt.left;break;case _t.Both:nn.scrollLeft=Pt.left,nn.scrollTop=Pt.top;break;case _t.Vertical:default:nn.scrollTop=Pt.top}Math.abs(Pt.top-sn.top)<=_r&&Math.abs(Pt.left-sn.left)<=_r&&!wn&&(window.cancelAnimationFrame(An),Pn()),Gn<ln?An=window.requestAnimationFrame(Rn):window.cancelAnimationFrame(An)};An=window.requestAnimationFrame(Rn)}})(wt,st.current,jt,400,ca,function(){gt(),It()})})):new Promise(function(It,rn){switch(st.current){case _t.Horizontal:wt.scrollLeft=jt.left;break;case _t.Both:wt.scrollLeft=jt.left,wt.scrollTop=jt.top;break;case _t.Vertical:default:wt.scrollTop=jt.top}It()})},[he]);return{scrollOffset:He,scrollTo:xt}},hr=function(K,he,we){return Math.max(K,Math.min(we,he))},ua=function(K,he){if(he!==A.ViewMode.DualPageWithCover)return 0;if(!function(De){var je=De.length;if(je===1)return!1;for(var Ge=1;Ge<je;Ge++)if(De[Ge].height!==De[0].height||De[Ge].width!==De[0].width)return!0;return!1}(K))return 2*K[0].width;var we=ut(K.slice(1),2).map(function(De){return De.length===2?De[0].width+De[1].width:De[0].width}),Te=[K[0].width].concat(we);return Math.max.apply(Math,Te)},da={left:0,top:0},ha={left:0,top:0},Mr={left:0,top:0},fa={left:0,top:0},pa={height:0,width:0},ui={left:0,top:0},di="data-virtual-index",ma=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],ga=function(K){var he=K.enableSmoothScroll,we=K.isRtl,Te=K.numberOfItems,De=K.parentRef,je=K.setRenderRange,Ge=K.sizes,He=K.scrollMode,Fe=K.viewMode,We=R.useState(!1),Ve=We[0],lt=We[1],ct=R.useCallback(function(Lt){return lt(Lt)},[]),st=R.useRef(He);st.current=He;var Et=R.useRef(Fe);Et.current=Fe;var vt=He===A.ScrollMode.Wrapped||Fe===A.ViewMode.DualPageWithCover||Fe===A.ViewMode.DualPage?_t.Both:He===A.ScrollMode.Horizontal?_t.Horizontal:_t.Vertical,gt=la({elementRef:De,enableSmoothScroll:he,isRtl:we,scrollDirection:vt,onSmoothScroll:ct}),Xt=gt.scrollOffset,xt=gt.scrollTo,Tt=function(Lt){var Rt=Lt.elementRef,Pt=R.useState(Rt.current),$t=Pt[0],kt=Pt[1],Bt=R.useRef(!1),Ht=R.useReducer(sa,{height:0,width:0}),Mt=Ht[0],At=Ht[1];return ee(function(){Rt.current!==$t&&kt(Rt.current)}),ee(function(){if($t&&!Bt.current){Bt.current=!0;var Vt=$t.getBoundingClientRect(),Jt=Vt.height,mn=Vt.width;At({rect:{height:Jt,width:mn}})}},[$t]),R.useEffect(function(){if($t){var Vt=new ResizeObserver(function(Jt,mn){Jt.forEach(function(hn){if(hn.target===$t){var In=hn.contentRect,Bn=In.height,Wt=In.width;At({rect:{height:Bn,width:Wt}})}})});return Vt.observe($t),function(){Vt.unobserve($t)}}},[$t]),Mt}({elementRef:De}),Dt=R.useRef({scrollOffset:ui,measurements:[]});Dt.current.scrollOffset=Xt;var wt=R.useMemo(function(){return Array(Te).fill(-1)},[]),jt=R.useState(wt),It=jt[0],rn=jt[1],nn=R.useMemo(function(){var Lt=new IntersectionObserver(function(Rt){Rt.forEach(function(Pt){var $t=Pt.isIntersecting?Pt.intersectionRatio:-1,kt=Pt.target.getAttribute(di);if(kt){var Bt=parseInt(kt,10);0<=Bt&&Bt<Te&&rn(function(Ht){return Ht[Bt]=$t,function(Mt,At,Vt){if(Vt||arguments.length===2)for(var Jt,mn=0,hn=At.length;mn<hn;mn++)!Jt&&mn in At||(Jt||(Jt=Array.prototype.slice.call(At,0,mn)),Jt[mn]=At[mn]);return Mt.concat(Jt||Array.prototype.slice.call(At))}([],Ht,!0)})}})},{threshold:ma});return Lt},[]),an=R.useMemo(function(){return He===A.ScrollMode.Page&&Fe===A.ViewMode.SinglePage?function(Lt,Rt,Pt){for(var $t=[],kt=0;kt<Lt;kt++){var Bt={height:Math.max(Rt.height,Pt[kt].height),width:Math.max(Rt.width,Pt[kt].width)},Ht=kt===0?fa:$t[kt-1].end,Mt={left:Ht.left+Bt.width,top:Ht.top+Bt.height};$t[kt]={index:kt,start:Ht,size:Bt,end:Mt,visibility:-1}}return $t}(Te,Tt,Ge):Fe===A.ViewMode.DualPageWithCover?function(Lt,Rt,Pt,$t){for(var kt=[],Bt=0,Ht=0,Mt=Mr,At=0;At<Lt;At++){var Vt=At===0?{height:$t===A.ScrollMode.Page?Math.max(Rt.height,Pt[At].height):Pt[At].height,width:$t===A.ScrollMode.Page?Math.max(Rt.width,Pt[At].width):Pt[At].width}:{height:$t===A.ScrollMode.Page?Math.max(Rt.height,Pt[At].height):Pt[At].height,width:Math.max(Rt.width/2,Pt[At].width)};$t===A.ScrollMode.Page?Mt=At===0?Mr:{left:At%2==0?Vt.width:0,top:Math.floor((At-1)/2)*Vt.height+kt[0].end.top}:At===0?(Mt=Mr,Bt=Pt[0].height,Ht=0):At%2==1?(Mt={left:0,top:Bt+=Ht},Ht=At===Lt-1?Pt[At].height:Math.max(Pt[At].height,Pt[At+1].height)):Mt={left:kt[At-1].end.left,top:Bt};var Jt={left:Mt.left+Vt.width,top:Mt.top+Vt.height};kt[At]={index:At,start:Mt,size:Vt,end:Jt,visibility:-1}}return kt}(Te,Tt,Ge,He):Fe===A.ViewMode.DualPage?function(Lt,Rt,Pt,$t){for(var kt=[],Bt=0,Ht=0,Mt=ha,At=0;At<Lt;At++){var Vt={height:$t===A.ScrollMode.Page?Math.max(Rt.height,Pt[At].height):Pt[At].height,width:Math.max(Rt.width/2,Pt[At].width)};$t===A.ScrollMode.Page?Mt={left:At%2==0?0:Vt.width,top:Math.floor(At/2)*Vt.height}:At%2==0?(Mt={left:0,top:Bt+=Ht},Ht=At===Lt-1?Pt[At].height:Math.max(Pt[At].height,Pt[At+1].height)):Mt={left:kt[At-1].end.left,top:Bt};var Jt={left:Mt.left+Vt.width,top:Mt.top+Vt.height};kt[At]={index:At,start:Mt,size:Vt,end:Jt,visibility:-1}}return kt}(Te,Tt,Ge,He):function(Lt,Rt,Pt,$t){for(var kt=[],Bt=0,Ht={left:0,top:0},Mt=0,At=da,Vt=0;Vt<Lt;Vt++){var Jt=Pt[Vt];if(Vt===0)Bt=Jt.width,Ht={left:0,top:0},Mt=Jt.height;else switch($t){case A.ScrollMode.Wrapped:(Bt+=Jt.width)<Rt.width?(At={left:kt[Vt-1].end.left,top:Ht.top},Mt=Math.max(Mt,Jt.height)):(Bt=Jt.width,Ht={left:(At={left:Ht.left,top:Ht.top+Mt}).left,top:At.top},Mt=Jt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:At=kt[Vt-1].end}var mn={left:At.left+Jt.width,top:At.top+Jt.height};kt[Vt]={index:Vt,start:At,size:Jt,end:mn,visibility:-1}}return kt}(Te,Tt,Ge,He)},[He,Ge,Fe,Tt]),sn=an[Te-1]?{height:an[Te-1].end.top,width:an[Te-1].end.left}:pa;Dt.current.measurements=an;var ln=R.useMemo(function(){var Lt=function(Vt,Jt,mn,hn){var In=0;switch(Vt){case _t.Horizontal:In=hn.left;break;case _t.Vertical:default:In=hn.top}var Bn=Jt.length-1,Wt=function(dn,Xn,cr,yr){for(;dn<=Xn;){var Qn=(dn+Xn)/2|0,fr=yr(Qn);if(fr<cr)dn=Qn+1;else{if(!(fr>cr))return Qn;Xn=Qn-1}}return dn>0?dn-1:0}(0,Bn,In,function(dn){switch(Vt){case _t.Horizontal:return Jt[dn].start.left;case _t.Both:case _t.Vertical:default:return Jt[dn].start.top}});if(Vt===_t.Both)for(var Ln=Jt[Wt].start.top;Wt-1>=0&&Jt[Wt-1].start.top===Ln&&Jt[Wt-1].start.left>=hn.left;)Wt--;for(var gn=Wt;gn<=Bn;){var bn={top:Jt[gn].start.top-hn.top,left:Jt[gn].start.left-hn.left},xn={height:mn.height-bn.top,width:mn.width-bn.left};if(Vt===_t.Horizontal&&xn.width<0||Vt===_t.Vertical&&xn.height<0||Vt===_t.Both&&(xn.width<0||xn.height<0))break;gn++}return{start:Wt,end:gn}}(vt,an,Tt,Xt),Rt=Lt.start,Pt=Lt.end,$t=It.slice(hr(0,Te,Rt),hr(0,Te,Pt)),kt=Rt+$t.reduce(function(Vt,Jt,mn,hn){return Jt>hn[Vt]?mn:Vt},0),Bt=kt=hr(0,Te-1,kt),Ht=je({endPage:Pt,numPages:Te,startPage:Rt}),Mt=Ht.startPage,At=Ht.endPage;switch(Mt=Math.max(Mt,0),At=Math.min(At,Te-1),Fe){case A.ViewMode.DualPageWithCover:kt>0&&(Bt=kt%2==1?kt:kt-1),Mt=Mt===0?0:Mt%2==1?Mt:Mt-1,Te-(At=At%2==1?At-1:At)<=2&&(At=Te-1);break;case A.ViewMode.DualPage:Bt=kt%2==0?kt:kt-1,Mt=Mt%2==0?Mt:Mt-1,At=At%2==1?At:At-1;break;case A.ViewMode.SinglePage:default:Bt=kt}return{startPage:Mt,endPage:At,maxVisbilityIndex:Bt}},[an,Tt,Xt,Fe,It]),$n=ln.startPage,vn=ln.endPage,Mn=ln.maxVisbilityIndex,Cn=R.useMemo(function(){for(var Lt=[],Rt=function($t){var kt=an[$t],Bt=te(te({},kt),{visibility:It[$t]!==void 0?It[$t]:-1,measureRef:function(Ht){Ht&&(Ht.setAttribute(di,"".concat($t)),nn.observe(Ht))}});Lt.push(Bt)},Pt=$n;Pt<=vn;Pt++)Rt(Pt);return Lt},[$n,vn,It,an]),wn=R.useCallback(function(Lt,Rt){var Pt=Dt.current.measurements[hr(0,Te-1,Lt)],$t=st.current===A.ScrollMode.Page?ui:Rt;return Pt?xt({left:$t.left+Pt.start.left,top:$t.top+Pt.start.top},he):Promise.resolve()},[xt,he]),Pn=R.useCallback(function(Lt,Rt){var Pt=Dt.current.measurements,$t=Pt[Lt].start,kt=Pt.find(function(Ht){return Ht.start.top-$t.top>1e-12});if(!kt)return Promise.resolve();var Bt=kt.index;switch(Et.current){case A.ViewMode.DualPage:Bt=Bt%2==0?Bt:Bt+1;break;case A.ViewMode.DualPageWithCover:Bt=Bt%2==1?Bt:Bt+1}return wn(Bt,Rt)},[]),An=R.useCallback(function(Lt,Rt){for(var Pt=Dt.current.measurements,$t=Pt[Lt].start,kt=Lt,Bt=!1,Ht=Te-1;Ht>=0;Ht--)if($t.top-Pt[Ht].start.top>1e-12){Bt=!0,kt=Pt[Ht].index;break}if(!Bt)return Promise.resolve();switch(Et.current){case A.ViewMode.DualPage:kt=kt%2==0?kt:kt-1;break;case A.ViewMode.DualPageWithCover:kt=kt%2==0?kt-1:kt}return kt===Lt&&(kt=Lt-1),wn(kt,Rt)},[]),Dn=R.useCallback(function(Lt,Rt){if(Et.current===A.ViewMode.DualPageWithCover||Et.current===A.ViewMode.DualPage)return Pn(Lt,Rt);switch(st.current){case A.ScrollMode.Wrapped:return Pn(Lt,Rt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return wn(Lt+1,Rt)}},[]),Un=R.useCallback(function(Lt,Rt){if(Et.current===A.ViewMode.DualPageWithCover||Et.current===A.ViewMode.DualPage)return An(Lt,Rt);switch(st.current){case A.ScrollMode.Wrapped:return An(Lt,Rt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return wn(Lt-1,Rt)}},[]),Vn=R.useCallback(function(){return function(Lt,Rt){switch(Rt){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Lt.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Lt.height,"px"),width:"100%"}}}(sn,st.current)},[sn]),Rn=R.useCallback(function(Lt){return function(Rt,Pt,$t){return $t!==A.ScrollMode.Page?{}:{height:"".concat(Pt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Rt.start.top,"px)")}}(Lt,Tt,st.current)},[Tt]),jn=R.useCallback(function(Lt){return function(Rt,Pt,$t,kt,Bt){var Ht,Mt,At,Vt,Jt,mn,hn,In=Pt?"right":"left",Bn=Pt?-1:1,Wt=$t.length,Ln=Rt.start.left*Bn,gn=Rt.size,bn=gn.height,xn=gn.width;if(kt===A.ViewMode.DualPageWithCover){var dn=Bt===A.ScrollMode.Page?0:Rt.start.top;return Rt.index===0||Wt%2==0&&Rt.index===Wt-1?((Ht={height:"".concat(bn,"px"),minWidth:"".concat(ua($t,kt),"px"),width:"100%"})[In]=0,Ht.position="absolute",Ht.top=0,Ht.transform="translate(".concat(Ln,"px, ").concat(dn,"px)"),Ht):((Mt={height:"".concat(bn,"px"),width:"".concat(xn,"px")})[In]=0,Mt.position="absolute",Mt.top=0,Mt.transform="translate(".concat(Ln,"px, ").concat(dn,"px)"),Mt)}if(kt===A.ViewMode.DualPage)return(At={height:"".concat(bn,"px"),width:"".concat(xn,"px")})[In]=0,At.position="absolute",At.top=0,At.transform="translate(".concat(Ln,"px, ").concat(Bt===A.ScrollMode.Page?0:Rt.start.top,"px)"),At;switch(Bt){case A.ScrollMode.Horizontal:return(Vt={height:"100%",width:"".concat(xn,"px")})[In]=0,Vt.position="absolute",Vt.top=0,Vt.transform="translateX(".concat(Ln,"px)"),Vt;case A.ScrollMode.Page:return(Jt={height:"".concat(bn,"px"),width:"".concat(xn,"px")})[In]=0,Jt.position="absolute",Jt.top=0,Jt;case A.ScrollMode.Wrapped:return(mn={height:"".concat(bn,"px"),width:"".concat(xn,"px")})[In]=0,mn.position="absolute",mn.top=0,mn.transform="translate(".concat(Ln,"px, ").concat(Rt.start.top,"px)"),mn;case A.ScrollMode.Vertical:default:return(hn={height:"".concat(bn,"px"),width:"100%"})[In]=0,hn.position="absolute",hn.top=0,hn.transform="translateY(".concat(Rt.start.top,"px)"),hn}}(Lt,we,Ge,Et.current,st.current)},[we,Ge]),Gn=R.useCallback(function(Lt,Rt){var Pt=Dt.current,$t=Pt.measurements,kt=Pt.scrollOffset,Bt=$t[hr(0,Te-1,Rt)];if(Bt){var Ht=st.current===A.ScrollMode.Page?{left:Bt.start.left,top:Bt.start.top}:{left:kt.left*Lt,top:kt.top*Lt};return xt(Ht,!1)}return Promise.resolve()},[]);return R.useEffect(function(){return function(){nn.disconnect()}},[]),{boundingClientRect:Tt,isSmoothScrolling:Ve,startPage:$n,endPage:vn,maxVisbilityIndex:Mn,virtualItems:Cn,getContainerStyles:Vn,getItemContainerStyles:Rn,getItemStyles:jn,scrollToItem:wn,scrollToNextItem:Dn,scrollToPreviousItem:Un,zoom:Gn}},xr=function(K,he,we,Te,De,je){var Ge=we;switch(!0){case(De===A.ViewMode.DualPageWithCover&&je>=3):case(De===A.ViewMode.DualPage&&je>=3):Ge=2*we;break;default:Ge=we}switch(Te){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((K.clientWidth-17)/Ge,(K.clientHeight-16)/he);case A.SpecialZoomLevel.PageWidth:return(K.clientWidth-17)/Ge}},va=function(K){var he,we,Te=K.getCurrentPage,De=(he=50,we=R.useRef([]),R.useEffect(function(){return function(){we.current=[]}},[]),{push:function(We){var Ve=we.current;Ve.length+1>he&&Ve.shift(),Ve.push(We),we.current=Ve},map:function(We){return we.current.map(function(Ve){return We(Ve)})},pop:function(){var We=we.current;if(We.length===0)return null;var Ve=We.pop();return we.current=We,Ve}}),je=function(We){var Ve=R.useRef([]);return R.useEffect(function(){return function(){Ve.current=[]}},[]),{dequeue:function(){var lt=Ve.current;if(lt.length===0)return null;var ct=lt.shift();return Ve.current=lt,ct||null},enqueue:function(lt){var ct=Ve.current;ct.length+1>We&&ct.pop(),Ve.current=[lt].concat(ct)},map:function(lt){return Ve.current.map(function(ct){return lt(ct)})}}}(50),Ge=function(){var We=je.dequeue();return We&&De.push(We),We&&We.pageIndex===Te()?Ge():We},He=function(){var We=De.pop();return We&&je.enqueue(We),We&&We.pageIndex===Te()?He():We},Fe=R.useCallback(function(We){De.push(We)},[]);return{getNextDestination:Ge,getPreviousDestination:He,markVisitedDestination:Fe}},hi=function(K){var he=[];return K.map(function(we){he=he.concat(we).concat(function(Te){var De=[];return Te.items&&Te.items.length>0&&(De=De.concat(hi(Te.items))),De}(we))}),he},fi={capture:!1,passive:!0},ba={height:0,width:0},Tr={height:0,width:0},_a=function(K){var he=K.getCurrentPage,we=K.getCurrentScrollMode,Te=K.jumpToPage,De=K.targetRef,je=R.useState(A.FullScreenMode.Normal),Ge=je[0],He=je[1],Fe=function(){var It=R.useState(ba),rn=It[0],nn=It[1],an=ze(function(){nn({height:window.innerHeight,width:window.innerWidth})},100);return ee(function(){return window.addEventListener("resize",an,fi),function(){window.removeEventListener("resize",an,fi)}},[]),rn}(),We=R.useState(Tr),Ve=We[0],lt=We[1],ct=R.useRef(Tr),st=R.useRef(he()),Et=R.useRef(Tr),vt=R.useState(De.current),gt=vt[0],Xt=vt[1],xt=R.useRef();ee(function(){De.current!==gt&&Xt(De.current)},[]),ee(function(){if(gt){var It=new ResizeObserver(function(rn){rn.forEach(function(nn){var an=nn.target.getBoundingClientRect(),sn=an.height,ln=an.width;lt({height:sn,width:ln})})});return It.observe(gt),function(){It.unobserve(gt),It.disconnect()}}},[gt]);var Tt=R.useCallback(function(It){var rn=nt();return rn&&rn!==It?(He(A.FullScreenMode.Normal),xe(rn)):Promise.resolve()},[]),Dt=R.useCallback(function(It){It&&le()&&(Xt(It),Tt(It).then(function(){xt.current=It,He(A.FullScreenMode.Entering),function(rn){_e&&rn[Ce.RequestFullScreen]()}(It)}))},[]),wt=R.useCallback(function(){nt()&&(He(A.FullScreenMode.Exitting),xe(document))},[]),jt=R.useCallback(function(){gt&&nt()!==gt&&He(A.FullScreenMode.Exitting)},[gt]);return R.useEffect(function(){switch(Ge){case A.FullScreenMode.Entering:xt.current&&(xt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),st.current=he(),ct.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:we()===A.ScrollMode.Page?Te(st.current).then(function(){He(A.FullScreenMode.EnteredCompletely)}):He(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:xt.current&&(xt.current.style.backgroundColor="",xt.current=null),st.current=he();break;case A.FullScreenMode.Exited:He(A.FullScreenMode.Normal),we()===A.ScrollMode.Page&&Te(st.current)}},[Ge]),R.useEffect(function(){if(Ge!==A.FullScreenMode.Normal)return Ge===A.FullScreenMode.Entering&&Fe.height===Ve.height&&Fe.width===Ve.width&&Fe.height>0&&Fe.width>0&&(Et.current.height===0||Fe.height==Et.current.height)?(Et.current={height:window.innerHeight,width:window.innerWidth},void He(A.FullScreenMode.Entered)):void(Ge===A.FullScreenMode.Exitting&&ct.current.height===Fe.height&&ct.current.width===Fe.width&&Fe.height>0&&Fe.width>0&&He(A.FullScreenMode.Exited))},[Ge,Fe,Ve]),R.useEffect(function(){var It;return It=jt,_e&&document.addEventListener(Ce.FullScreenChange,It),function(){(function(rn){_e&&document.removeEventListener(Ce.FullScreenChange,rn)})(jt)}},[gt]),{enterFullScreenMode:Dt,exitFullScreenMode:wt,fullScreenMode:Ge}},Ea={buildPageStyles:function(){return{}},transformSize:function(K){return K.size}},sr={left:0,top:0},ya=function(K){var he=K.currentFile,we=K.defaultScale,Te=K.doc,De=K.enableSmoothScroll,je=K.initialPage,Ge=K.initialRotation,He=K.initialScale,Fe=K.pageLayout,We=K.pageSizes,Ve=K.plugins,lt=K.renderPage,ct=K.scrollMode,st=K.setRenderRange,Et=K.viewMode,vt=K.viewerState,gt=K.onDocumentLoad,Xt=K.onOpenFile,xt=K.onPageChange,Tt=K.onRotate,Dt=K.onRotatePage,wt=K.onZoom,jt=Te.numPages,It=Te.loadingTask.docId,rn=R.useContext(Se).l10n,nn=R.useContext(ie),an=nn.direction===A.TextDirection.RightToLeft,sn=R.useRef(),ln=R.useRef(),$n=R.useState(je),vn=$n[0],Mn=$n[1],Cn=R.useRef(null),wn=va({getCurrentPage:function(){return Wt.current.pageIndex}}),Pn=R.useState(Ge),An=Pn[0],Dn=Pn[1],Un=Be(An),Vn=R.useState(!1),Rn=Vn[0],jn=Vn[1],Gn=R.useState(new Map),Lt=Gn[0],Rt=Gn[1],Pt=R.useState(ct),$t=Pt[0],kt=Pt[1],Bt=Be($t),Ht=R.useState(Et),Mt=Ht[0],At=Ht[1],Vt=Be(Mt),Jt=function(mt){var Ut=Ue(),Qt=R.useState([]),un=Qt[0],cn=Qt[1];return R.useEffect(function(){mt.getOutline().then(function(en){if(Ut.current&&en!==null){var Tn=hi(en);cn(Tn)}})},[]),un}(Te),mn=R.useState(He),hn=mn[0],In=mn[1],Bn=Be(hn),Wt=R.useRef(vt),Ln=R.useRef(typeof we=="string"?we:null),gn=R.useRef(-1),bn=R.useRef(-1),xn=R.useRef(je),dn=_a({getCurrentPage:function(){return Wt.current.pageIndex},getCurrentScrollMode:function(){return Wt.current.scrollMode},jumpToPage:function(mt){return Yn(mt)},targetRef:ln}),Xn=R.useState(-1),cr=Xn[0],yr=Xn[1],Qn=R.useState(0),fr=Qn[0],ka=Qn[1],zn=Je({doc:Te});R.useEffect(function(){return function(){yt.clear(),Ft.clear()}},[It]);var vi=R.useMemo(function(){return Object.assign({},Ea,Fe)},[]),$a=R.useMemo(function(){return Array(jt).fill(0).map(function(mt,Ut){var Qt=[We[Ut].pageHeight,We[Ut].pageWidth],un=Math.abs(An)%180==0?{height:Qt[0],width:Qt[1]}:{height:Qt[1],width:Qt[0]},cn={height:un.height*hn,width:un.width*hn};return vi.transformSize({numPages:jt,pageIndex:Ut,size:cn})})},[An,hn]),fn=ga({enableSmoothScroll:De,isRtl:an,numberOfItems:jt,parentRef:ln,scrollMode:$t,setRenderRange:st,sizes:$a,viewMode:Mt}),Ma=ze(function(){!Ln.current||Wt.current.fullScreenMode!==A.FullScreenMode.Normal||je>0&&xn.current===je||er(Ln.current)},200);(function(mt){var Ut=mt.targetRef,Qt=mt.onResize;ee(function(){var un=new ResizeObserver(function(en){en.forEach(function(Tn){Qt(Tn.target)})}),cn=Ut.current;if(cn)return un.observe(cn),function(){un.unobserve(cn)}},[])})({targetRef:ln,onResize:Ma});var Kn=function(mt){var Ut=mt;Ve.forEach(function(Qt){Qt.onViewerStateChange&&(Ut=Qt.onViewerStateChange(Ut))}),Wt.current=Ut},xa=function(){return ln.current},Ta=function(){return Wt.current},Ra=R.useCallback(function(mt){wn.markVisitedDestination(mt)},[]),Ir=R.useCallback(function(mt){var Ut=mt.pageIndex,Qt=mt.bottomOffset,un=mt.leftOffset,cn=mt.scaleTo,en=ln.current,Tn=Wt.current;return en&&Tn?new Promise(function(Zn,Br){$e(Te,Ut).then(function(Sr){var Jn=Sr.getViewport({scale:1}),Cr=0,wi=(typeof Qt=="function"?Qt(Jn.width,Jn.height):Qt)||0,Ar=(typeof un=="function"?un(Jn.width,Jn.height):un)||0,lr=Tn.scale;switch(cn){case A.SpecialZoomLevel.PageFit:Cr=0,Ar=0,er(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:lr=xr(en,We[Ut].pageHeight,We[Ut].pageWidth,A.SpecialZoomLevel.PageWidth,Et,jt),Cr=(Jn.height-wi)*lr,Ar*=lr,er(lr);break;default:Cr=(Jn.height-wi)*lr,Ar*=lr}switch(Tn.scrollMode){case A.ScrollMode.Horizontal:fn.scrollToItem(Ut,{left:Ar,top:0}).then(function(){Zn()});break;case A.ScrollMode.Vertical:default:fn.scrollToItem(Ut,{left:0,top:Cr}).then(function(){Zn()})}})}):Promise.resolve()},[]),bi=R.useCallback(function(mt){return wn.markVisitedDestination(mt),Ir(mt)},[]),Fa=R.useCallback(function(){var mt=wn.getNextDestination();return mt?Ir(mt):Promise.resolve()},[]),Ia=R.useCallback(function(){var mt=wn.getPreviousDestination();return mt?Ir(mt):Promise.resolve()},[]),La=R.useCallback(function(){return fn.scrollToNextItem(Wt.current.pageIndex,sr)},[]),Yn=R.useCallback(function(mt){return 0<=mt&&mt<jt?fn.scrollToItem(mt,sr):Promise.resolve()},[]),Oa=R.useCallback(function(){return fn.scrollToPreviousItem(Wt.current.pageIndex,sr)},[]),_i=R.useCallback(function(mt){var Ut,Qt;(Ut=mt.name,Qt=Ut.split(/\./).pop(),Qt?Qt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(un){var cn=new FileReader;cn.readAsArrayBuffer(mt),cn.onload=function(){var en=new Uint8Array(cn.result);un(en)}}).then(function(un){Xt(mt.name,un)})},[Xt]),Ei=R.useCallback(function(mt){var Ut=mt===A.RotateDirection.Backward?-90:90,Qt=Wt.current.rotation,un=Qt===360||Qt===-360?Ut:Qt+Ut;zn.markNotRendered(),Dn(un),Kn(te(te({},Wt.current),{rotation:un})),Tt({direction:mt,doc:Te,rotation:un})},[]),Lr=R.useCallback(function(mt,Ut){var Qt=Ut===A.RotateDirection.Backward?-90:90,un=Wt.current.pagesRotation,cn=(un.has(mt)?un.get(mt):Ge)+Qt,en=un.set(mt,cn);Rt(en),jn(function(Tn){return!Tn}),Kn(te(te({},Wt.current),{pagesRotation:en,rotatedPage:mt})),Dt({direction:Ut,doc:Te,pageIndex:mt,rotation:cn}),zn.markRendering(mt),yr(mt)},[]),yi=R.useCallback(function(mt){Kn(te(te({},Wt.current),{scrollMode:mt})),kt(mt)},[]),Si=R.useCallback(function(mt){Kn(te(te({},Wt.current),{viewMode:mt})),At(mt)},[]),er=R.useCallback(function(mt){var Ut=ln.current,Qt=Wt.current.pageIndex;if(!(Qt<0||Qt>=jt)){var un=We[Qt].pageHeight,cn=We[Qt].pageWidth,en=Ut?typeof mt=="string"?xr(Ut,un,cn,mt,Wt.current.viewMode,jt):mt:1;Ln.current=typeof mt=="string"?mt:null,en!==Wt.current.scale&&(ka(function(Tn){return Tn+1}),zn.markNotRendered(),In(en),wt({doc:Te,scale:en}),Kn(te(te({},Wt.current),{scale:en})))}},[]),Da=R.useCallback(function(mt){dn.enterFullScreenMode(mt)},[]),Na=R.useCallback(function(){dn.exitFullScreenMode()},[]);R.useEffect(function(){Kn(te(te({},Wt.current),{fullScreenMode:dn.fullScreenMode}))},[dn.fullScreenMode]),R.useEffect(function(){var mt={enterFullScreenMode:Da,exitFullScreenMode:Na,getPagesContainer:xa,getViewerState:Ta,jumpToDestination:bi,jumpToNextDestination:Fa,jumpToPreviousDestination:Ia,jumpToNextPage:La,jumpToPreviousPage:Oa,jumpToPage:Yn,openFile:_i,rotate:Ei,rotatePage:Lr,setViewerState:Kn,switchScrollMode:yi,switchViewMode:Si,zoom:er};return Ve.forEach(function(Ut){Ut.install&&Ut.install(mt)}),function(){Ve.forEach(function(Ut){Ut.uninstall&&Ut.uninstall(mt)})}},[It]),R.useEffect(function(){gt({doc:Te,file:he}),Ve.forEach(function(mt){mt.onDocumentLoad&&mt.onDocumentLoad({doc:Te,file:he})})},[It]);var Or,Dr,Nr,Ci=fn.boundingClientRect;Or=function(){je&&Yn(je)},Dr=Ci.height>0&&Ci.width>0,Nr=R.useRef(!1),ee(function(){Dr&&!Nr.current&&(Nr.current=!0,Or())},[Or,Dr]),ee(function(){var mt=Wt.current.pageIndex;mt>-1&&Bt!==$t&&fn.scrollToItem(mt,sr).then(function(){dn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(De||zn.markNotRendered(),gn.current=-1)})},[$t]),ee(function(){var mt=Wt.current.pageIndex;mt>-1&&Un!==An&&fn.scrollToItem(mt,sr)},[An]),ee(function(){Bn!=0&&Bn!=Wt.current.scale&&fn.zoom(Wt.current.scale/Bn,Wt.current.pageIndex).then(function(){dn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(bn.current=-1)})},[hn]),ee(function(){if(Vt!==Wt.current.viewMode){var mt=fn.startPage,Ut=fn.endPage,Qt=fn.virtualItems;zn.markNotRendered(),zn.setRange(mt,Ut);for(var un=function(en){var Tn=Qt.find(function(Zn){return Zn.index===en});Tn&&zn.setVisibility(en,Tn.visibility)},cn=mt;cn<=Ut;cn++)un(cn);jr()}},[Mt]),ee(function(){var mt=Wt.current.pageIndex;mt>-1&&Vt!==Mt&&fn.scrollToItem(mt,sr)},[Mt]),ee(function(){var mt=Wt.current.pageIndex;mt>0&&mt===je&&xn.current===je&&Ln.current&&(xn.current=-1,er(Ln.current))},[vn]),R.useEffect(function(){fn.isSmoothScrolling||Cn.current!==null&&Cn.current===vn||(Cn.current=vn,xt({currentPage:vn,doc:Te}))},[vn,fn.isSmoothScrolling]),R.useEffect(function(){dn.fullScreenMode===A.FullScreenMode.Entering&&Wt.current.scrollMode===A.ScrollMode.Page&&(gn.current=Wt.current.pageIndex),dn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Wt.current.scrollMode===A.ScrollMode.Page&&De&&(gn.current=-1),dn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Ln.current&&(bn.current=Wt.current.pageIndex,er(Ln.current))},[dn.fullScreenMode]),R.useEffect(function(){if(dn.fullScreenMode!==A.FullScreenMode.Entering&&dn.fullScreenMode!==A.FullScreenMode.Exitting&&!fn.isSmoothScrolling){var mt=fn.startPage,Ut=fn.endPage,Qt=fn.maxVisbilityIndex,un=fn.virtualItems,cn=Qt,en=dn.fullScreenMode===A.FullScreenMode.Entered||dn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(en&&cn!==gn.current&&gn.current>-1||en&&cn!==bn.current&&bn.current>-1)){Mn(cn),Kn(te(te({},Wt.current),{pageIndex:cn})),zn.setRange(mt,Ut);for(var Tn=function(Br){var Sr=un.find(function(Jn){return Jn.index===Br});Sr&&zn.setVisibility(Br,Sr.visibility)},Zn=mt;Zn<=Ut;Zn++)Tn(Zn);jr()}}},[fn.startPage,fn.endPage,fn.isSmoothScrolling,fn.maxVisbilityIndex,dn.fullScreenMode,Rn,An,hn]);var ja=R.useCallback(function(mt){zn.markRendered(mt),jr()},[fr]),jr=function(){var mt=zn.getHighestPriorityPage();mt>-1&&zn.isInRange(mt)&&(zn.markRendering(mt),yr(mt))},Ba=function(mt){var Ut=vn-1,Qt=vn+1;switch(mt){case"FirstPage":Yn(0);break;case"LastPage":Yn(jt-1);break;case"NextPage":Qt<jt&&Yn(Qt);break;case"PrevPage":Ut>=0&&Yn(Ut)}},za=R.useCallback(function(){var mt=fn.virtualItems,Ut=[];switch(Mt){case A.ViewMode.DualPage:Ut=ut(mt,2);break;case A.ViewMode.DualPageWithCover:mt.length&&(Ut=mt[0].index===0?[[mt[0]]].concat(ut(mt.slice(1),2)):ut(mt,2));break;case A.ViewMode.SinglePage:default:Ut=ut(mt,1)}var Qt=rn&&rn.core?rn.core.pageLabel:"Page {{pageIndex}}",un={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:sn,style:{height:"100%"}},children:R.createElement(R.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:Q({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":$t===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":an,"rpv-core__inner-pages--single":$t===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":$t===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":$t===A.ScrollMode.Wrapped}),ref:ln,style:{height:"100%",position:"relative"}},children:R.createElement("div",{"data-testid":"core__inner-current-page-".concat(vn),style:Object.assign({"--scale-factor":hn},fn.getContainerStyles())},Ut.map(function(cn){return R.createElement("div",{className:Q({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":$t===A.ScrollMode.Page}),style:fn.getItemContainerStyles(cn[0]),key:"".concat(cn[0].index,"-").concat(Mt)},cn.map(function(en){var Tn=Mt===A.ViewMode.DualPageWithCover&&(en.index===0||jt%2==0&&en.index===jt-1);return R.createElement("div",{"aria-label":Qt.replace("{{pageIndex}}","".concat(en.index+1)),className:Q({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Mt===A.ViewMode.DualPage&&en.index%2==0,"rpv-core__inner-page--dual-odd":Mt===A.ViewMode.DualPage&&en.index%2==1,"rpv-core__inner-page--dual-cover":Tn,"rpv-core__inner-page--dual-cover-even":Mt===A.ViewMode.DualPageWithCover&&!Tn&&en.index%2==0,"rpv-core__inner-page--dual-cover-odd":Mt===A.ViewMode.DualPageWithCover&&!Tn&&en.index%2==1,"rpv-core__inner-page--single":Mt===A.ViewMode.SinglePage&&$t===A.ScrollMode.Page}),role:"region",key:"".concat(en.index,"-").concat(Mt),style:Object.assign({},fn.getItemStyles(en),vi.buildPageStyles({numPages:jt,pageIndex:en.index,scrollMode:$t,viewMode:Mt}))},R.createElement(oa,{doc:Te,measureRef:en.measureRef,outlines:Jt,pageIndex:en.index,pageRotation:Lt.has(en.index)?Lt.get(en.index):0,pageSize:We[en.index],plugins:Ve,renderPage:lt,renderQueueKey:fr,rotation:An,scale:hn,shouldRender:cr===en.index,viewMode:Mt,onExecuteNamedAction:Ba,onJumpFromLinkAnnotation:Ra,onJumpToDest:bi,onRenderCompleted:ja,onRotatePage:Lr}))}))}))}};return Ve.forEach(function(cn){cn.renderViewer&&(un=cn.renderViewer({containerRef:sn,doc:Te,pagesContainerRef:ln,pagesRotation:Lt,pageSizes:We,rotation:An,slot:un,themeContext:nn,jumpToPage:Yn,openFile:_i,rotate:Ei,rotatePage:Lr,switchScrollMode:yi,switchViewMode:Si,zoom:er}))}),un},[Ve,fn]),Ai=R.useCallback(function(mt){return R.createElement("div",te({},mt.attrs,{style:mt.attrs&&mt.attrs.style?mt.attrs.style:{}}),mt.children,mt.subSlot&&Ai(mt.subSlot))},[]);return Ai(za())},pi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Sa=function(K){var he=K.defaultScale,we=K.doc,Te=K.render,De=K.scrollMode,je=K.viewMode,Ge=R.useRef(),He=R.useState({pageSizes:[],scale:0}),Fe=He[0],We=He[1];return R.useLayoutEffect(function(){var Ve=Array(we.numPages).fill(0).map(function(lt,ct){return new Promise(function(st,Et){$e(we,ct).then(function(vt){var gt=vt.getViewport({scale:1});st({pageHeight:gt.height,pageWidth:gt.width,rotation:gt.rotation})})})});Promise.all(Ve).then(function(lt){var ct=Ge.current;if(ct&&lt.length!==0){var st=lt[0].pageWidth,Et=lt[0].pageHeight,vt=ct.parentElement,gt=(vt.clientWidth-45)/st,Xt=(vt.clientHeight-45)/Et,xt=gt;switch(De){case A.ScrollMode.Horizontal:xt=Math.min(gt,Xt);break;case A.ScrollMode.Vertical:default:xt=gt}var Tt,Dt,wt=he?typeof he=="string"?xr(vt,Et,st,he,je,we.numPages):he:(Tt=xt,(Dt=pi.findIndex(function(jt){return jt>=Tt}))===-1||Dt===0?Tt:pi[Dt-1]);We({pageSizes:lt,scale:wt})}})},[we.loadingTask.docId]),Fe.pageSizes.length===0||Fe.scale===0?R.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Ge},R.createElement(W,null)):Te(Fe.pageSizes,Fe.scale)},Er=function(){},Rr=function(K){function he(we,Te){var De=K.call(this)||this;return De.verifyPassword=we,De.passwordStatus=Te,De}return pe(he,K),he}(Er),Ca=function(K){var he=K.passwordStatus,we=K.renderProtectedView,Te=K.verifyPassword,De=K.onDocumentAskPassword,je=R.useContext(Se).l10n,Ge=R.useState(""),He=Ge[0],Fe=Ge[1],We=R.useContext(ie).direction===A.TextDirection.RightToLeft,Ve=function(){return Te(He)};return R.useEffect(function(){De&&De({verifyPassword:Te})},[]),we?we({passwordStatus:he,verifyPassword:Te}):R.createElement("div",{className:"rpv-core__asking-password-wrapper"},R.createElement("div",{className:Q({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":We})},R.createElement("div",{className:"rpv-core__asking-password-message"},he===A.PasswordStatus.RequiredPassword&&je.core.askingPassword.requirePasswordToOpen,he===A.PasswordStatus.WrongPassword&&je.core.wrongPassword.tryAgain),R.createElement("div",{className:"rpv-core__asking-password-body"},R.createElement("div",{className:Q({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!We,"rpv-core__asking-password-input--rtl":We})},R.createElement(q,{testId:"core__asking-password-input",type:"password",value:He,onChange:Fe,onKeyDown:function(lt){lt.key==="Enter"&&Ve()}})),R.createElement(Y,{onClick:Ve},je.core.askingPassword.submit))))},mi=function(K){function he(we){var Te=K.call(this)||this;return Te.doc=we,Te}return pe(he,K),he}(Er),gi=function(K){function he(we){var Te=K.call(this)||this;return Te.error=we,Te}return pe(he,K),he}(Er),Fr=function(K){function he(we){var Te=K.call(this)||this;return Te.percentages=we,Te}return pe(he,K),he}(Er),Aa=function(K){var he=K.characterMap,we=K.file,Te=K.httpHeaders,De=K.render,je=K.renderError,Ge=K.renderLoader,He=K.renderProtectedView,Fe=K.transformGetDocumentParams,We=K.withCredentials,Ve=K.onDocumentAskPassword,lt=R.useContext(ie).direction===A.TextDirection.RightToLeft,ct=R.useState(new Fr(0)),st=ct[0],Et=ct[1],vt=R.useRef(""),gt=Ue();return R.useEffect(function(){vt.current="",Et(new Fr(0));var Xt=new re.PDFWorker({name:"PDFWorker_".concat(Date.now())}),xt=Object.assign({httpHeaders:Te,withCredentials:We,worker:Xt},typeof we=="string"?{url:we}:{data:we},he?{cMapUrl:he.url,cMapPacked:he.isCompressed}:{}),Tt=Fe?Fe(xt):xt,Dt=re.getDocument(Tt);return Dt.onPassword=function(wt,jt){switch(jt){case re.PasswordResponses.NEED_PASSWORD:gt.current&&Et(new Rr(wt,A.PasswordStatus.RequiredPassword));break;case re.PasswordResponses.INCORRECT_PASSWORD:gt.current&&Et(new Rr(wt,A.PasswordStatus.WrongPassword))}},Dt.onProgress=function(wt){var jt=wt.total>0?Math.min(100,100*wt.loaded/wt.total):100;gt.current&&vt.current===""&&Et(new Fr(jt))},Dt.promise.then(function(wt){vt.current=wt.loadingTask.docId,gt.current&&Et(new mi(wt))},function(wt){return gt.current&&!Xt.destroyed&&Et(new gi({message:wt.message||"Cannot load document",name:wt.name}))}),function(){Dt.destroy(),Xt.destroy()}},[we]),st instanceof Rr?R.createElement(Ca,{passwordStatus:st.passwordStatus,renderProtectedView:He,verifyPassword:st.verifyPassword,onDocumentAskPassword:Ve}):st instanceof mi?De(st.doc):st instanceof gi?je?je(st.error):R.createElement("div",{className:Q({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":lt})},R.createElement("div",{className:"rpv-core__doc-error-text"},st.error.message)):R.createElement("div",{"data-testid":"core__doc-loading",className:Q({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":lt})},Ge?Ge(st.percentages):R.createElement(W,null))},wa=function(K,he){var we=R.useMemo(function(){return K==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":K},[]),Te=R.useState(we),De=Te[0],je=Te[1],Ge=Be(De);return R.useEffect(function(){if(K==="auto"){var He=window.matchMedia("(prefers-color-scheme: dark)"),Fe=function(We){je(We.matches?"dark":"light")};return He.addEventListener("change",Fe),function(){return He.removeEventListener("change",Fe)}}},[]),R.useEffect(function(){De!==Ge&&he&&he(De)},[De]),R.useEffect(function(){K!==De&&je(K)},[K]),{currentTheme:De,setCurrentTheme:je}},Pa=function(K){return{startPage:K.startPage-3,endPage:K.endPage+3}};A.Button=function(K){var he=K.children,we=K.testId,Te=K.onClick,De=R.useContext(ie).direction===A.TextDirection.RightToLeft,je=we?{"data-testid":we}:{};return R.createElement("button",te({className:Q({"rpv-core__button":!0,"rpv-core__button--rtl":De}),type:"button",onClick:Te},je),he)},A.Icon=U,A.LazyRender=function(K){var he=K.attrs,we=K.children,Te=K.testId,De=R.useState(!1),je=De[0],Ge=De[1],He=Te?te(te({},he),{"data-testid":Te}):he,Fe=G({once:!0,onVisibilityChanged:function(We){We.isVisible&&Ge(!0)}});return R.createElement("div",te({ref:Fe},He),je&&we)},A.LocalizationContext=Se,A.Menu=function(K){var he=K.children,we=R.useRef(),Te=R.useRef([]),De=R.useContext(ie).direction===A.TextDirection.RightToLeft,je=function(He){if(we.current)switch(He.key){case"Tab":He.preventDefault();break;case"ArrowDown":He.preventDefault(),Ge(function(Fe,We){return We+1});break;case"ArrowUp":He.preventDefault(),Ge(function(Fe,We){return We-1});break;case"End":He.preventDefault(),Ge(function(Fe,We){return Fe.length-1});break;case"Home":He.preventDefault(),Ge(function(Fe,We){return 0})}},Ge=function(He){if(we.current){var Fe=Te.current,We=Fe.findIndex(function(lt){return lt.getAttribute("tabindex")==="0"}),Ve=Math.min(Fe.length-1,Math.max(0,He(Fe,We)));We>=0&&We<=Fe.length-1&&Fe[We].setAttribute("tabindex","-1"),Fe[Ve].setAttribute("tabindex","0"),Fe[Ve].focus()}};return ee(function(){var He=we.current;if(He){var Fe=function(We){var Ve=[];return We.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(lt){if(lt instanceof HTMLElement){var ct=lt.parentElement;(ct===We||window.getComputedStyle(ct).display!=="none")&&Ve.push(lt)}}),Ve}(He);Te.current=Fe}},[]),ee(function(){return document.addEventListener("keydown",je),function(){document.removeEventListener("keydown",je)}},[]),R.createElement("div",{ref:we,"aria-orientation":"vertical",className:Q({"rpv-core__menu":!0,"rpv-core__menu--rtl":De}),role:"menu",tabIndex:0},he)},A.MenuDivider=function(){return R.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(K){var he=K.checked,we=he!==void 0&&he,Te=K.children,De=K.icon,je=De===void 0?null:De,Ge=K.isDisabled,He=Ge!==void 0&&Ge,Fe=K.testId,We=K.onClick,Ve=R.useContext(ie).direction===A.TextDirection.RightToLeft,lt=Fe?{"data-testid":Fe}:{};return R.createElement("button",te({className:Q({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":He,"rpv-core__menu-item--ltr":!Ve,"rpv-core__menu-item--rtl":Ve}),role:"menuitem",tabIndex:-1,type:"button",onClick:We},lt),R.createElement("div",{className:Q({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ve,"rpv-core__menu-item-icon--rtl":Ve})},je),R.createElement("div",{className:Q({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ve,"rpv-core__menu-item-label--rtl":Ve})},Te),R.createElement("div",{className:Q({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ve,"rpv-core__menu-item-check--rtl":Ve})},we&&R.createElement(J,null)))},A.MinimalButton=function(K){var he=K.ariaLabel,we=he===void 0?"":he,Te=K.ariaKeyShortcuts,De=Te===void 0?"":Te,je=K.children,Ge=K.isDisabled,He=Ge!==void 0&&Ge,Fe=K.isSelected,We=Fe!==void 0&&Fe,Ve=K.testId,lt=K.onClick,ct=R.useContext(ie).direction===A.TextDirection.RightToLeft,st=Ve?{"data-testid":Ve}:{};return R.createElement("button",te({"aria-label":we},De&&{"aria-keyshortcuts":De},He&&{"aria-disabled":!0},{className:Q({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":He,"rpv-core__minimal-button--rtl":ct,"rpv-core__minimal-button--selected":We}),type:"button",onClick:lt},st),je)},A.Modal=function(K){var he=K.ariaControlsSuffix,we=K.closeOnClickOutside,Te=K.closeOnEscape,De=K.content,je=K.isOpened,Ge=je!==void 0&&je,He=K.target,Fe=he||"".concat(ne());return R.createElement(rt,{target:He?function(We,Ve){return R.createElement("div",{"aria-expanded":Ve?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Fe)},He(We,Ve))}:null,content:function(We){return R.createElement(Me,null,R.createElement(Ae,{ariaControlsSuffix:Fe,closeOnClickOutside:we,closeOnEscape:Te,onToggle:We},De(We)))},isOpened:Ge})},A.Popover=function(K){var he=K.ariaHasPopup,we=he===void 0?"dialog":he,Te=K.ariaControlsSuffix,De=K.closeOnClickOutside,je=K.closeOnEscape,Ge=K.content,He=K.lockScroll,Fe=He===void 0||He,We=K.offset,Ve=K.position,lt=K.target,ct=qe(!1),st=ct.opened,Et=ct.toggle,vt=R.useRef(),gt=R.useMemo(function(){return Te||"".concat(ne())},[]);return R.createElement("div",{ref:vt,"aria-expanded":st?"true":"false","aria-haspopup":we,"aria-controls":"rpv-core__popver-body-".concat(gt)},lt(Et,st),st&&R.createElement(R.Fragment,null,Fe&&R.createElement(it,{closeOnEscape:je,onClose:Et}),R.createElement(ot,{ariaControlsSuffix:gt,closeOnClickOutside:De,offset:We,position:Ve,targetRef:vt,onClose:Et},Ge(Et))))},A.PrimaryButton=Y,A.ProgressBar=function(K){var he=K.progress,we=R.useContext(ie).direction===A.TextDirection.RightToLeft;return R.createElement("div",{className:Q({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":we})},R.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(he,"%")}},he,"%"))},A.Separator=function(){return R.createElement("div",{className:"rpv-core__separator"})},A.Spinner=W,A.Splitter=function(K){var he=K.constrain,we=R.useContext(ie).direction===A.TextDirection.RightToLeft,Te=R.useRef(),De=R.useRef(),je=R.useRef(),Ge=R.useRef(0),He=R.useRef(0),Fe=R.useRef(0),We=R.useRef(0),Ve={capture:!0},lt=function(st){var Et=Te.current,vt=De.current,gt=je.current;if(Et&&vt&&gt){var Xt=We.current,xt=st.clientX-Ge.current,Tt=Fe.current+(we?-xt:xt),Dt=Et.parentElement.getBoundingClientRect().width,wt=100*Tt/Dt;if(Et.classList.add("rpv-core__splitter--resizing"),he){var jt=Dt-Tt-Xt;if(!he({firstHalfPercentage:wt,firstHalfSize:Tt,secondHalfPercentage:100*jt/Dt,secondHalfSize:jt}))return}vt.style.width="".concat(wt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),vt.classList.add("rpv-core__splitter-sibling--resizing"),gt.classList.add("rpv-core__splitter-sibling--resizing")}},ct=function(st){var Et=Te.current,vt=De.current,gt=je.current;Et&&vt&&gt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Et.classList.remove("rpv-core__splitter--resizing"),vt.classList.remove("rpv-core__splitter-sibling--resizing"),gt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",lt,Ve),document.removeEventListener("mouseup",ct,Ve))};return R.useEffect(function(){var st=Te.current;st&&(We.current=st.getBoundingClientRect().width,De.current=st.previousElementSibling,je.current=st.nextElementSibling)},[]),R.createElement("div",{ref:Te,className:"rpv-core__splitter",onMouseDown:function(st){var Et=De.current;Et&&(Ge.current=st.clientX,He.current=st.clientY,Fe.current=Et.getBoundingClientRect().width,document.addEventListener("mousemove",lt,Ve),document.addEventListener("mouseup",ct,Ve))}})},A.TextBox=q,A.ThemeContext=ie,A.Tooltip=function(K){var he=K.ariaControlsSuffix,we=K.content,Te=K.offset,De=K.position,je=K.target,Ge=qe(!1),He=Ge.opened,Fe=Ge.toggle,We=R.useRef(),Ve=R.useRef(),lt=R.useMemo(function(){return he||"".concat(ne())},[]);ye(function(){We.current&&document.activeElement&&We.current.contains(document.activeElement)&&st()});var ct=function(){Fe(A.ToggleStatus.Open)},st=function(){Fe(A.ToggleStatus.Close)};return R.createElement(R.Fragment,null,R.createElement("div",{ref:We,"aria-describedby":"rpv-core__tooltip-body-".concat(lt),onBlur:function(Et){Et.relatedTarget instanceof HTMLElement&&Et.currentTarget.parentElement&&Et.currentTarget.parentElement.contains(Et.relatedTarget)?Ve.current&&(Ve.current.style.display="none"):st()},onFocus:ct,onMouseEnter:ct,onMouseLeave:st},je),He&&R.createElement(Ye,{ariaControlsSuffix:lt,contentRef:Ve,offset:Te,position:De,targetRef:We},we()))},A.Viewer=function(K){var he=K.characterMap,we=K.defaultScale,Te=K.enableSmoothScroll,De=Te===void 0||Te,je=K.fileUrl,Ge=K.httpHeaders,He=Ge===void 0?{}:Ge,Fe=K.initialPage,We=Fe===void 0?0:Fe,Ve=K.pageLayout,lt=K.initialRotation,ct=lt===void 0?0:lt,st=K.localization,Et=K.plugins,vt=Et===void 0?[]:Et,gt=K.renderError,Xt=K.renderLoader,xt=K.renderPage,Tt=K.renderProtectedView,Dt=K.scrollMode,wt=Dt===void 0?A.ScrollMode.Vertical:Dt,jt=K.setRenderRange,It=jt===void 0?Pa:jt,rn=K.transformGetDocumentParams,nn=K.theme,an=nn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:nn,sn=K.viewMode,ln=sn===void 0?A.ViewMode.SinglePage:sn,$n=K.withCredentials,vn=$n!==void 0&&$n,Mn=K.onDocumentAskPassword,Cn=K.onDocumentLoad,wn=Cn===void 0?function(){}:Cn,Pn=K.onPageChange,An=Pn===void 0?function(){}:Pn,Dn=K.onRotate,Un=Dn===void 0?function(){}:Dn,Vn=K.onRotatePage,Rn=Vn===void 0?function(){}:Vn,jn=K.onSwitchTheme,Gn=jn===void 0?function(){}:jn,Lt=K.onZoom,Rt=Lt===void 0?function(){}:Lt,Pt=R.useState({data:je,name:typeof je=="string"?je:"",shouldLoad:!1}),$t=Pt[0],kt=Pt[1],Bt=function(gn,bn){kt({data:bn,name:gn,shouldLoad:!0})},Ht=R.useState(!1),Mt=Ht[0],At=Ht[1],Vt=Be($t);R.useEffect(function(){var gn,bn,xn,dn;gn=Vt.data,dn=typeof(bn=je),(xn=typeof gn)=="string"&&dn==="string"&&gn===bn||xn==="object"&&dn==="object"&&gn.length===bn.length&&gn.every(function(Xn,cr){return Xn===bn[cr]})||kt({data:je,name:typeof je=="string"?je:"",shouldLoad:Mt})},[je,Mt]);var Jt=G({onVisibilityChanged:function(gn){At(gn.isVisible),gn.isVisible&&kt(function(bn){return Object.assign({},bn,{shouldLoad:!0})})}}),mn=typeof an=="string"?{direction:A.TextDirection.LeftToRight,theme:an}:an,hn=R.useState(st||Qe),In=hn[0],Bn=hn[1],Wt={l10n:In,setL10n:Bn},Ln=Object.assign({},{direction:mn.direction},wa(mn.theme||"light",Gn));return R.useEffect(function(){st&&Bn(st)},[st]),R.createElement(Se.Provider,{value:Wt},R.createElement(ie.Provider,{value:Ln},R.createElement("div",{ref:Jt,className:"rpv-core__viewer rpv-core__viewer--".concat(Ln.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},$t.shouldLoad&&R.createElement(Aa,{characterMap:he,file:$t.data,httpHeaders:He,render:function(gn){return R.createElement(Sa,{defaultScale:we,doc:gn,render:function(bn,xn){return R.createElement(ya,{currentFile:{data:$t.data,name:$t.name},defaultScale:we,doc:gn,enableSmoothScroll:De,initialPage:We,initialRotation:ct,initialScale:xn,pageLayout:Ve,pageSizes:bn,plugins:vt,renderPage:xt,scrollMode:wt,setRenderRange:It,viewMode:ln,viewerState:{file:$t,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:bn[0].pageHeight,pageWidth:bn[0].pageWidth,pagesRotation:new Map,rotation:ct,scale:xn,scrollMode:wt,viewMode:ln},onDocumentLoad:wn,onOpenFile:Bt,onPageChange:An,onRotate:Un,onRotatePage:Rn,onZoom:Rt})},scrollMode:wt,viewMode:ln})},renderError:gt,renderLoader:Xt,renderProtectedView:Tt,transformGetDocumentParams:rn,withCredentials:vn,onDocumentAskPassword:Mn}))))},A.Worker=function(K){var he=K.children,we=K.workerUrl;return re.GlobalWorkerOptions.workerSrc=we,R.createElement(R.Fragment,null,he)},A.chunk=ut,A.classNames=Q,A.createStore=function(K){var he=K||{},we={},Te=function(je,Ge){var He;he=te(te({},he),((He={})[je]=Ge,He)),(we[je]||[]).forEach(function(Fe){return Fe(he[je])})},De=function(je){return he[je]};return{subscribe:function(je,Ge){we[je]=(we[je]||[]).concat(Ge)},unsubscribe:function(je,Ge){we[je]=(we[je]||[]).filter(function(He){return He!==Ge})},update:function(je,Ge){Te(je,Ge)},updateCurrentValue:function(je,Ge){var He=De(je);He!==void 0&&Te(je,Ge(He))},get:function(je){return De(je)}}},A.getDestination=Re,A.getPage=$e,A.isFullScreenEnabled=le,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=ze,A.useIntersectionObserver=G,A.useIsMounted=Ue,A.useIsomorphicLayoutEffect=ee,A.usePrevious=Be,A.useRenderQueue=Je})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),B=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=n$e.useRef([]),re=B&&B.attachment?B.attachment.clickToDownload:"Click to download",de=function(pe){var ae=H.current,te=[].slice.call(ae.getElementsByClassName("rpv-attachment__item"));if(te.length!==0){te.forEach(function(Q){return Q.setAttribute("tabindex","-1")});var ve=document.activeElement,ie=te[Math.min(te.length-1,Math.max(0,pe(te,ve)))];ie.setAttribute("tabindex","0"),ie.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var pe=H.current;if(pe){var ae=[].slice.call(pe.getElementsByClassName("rpv-attachment__item"));if(R.current=ae,ae.length>0){var te=ae[0];te.focus(),te.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(pe){switch(pe.key){case"ArrowDown":pe.preventDefault(),de(function(ae,te){return ae.indexOf(te)+1});break;case"ArrowUp":pe.preventDefault(),de(function(ae,te){return ae.indexOf(te)-1});break;case"End":pe.preventDefault(),de(function(ae,te){return ae.length-1});break;case"Home":pe.preventDefault(),de(function(ae,te){return 0})}}},$.map(function(pe){return n$e.createElement("button",{className:"rpv-attachment__item",key:pe.fileName,tabIndex:-1,title:re,type:"button",onClick:function(){return ae=pe.fileName,te=pe.data,ve=typeof te=="string"?"":URL.createObjectURL(new Blob([te],{type:""})),(ie=document.createElement("a")).style.display="none",ie.href=ve||ae,ie.setAttribute("download",function(Q){var ee=Q.split("/").pop();return ee?ee.split("#")[0].split("?")[0]:Q}(ae)),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),void(ve&&URL.revokeObjectURL(ve));var ae,te,ve,ie}},pe.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,B=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",R=n$e.useState({files:[],isLoaded:!1}),re=R[0],de=R[1];return n$e.useEffect(function(){$.getAttachments().then(function(pe){var ae=pe?Object.keys(pe).map(function(te){return{data:pe[te].content,fileName:pe[te].filename}}):[];de({files:ae,isLoaded:!0})})},[$]),re.isLoaded?re.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":B})},O):n$e.createElement(a$e,{files:re.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),B=H[0],O=H[1],R=function(re){O(re)};return n$e.useEffect(function(){return $.subscribe("doc",R),function(){$.unsubscribe("doc",R)}},[]),B?n$e.createElement(r$e,{doc:B}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,H=A.depth,B=A.doc,O=A.index,R=A.isBookmarkExpanded,re=A.numberOfSiblings,de=A.pathFromRoot,pe=A.renderBookmarkItem,ae=A.store,te=de?"".concat(de,".").concat(O):"".concat(O),ve=o$d.useMemo(function(){return function(_e){var Ce=_e.count,le=_e.items;if(Ce>=0)return!1;var xe=le.length;if(xe===0)return!1;for(var nt=le.concat([]);nt.length>0;){var ze=nt.shift(),Ue=ze.items;ze.count&&Ue&&ze.count>0&&Ue.length>0&&(xe+=Ue.length,nt=nt.concat(Ue))}return Math.abs(Ce)===xe}($)},[$]),ie=ae.get("bookmarkExpandedMap"),Q=R?R({bookmark:$,doc:B,depth:H,index:O}):ie.has(te)?ie.get(te):!ve,ee=o$d.useState(Q),G=ee[0],U=ee[1],J=$.items&&$.items.length>0,Y=function(){var _e=!G;ae.updateCurrentValue("bookmarkExpandedMap",function(Ce){return Ce.set(te,_e)}),U(_e)},W=function(){var _e=$.dest,Ce=ae.get("jumpToDestination");e$d.getDestination(B,_e).then(function(le){Ce&&Ce(n$d({label:$.title},le))})},q=function(){J&&$.dest&&W()},V=function(){!J&&$.dest&&W()},X=function(_e,Ce){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:_e},Ce)},ce=function(_e,Ce){return J?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:Y},G?_e:Ce):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},me=function(_e){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:_e},$.title)};return o$d.createElement("li",{"aria-expanded":G?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":re,role:"treeitem",tabIndex:-1},pe?pe({bookmark:$,depth:H,hasSubItems:J,index:O,isExpanded:G,path:te,defaultRenderItem:X,defaultRenderTitle:me,defaultRenderToggle:ce,onClickItem:V,onClickTitle:q,onToggleSubItems:Y}):X(V,o$d.createElement(o$d.Fragment,null,ce(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),me(q))),J&&G&&o$d.createElement(m$9,{bookmarks:$.items,depth:H+1,doc:B,isBookmarkExpanded:R,isRoot:!1,pathFromRoot:te,renderBookmarkItem:pe,store:ae}))},m$9=function(A){var $=A.bookmarks,H=A.depth,B=H===void 0?0:H,O=A.doc,R=A.isBookmarkExpanded,re=A.isRoot,de=A.pathFromRoot,pe=A.renderBookmarkItem,ae=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:re?"tree":"group",tabIndex:-1},$.map(function(te,ve){return o$d.createElement(c$d,{bookmark:te,depth:B,doc:O,index:ve,isBookmarkExpanded:R,key:ve,numberOfSiblings:$.length,pathFromRoot:de,renderBookmarkItem:pe,store:ae})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,H=A.doc,B=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,re=o$d.useRef(),de=function(ve){var ie=re.current;if(ie&&ve.target instanceof HTMLElement&&ie.contains(ve.target))switch(ve.key){case"ArrowDown":ve.preventDefault(),ae(function(Q,ee){return Q.indexOf(ee)+1});break;case"ArrowLeft":ve.preventDefault(),te(r$d.Collapse);break;case"ArrowRight":ve.preventDefault(),te(r$d.Expand);break;case"ArrowUp":ve.preventDefault,ae(function(Q,ee){return Q.indexOf(ee)-1});break;case"End":ve.preventDefault(),ae(function(Q,ee){return Q.length-1});break;case" ":case"Enter":case"Space":ve.preventDefault(),pe();break;case"Home":ve.preventDefault(),ae(function(Q,ee){return 0})}},pe=function(){var ve=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");ve&&ve.click()},ae=function(ve){var ie=re.current,Q=[].slice.call(ie.getElementsByClassName("rpv-bookmark__item"));if(Q.length!==0){var ee=document.activeElement,G=Q[Math.min(Q.length-1,Math.max(0,ve(Q,ee)))];ee.setAttribute("tabindex","-1"),G.setAttribute("tabindex","0"),G.focus()}},te=function(ve){var ie=re.current;if([].slice.call(ie.getElementsByClassName("rpv-bookmark__item")).length!==0){var Q=document.activeElement.closest(".rpv-bookmark__item"),ee=ve===r$d.Collapse?"true":"false";if(Q&&Q.parentElement.getAttribute("aria-expanded")===ee){var G=Q.querySelector(".rpv-bookmark__toggle");G&&G.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",de),function(){document.removeEventListener("keydown",de)}},[]),o$d.useEffect(function(){var ve=re.current;if(ve){var ie=[].slice.call(ve.getElementsByClassName("rpv-bookmark__item"));ie.length>0&&(ie[0].focus(),ie[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:re},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:B,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:R}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,B=A.renderBookmarkItem,O=A.store,R=o$d.useContext(e$d.LocalizationContext).l10n,re=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,de=o$d.useState({isLoaded:!1,items:[]}),pe=de[0],ae=de[1];return o$d.useEffect(function(){ae({isLoaded:!1,items:[]}),$.getOutline().then(function(te){ae({isLoaded:!0,items:te||[]})})},[$]),pe.isLoaded?pe.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":re})},R&&R.bookmark?R.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":re})},o$d.createElement(l$d,{bookmarks:pe.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:B,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,B=A.store,O=o$d.useState(B.get("doc")),R=O[0],re=O[1],de=function(pe){re(pe)};return o$d.useEffect(function(){return B.subscribe("doc",de),function(){B.unsubscribe("doc",de)}},[]),R?o$d.createElement(s$9,{doc:R,isBookmarkExpanded:$,renderBookmarkItem:H,store:B}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function H(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(J){if(J!=="default"){var Y=Object.getOwnPropertyDescriptor(G,J);Object.defineProperty(U,J,Y.get?Y:{enumerable:!0,get:function(){return G[J]}})}}),U.default=G,Object.freeze(U)}var B,O=H(reactExports);A.ThumbnailDirection=void 0,(B=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",B.Vertical="Vertical";var R=function(){return R=Object.assign||function(G){for(var U,J=1,Y=arguments.length;J<Y;J++)for(var W in U=arguments[J])Object.prototype.hasOwnProperty.call(U,W)&&(G[W]=U[W]);return G},R.apply(this,arguments)},re=function(G){var U=G.doc,J=G.getPageIndex,Y=G.renderSpinner,W=G.store,q=G.width,V=U.numPages,X=J?J({numPages:V}):0,ce=Math.max(0,Math.min(X,V-1)),me=W.get("pagesRotation")||new Map,_e=me.has(ce)?me.get(ce):0,Ce=O.useState(""),le=Ce[0],xe=Ce[1],nt=$.useIsMounted(),ze=O.useRef(),Ue=O.useState(W.get("rotation")||0),Be=Ue[0],Le=Ue[1],Oe=O.useState(_e),Je=Oe[0],Qe=Oe[1],Se=O.useState(!1),se=Se[0],ne=Se[1],fe=function(Me){var Ie=Me.has(ce)?Me.get(ce):0;Qe(Ie)},ye=function(Me){Le(Me)},Ae=$.useIntersectionObserver({onVisibilityChanged:function(Me){ne(Me.isVisible)}});return O.useEffect(function(){if(se){var Me=Ae.current;Me&&(xe(""),$.getPage(U,ce).then(function(Ie){var qe=Ie.getViewport({scale:1}),rt=(qe.rotation+Be+Je)%360,Ze=Math.abs(Be+Je)%180==0,et=Ze?qe.width:qe.height,Xe=Ze?qe.height:qe.width,oe=document.createElement("canvas"),ue=oe.getContext("2d",{alpha:!1}),Ee=Me.clientWidth,Pe=Me.clientHeight,be=q?q/et:Math.min(Ee/et,Pe/Xe),ke=be*et,tt=be*Xe;oe.height=tt,oe.width=ke,oe.style.opacity="0";var ot=Ie.getViewport({rotation:rt,scale:be});ze.current=Ie.render({canvasContext:ue,viewport:ot}),ze.current.promise.then(function(){nt.current&&xe(oe.toDataURL()),oe.width=0,oe.height=0},function(){})}))}},[Je,se]),O.useEffect(function(){return W.subscribe("pagesRotation",fe),W.subscribe("rotation",ye),function(){W.unsubscribe("pagesRotation",fe),W.unsubscribe("rotation",ye)}},[]),O.useEffect(function(){return function(){var Me;(Me=ze.current)===null||Me===void 0||Me.cancel()}},[]),O.createElement("div",{ref:Ae,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},le?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:le}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},Y?Y():O.createElement($.Spinner,null)))},de=function(G){var U=G.getPageIndex,J=G.renderSpinner,Y=G.store,W=G.width,q=O.useState(Y.get("doc")),V=q[0],X=q[1],ce=function(me){X(me)};return O.useEffect(function(){return Y.subscribe("doc",ce),function(){Y.unsubscribe("doc",ce)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},V?O.createElement(re,{doc:V,getPageIndex:U,renderSpinner:J,store:Y,width:W}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},J?J():O.createElement($.Spinner,null)))},pe=function(){return O.createElement($.Spinner,null)},ae=O.createContext({renderSpinner:pe}),te=function(G){var U=G.children,J=G.doc,Y=$.useIsMounted(),W=O.useState({loading:!0,labels:[]}),q=W[0],V=W[1];return O.useEffect(function(){J.getPageLabels().then(function(X){Y.current&&V({loading:!1,labels:X||[]})})},[J.loadingTask.docId]),q.loading?O.createElement(O.Fragment,null):U(q.labels)},ve=function(G){var U=G.page,J=G.pageHeight,Y=G.pageIndex,W=G.pageWidth,q=G.rotation,V=G.thumbnailHeight,X=G.thumbnailWidth,ce=G.onRenderCompleted,me=O.useContext($.LocalizationContext).l10n,_e=O.useRef(),Ce=O.useState(""),le=Ce[0],xe=Ce[1],nt=me&&me.thumbnail?me.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var ze=_e.current;ze&&ze.cancel();var Ue=document.createElement("canvas"),Be=Ue.getContext("2d",{alpha:!1}),Le=X,Oe=Le/(W/J),Je=Le/W;Ue.height=Oe,Ue.width=Le,Ue.style.height="".concat(Oe,"px"),Ue.style.width="".concat(Le,"px");var Qe=U.getViewport({rotation:q,scale:Je});return _e.current=U.render({canvasContext:Be,viewport:Qe}),_e.current.promise.then(function(){xe(Ue.toDataURL()),ce(Y)},function(){ce(Y)}),function(){var Se;(Se=_e.current)===null||Se===void 0||Se.cancel()}},[q]),le?O.createElement("img",{"aria-label":nt.replace("{{pageIndex}}","".concat(Y+1)),src:le,height:"".concat(V,"px"),width:"".concat(X,"px")}):O.useContext(ae).renderSpinner()},ie=function(G){var U=G.doc,J=G.pageHeight,Y=G.pageIndex,W=G.pageRotation,q=G.pageWidth,V=G.rotation,X=G.shouldRender,ce=G.thumbnailWidth,me=G.onRenderCompleted,_e=G.onVisibilityChanged,Ce=$.useIsMounted(),le=O.useState({height:J,page:null,viewportRotation:0,width:q}),xe=le[0],nt=le[1],ze=xe.page,Ue=xe.height,Be=xe.width,Le=Be/Ue,Oe=Math.abs(V+W)%180==0,Je=Oe?ce:ce/Le,Qe=Oe?ce/Le:ce;O.useEffect(function(){X&&$.getPage(U,Y).then(function(ne){var fe=ne.getViewport({scale:1});Ce.current&&nt({height:fe.height,page:ne,viewportRotation:fe.rotation,width:fe.width})})},[X]);var Se=(xe.viewportRotation+V+W)%360,se=$.useIntersectionObserver({onVisibilityChanged:function(ne){_e(Y,ne)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(Y),ref:se,style:{height:"".concat(Qe,"px"),width:"".concat(Je,"px")}},ze?O.createElement(ve,{page:ze,pageHeight:Oe?Ue:Be,pageIndex:Y,pageWidth:Oe?Be:Ue,rotation:Se,thumbnailHeight:Qe,thumbnailWidth:Je,onRenderCompleted:me}):O.useContext(ae).renderSpinner())},Q=function(G){var U=G.currentPage,J=G.doc,Y=G.labels,W=G.pagesRotation,q=G.pageHeight,V=G.pageWidth,X=G.renderCurrentPageLabel,ce=G.renderThumbnailItem,me=G.rotatedPage,_e=G.rotation,Ce=G.thumbnailDirection,le=G.thumbnailWidth,xe=G.viewMode,nt=G.onJumpToPage,ze=G.onRotatePage,Ue=J.numPages,Be=J.loadingTask.docId,Le=O.useRef(null),Oe=O.useRef([]),Je=O.useState(U),Qe=Je[0],Se=Je[1],se=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,ne=O.useState(-1),fe=ne[0],ye=ne[1],Ae=$.useIsMounted(),Me=$.usePrevious(xe),Ie=O.useRef(!1),qe=$.useRenderQueue({doc:J}),rt=O.useMemo(function(){return Array(Ue).fill(0).map(function(be,ke){return ke})},[Be]),Ze=O.useMemo(function(){switch(xe){case $.ViewMode.DualPage:return $.chunk(rt,2);case $.ViewMode.DualPageWithCover:return[[rt[0]]].concat($.chunk(rt.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(rt,1)}},[Be,xe]),et=function(){if(Le.current){var be=Oe.current,ke=Qe+1;ke<be.length&&(Qe>=0&&be[Qe].setAttribute("tabindex","-1"),Se(ke))}},Xe=function(){if(Le.current){var be=Oe.current,ke=Qe-1;ke>=0&&(Qe>=0&&be[Qe].setAttribute("tabindex","-1"),Se(ke))}},oe=function(){Qe>=0&&Qe<Ue&&nt(Qe)};$.useIsomorphicLayoutEffect(function(){var be=Le.current;be&&(Oe.current=Array.from(be.querySelectorAll(".rpv-thumbnail__item")))},[xe]),O.useEffect(function(){var be=Oe.current;if(!(be.length===0||Qe<0||Qe>be.length)){var ke=be[Qe];ke.setAttribute("tabindex","0"),ke.focus()}},[Qe]),$.useIsomorphicLayoutEffect(function(){var be=Le.current,ke=Oe.current;if(!(!be||ke.length===0||U<0||U>ke.length)){var tt=ke[U].closest(".rpv-thumbnail__items");tt&&(Ce===A.ThumbnailDirection.Vertical?function(ot,it){var Ye=ot.getBoundingClientRect().top-it.getBoundingClientRect().top,ft=ot.clientHeight,ut=it.clientHeight;Ye<0?it.scrollTop+=Ye:Ye+ft<=ut||(it.scrollTop+=Ye+ft-ut)}(tt,be):function(ot,it){var Ye=ot.getBoundingClientRect().left-it.getBoundingClientRect().left,ft=ot.clientWidth,ut=it.clientWidth;Ye<0?it.scrollLeft+=Ye:Ye+ft<=ut||(it.scrollLeft+=Ye+ft-ut)}(tt,be))}},[U,Ce]);var ue=O.useCallback(function(be){Ae.current&&(qe.markRendered(be),Ie.current=!1,Pe())},[Be]),Ee=O.useCallback(function(be,ke){ke.isVisible?qe.setVisibility(be,ke.ratio):qe.setOutOfRange(be),Pe()},[Be]),Pe=O.useCallback(function(){if(!Ie.current){var be=qe.getHighestPriorityPage();be>-1&&(qe.markRendering(be),Ie.current=!0,ye(be))}},[Be]);return O.useEffect(function(){me>=0&&(qe.markRendering(me),Ie.current=!0,ye(me))},[Be,me]),$.useIsomorphicLayoutEffect(function(){Me!==xe&&(qe.markNotRendered(),Pe())},[xe]),O.createElement("div",{ref:Le,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Ce===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":se,"rpv-thumbnail__list--vertical":Ce===A.ThumbnailDirection.Vertical}),onKeyDown:function(be){switch(be.key){case"ArrowDown":et();break;case"ArrowUp":Xe();break;case"Enter":oe()}}},Ze.map(function(be,ke){var tt=!1;switch(xe){case $.ViewMode.DualPage:tt=U===2*ke||U===2*ke+1;break;case $.ViewMode.DualPageWithCover:tt=U===0&&ke===0||ke>0&&U===2*ke-1||ke>0&&U===2*ke;break;case $.ViewMode.SinglePage:default:tt=U===ke}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":xe===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":xe===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":xe===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":tt}),key:"".concat(ke,"___").concat(xe)},be.map(function(ot){return function(it){var Ye=xe===$.ViewMode.DualPageWithCover&&(it===0||Ue%2==0&&it===Ue-1),ft="".concat(J.loadingTask.docId,"___").concat(it),ut=Y.length===Ue?Y[it]:"".concat(it+1),bt=X?X({currentPage:U,pageIndex:it,numPages:Ue,pageLabel:ut}):ut,yt=W.has(it)?W.get(it):0,Ft=O.createElement(ie,{doc:J,pageHeight:q,pageIndex:it,pageRotation:yt,pageWidth:V,rotation:_e,shouldRender:fe===it,thumbnailWidth:le,onRenderCompleted:ue,onVisibilityChanged:Ee});return ce?ce({currentPage:U,key:ft,numPages:Ue,pageIndex:it,renderPageLabel:O.createElement(O.Fragment,null,bt),renderPageThumbnail:Ft,onJumpToPage:function(){return nt(it)},onRotatePage:function(zt){return ze(it,zt)}}):O.createElement("div",{key:ft},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":xe===$.ViewMode.DualPage&&it%2==0,"rpv-thumbnail__item--dual-odd":xe===$.ViewMode.DualPage&&it%2==1,"rpv-thumbnail__item--dual-cover":Ye,"rpv-thumbnail__item--dual-cover-even":xe===$.ViewMode.DualPageWithCover&&!Ye&&it%2==0,"rpv-thumbnail__item--dual-cover-odd":xe===$.ViewMode.DualPageWithCover&&!Ye&&it%2==1,"rpv-thumbnail__item--single":xe===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===it}),role:"button",tabIndex:U===it?0:-1,onClick:function(){return nt(it)}},Ft),O.createElement("div",{"data-testid":"thumbnail__label-".concat(it),className:"rpv-thumbnail__label"},bt))}(ot)}))}))},ee=function(G){var U=G.renderCurrentPageLabel,J=G.renderThumbnailItem,Y=G.store,W=G.thumbnailDirection,q=G.thumbnailWidth,V=O.useState(Y.get("doc")),X=V[0],ce=V[1],me=O.useState(Y.get("currentPage")||0),_e=me[0],Ce=me[1],le=O.useState(Y.get("pageHeight")||0),xe=le[0],nt=le[1],ze=O.useState(Y.get("pageWidth")||0),Ue=ze[0],Be=ze[1],Le=O.useState(Y.get("rotation")||0),Oe=Le[0],Je=Le[1],Qe=O.useState(Y.get("pagesRotation")||new Map),Se=Qe[0],se=Qe[1],ne=O.useState(Y.get("rotatedPage")||-1),fe=ne[0],ye=ne[1],Ae=O.useState(Y.get("viewMode")),Me=Ae[0],Ie=Ae[1],qe=function(ke){Ce(ke)},rt=function(ke){ce(ke)},Ze=function(ke){nt(ke)},et=function(ke){Be(ke)},Xe=function(ke){Je(ke)},oe=function(ke){se(ke)},ue=function(ke){ye(ke)},Ee=function(ke){Ie(ke)},Pe=function(ke){var tt=Y.get("jumpToPage");tt&&tt(ke)},be=function(ke,tt){Y.get("rotatePage")(ke,tt)};return O.useEffect(function(){return Y.subscribe("doc",rt),Y.subscribe("pageHeight",Ze),Y.subscribe("pageWidth",et),Y.subscribe("rotatedPage",ue),Y.subscribe("rotation",Xe),Y.subscribe("pagesRotation",oe),Y.subscribe("viewMode",Ee),function(){Y.unsubscribe("doc",rt),Y.unsubscribe("pageHeight",Ze),Y.unsubscribe("pageWidth",et),Y.unsubscribe("rotatedPage",ue),Y.unsubscribe("rotation",Xe),Y.unsubscribe("pagesRotation",oe),Y.unsubscribe("viewMode",Ee)}},[]),$.useIsomorphicLayoutEffect(function(){return Y.subscribe("currentPage",qe),function(){Y.unsubscribe("currentPage",qe)}},[]),X?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(te,{doc:X},function(ke){return O.createElement(Q,{currentPage:_e,doc:X,labels:ke,pagesRotation:Se,pageHeight:xe,pageWidth:Ue,renderCurrentPageLabel:U,renderThumbnailItem:J,rotatedPage:fe,rotation:Oe,thumbnailDirection:W,thumbnailWidth:q,viewMode:Me,onJumpToPage:Pe,onRotatePage:be})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(ae).renderSpinner())};A.thumbnailPlugin=function(G){var U=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),J=O.useState(""),Y=J[0],W=J[1];return{install:function(q){U.update("jumpToPage",q.jumpToPage),U.update("rotatePage",q.rotatePage)},onDocumentLoad:function(q){W(q.doc.loadingTask.docId),U.update("doc",q.doc)},onViewerStateChange:function(q){return U.update("currentPage",q.pageIndex),U.update("pagesRotation",q.pagesRotation),U.update("pageHeight",q.pageHeight),U.update("pageWidth",q.pageWidth),U.update("rotation",q.rotation),U.update("rotatedPage",q.rotatedPage),U.update("viewMode",q.viewMode),q},Cover:function(q){return O.createElement(de,R({},q,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:O.useCallback(function(q){return O.createElement(ae.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||pe}},O.createElement(ee,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:q==null?void 0:q.renderThumbnailItem,store:U,thumbnailDirection:(q==null?void 0:q.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[Y])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function H(ee){var G=Object.create(null);return ee&&Object.keys(ee).forEach(function(U){if(U!=="default"){var J=Object.getOwnPropertyDescriptor(ee,U);Object.defineProperty(G,U,J.get?J:{enumerable:!0,get:function(){return ee[U]}})}}),G.default=ee,Object.freeze(G)}var B,O=H(reactExports),R=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},re=function(){return re=Object.assign||function(ee){for(var G,U=1,J=arguments.length;U<J;U++)for(var Y in G=arguments[U])Object.prototype.hasOwnProperty.call(G,Y)&&(ee[Y]=G[Y]);return ee},re.apply(this,arguments)};A.SelectionMode=void 0,(B=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",B.Text="Text";var de=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},pe=function(ee){var G=ee.children,U=ee.mode,J=ee.onClick,Y=O.useContext($.LocalizationContext).l10n,W="",q=O.createElement(de,null);switch(U){case A.SelectionMode.Hand:W=Y&&Y.selectionMode?Y.selectionMode.handTool:"Hand tool",q=O.createElement(R,null);break;case A.SelectionMode.Text:default:W=Y&&Y.selectionMode?Y.selectionMode.textSelectionTool:"Text selection tool",q=O.createElement(de,null)}return G({icon:q,label:W,onClick:J})},ae={left:0,top:8},te=function(ee){var G=ee.isSelected,U=ee.mode,J=ee.onClick,Y="";switch(U){case A.SelectionMode.Hand:Y="selection-mode__hand-button";break;case A.SelectionMode.Text:default:Y="selection-mode__text-button"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:W.label,isSelected:G,testId:Y,onClick:W.onClick},W.icon),content:function(){return W.label},offset:ae})})},ve=function(ee){var G=ee.children,U=ee.mode,J=ee.store,Y=U===J.get("selectionMode");return(G||function(W){return O.createElement(te,{isSelected:Y,mode:W.mode,onClick:W.onClick})})({isSelected:Y,mode:U,onClick:function(){return J.update("selectionMode",U)}})},ie=function(ee){var G=ee.isSelected,U=ee.mode,J=ee.onClick,Y="";switch(U){case A.SelectionMode.Hand:Y="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:Y="selection-mode__text-menu"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.MenuItem,{checked:G,icon:W.icon,testId:Y,onClick:W.onClick},W.label)})},Q=function(ee){var G=ee.store,U=O.useRef(null),J=O.useState(A.SelectionMode.Text),Y=J[0],W=J[1],q=O.useRef({top:0,left:0,x:0,y:0}),V=function(Ce){var le=U.current;le&&(le.scrollTop=q.current.top-(Ce.clientY-q.current.y),le.scrollLeft=q.current.left-(Ce.clientX-q.current.x))},X=function(){var Ce=U.current;Ce&&(Ce.classList.add("rpv-selection-mode__grab"),Ce.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",X))},ce=function(Ce){var le=U.current;le&&Y!==A.SelectionMode.Text&&(le.classList.remove("rpv-selection-mode__grab"),le.classList.add("rpv-selection-mode__grabbing"),Ce.preventDefault(),Ce.stopPropagation(),q.current={left:le.scrollLeft,top:le.scrollTop,x:Ce.clientX,y:Ce.clientY},document.addEventListener("mousemove",V),document.addEventListener("mouseup",X))},me=function(Ce){U.current=Ce()},_e=function(Ce){W(Ce)};return O.useEffect(function(){var Ce=U.current;if(Ce)return Y===A.SelectionMode.Hand?Ce.classList.add("rpv-selection-mode__grab"):Ce.classList.remove("rpv-selection-mode__grab"),Ce.addEventListener("mousedown",ce),function(){Ce.removeEventListener("mousedown",ce)}},[Y]),O.useEffect(function(){return G.subscribe("getPagesContainer",me),G.subscribe("selectionMode",_e),function(){G.unsubscribe("getPagesContainer",me),G.unsubscribe("selectionMode",_e)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=R,A.TextSelectionIcon=de,A.selectionModePlugin=function(ee){var G=O.useMemo(function(){return $.createStore()},[]),U=function(J){return O.createElement(ve,re({},J,{store:G}))};return{install:function(J){G.update("selectionMode",ee&&ee.selectionMode?ee.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",J.getPagesContainer)},renderViewer:function(J){var Y=J.slot;return Y.subSlot&&Y.subSlot.children&&(Y.subSlot.children=O.createElement(O.Fragment,null,O.createElement(Q,{store:G}),Y.subSlot.children)),Y},SwitchSelectionMode:U,SwitchSelectionModeButton:function(J){return O.createElement(U,{mode:J.mode},function(Y){return O.createElement(te,{isSelected:Y.isSelected,mode:Y.mode,onClick:function(){Y.onClick()}})})},SwitchSelectionModeMenuItem:function(J){return O.createElement(U,{mode:J.mode},function(Y){return O.createElement(ie,{isSelected:Y.isSelected,mode:Y.mode,onClick:function(){Y.onClick(),J.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,H=A.onClick,B=n$c.useContext(e$c.LocalizationContext).l10n,O=B&&B.fullScreen?B.fullScreen.enterFullScreen:"Full screen",R=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,B=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:B,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return B},offset:i$c})},f$9=function(A,$){var H=n$c.useState($.get("fullScreenMode")),B=H[0],O=H[1],R=n$c.useCallback(function(re){O(re)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",R),function(){$.unsubscribe("fullScreenMode",R)}},[]),{enterFullScreen:function(){var re=$.get("getPagesContainer");if(re){var de=A(re());$.get("enterFullScreenMode")(de)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,H=A.enableShortcuts,B=A.getFullScreenTarget,O=A.store,R=f$9(B,O),re=R.enterFullScreen,de=R.exitFullScreen,pe=R.isFullScreen;return($||function(ae){return pe?n$c.createElement(a$c,{onClick:ae.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:ae.onClick})})({onClick:pe?de:re})},S$4=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,B=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},B)},d$9=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,B=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!B,"rpv-full-screen__exit-button--rtl":B})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,H=A.getFullScreenTarget,B=A.store,O=f$9(H,B),R=O.enterFullScreen,re=O.exitFullScreen,de=O.isFullScreen;return de&&($||function(pe){return n$c.createElement(d$9,{onClick:pe.onClick})})({onClick:de?re:R})},E$5=function(A){var $=A.store,H=A.onEnterFullScreen,B=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),R=O[0],re=O[1],de=n$c.useCallback(function(pe){re(pe)},[]);return n$c.useEffect(function(){switch(R){case e$c.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$c.FullScreenMode.Exited:B($.get("zoom"))}},[R]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",de),function(){$.unsubscribe("fullScreenMode",de)}},[]),(R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,B=A.store,O=f$9(H,B).enterFullScreen,R=function(re){if(!re.shiftKey&&!re.altKey&&(e$c.isMac()?re.metaKey&&re.ctrlKey&&re.key==="f":re.key==="F11")){var de=$.current;de&&document.activeElement&&de.contains(document.activeElement)&&(re.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(re){return re},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),B=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(re){return n$c.createElement(s$8,c$c({},re,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:B}))},R=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:B},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(re){B.update("enterFullScreenMode",re.enterFullScreenMode),B.update("exitFullScreenMode",re.exitFullScreenMode),B.update("getPagesContainer",re.getPagesContainer),B.update("zoom",re.zoom)},onViewerStateChange:function(re){return B.update("fullScreenMode",re.fullScreenMode),re},renderViewer:function(re){var de=re.slot;return de.subSlot&&(de.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:re.containerRef,getFullScreenTarget:$,store:B}),n$c.createElement(E$5,{store:B,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(R,null),de.subSlot.children)),de},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(re){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},re))})},EnterFullScreenMenuItem:function(re){return n$c.createElement(O,null,function(de){return n$c.createElement(S$4,{onClick:function(){de.onClick(),re.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,B=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:B,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return B},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var B=URL.createObjectURL(new Blob([A],{type:H}));c$b(B,$),B&&URL.revokeObjectURL(B)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(B){return btoa(Array(B.length).fill("").map(function(O,R){return String.fromCharCode(B[R])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,B=A.store,O=n$b.useState(B.get("file")),R=O[0],re=O[1],de=n$b.useState(B.get("doc")),pe=de[0],ae=de[1],te=function(ie){ae(ie)},ve=function(ie){re(ie)};return n$b.useEffect(function(){return B.subscribe("doc",te),B.subscribe("file",ve),function(){B.subscribe("doc",te),B.unsubscribe("file",ve)}},[]),($||function(ie){return n$b.createElement(a$b,{onClick:ie.onClick})})({onClick:function(){pe&&R&&u$b(pe,H(R))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,B=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},B)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(R=O.name,(re=R.split("/").pop())?re.split("#")[0].split("?")[0]:R):"document.pdf";var R,re},B=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:B,DownloadButton:function(){return n$b.createElement(B,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(B,null,function(R){return n$b.createElement(d$8,{onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},B=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",B),function(){A.unsubscribe("triggerOpenFile",B)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,B=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",re=i$a(H),de=re.inputRef,pe=re.openFile,ae=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:de,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:B}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ae,ariaLabel:R,testId:"open__button",onClick:pe},n$a.createElement(r$a,null))),content:function(){return R},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,B=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:B,onClick:O.onClick})})({onClick:function(O){var R=O.target.files;if(R&&R.length){var re=B.get("openFile");re&&re(R[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,B=n$a.useContext(e$a.LocalizationContext).l10n,O=B&&B.open?B.open.openFile:"Open file",R=i$a($),re=R.inputRef,de=R.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:de},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:re,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var $=A.containerRef,H=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),B=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var R=O.slot,re={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),R.children)};return o$a(o$a({},R),re)},Open:B,OpenButton:function(){return n$a.createElement(B,null)},OpenMenuItem:function(){return n$a.createElement(B,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],B=$[1],O=function(R){B(R)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],B=$[1],O=function(R){B(R)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,B=n$9.useState("1"),O=B[0],R=B[1],re=i$9($).currentPage,de=u$9($).numberOfPages;n$9.useEffect(function(){return R("".concat(re+1))},[re]);var pe=function(te){var ve=$.get("jumpToPage");ve&&ve(te)},ae=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ae,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:R,onKeyDown:function(te){switch(te.key){case"ArrowUp":(Q=re-1)>=0&&(R("".concat(Q+1)),pe(Q));break;case"ArrowDown":(ie=re+1)<de&&(R("".concat(ie+1)),pe(ie));break;case"Enter":ve=parseInt(O,10),O===""||ve<1||ve>de?R("".concat(re+1)):pe(ve-1)}var ve,ie,Q}}))},l$9=function(A){var $=A.children,H=A.doc,B=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),R=O[0],re=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(de){B.current&&re({loading:!1,labels:de||[]})})},[H.loadingTask.docId]),R.loading?n$9.createElement(n$9.Fragment,null):$(R.labels)},s$7=function(A){var $=A.children,H=A.store,B=function(de){var pe=n$9.useState(de.get("doc")),ae=pe[0],te=pe[1],ve=function(ie){te(ie)};return n$9.useEffect(function(){return de.subscribe("doc",ve),function(){de.unsubscribe("doc",ve)}},[]),ae}(H),O=i$9(H).currentPage,R=u$9(H).numberOfPages,re=$||function(de){return n$9.createElement(n$9.Fragment,null,de.currentPage+1)};return B?n$9.createElement(l$9,{doc:B},function(de){var pe=de.length===R&&R>0?de[O]:"";return re({currentPage:O,numberOfPages:R,pageLabel:pe})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(B){return n$9.createElement(m$7,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var B=H.get("jumpToPage");B&&B(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,H=A.store,B=i$9(H).currentPage,O=u$9(H).numberOfPages;return($||function(R){return n$9.createElement(P$2,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:B+1>=O,onClick:function(){var R=H.get("jumpToPage");R&&R(O-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,H=A.store;return($||function(B){return n$9.createElement(D,{onClick:B.onClick,isDisabled:B.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var B=H.get("jumpToNextPage");B&&B()}})},T=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var $=A.isDisabled,H=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var $=A.children,H=A.store,B=u$9(H).numberOfPages;return $?$({numberOfPages:B}):n$9.createElement(n$9.Fragment,null,B)},y$1=function(A){var $=A.containerRef,H=A.numPages,B=A.store,O=i$9(B).currentPage,R=n$9.useRef(O);R.current=O;var re=n$9.useRef(!1),de=function(){re.current=!0},pe=function(){re.current=!1},ae=function(te){var ve=$.current,ie=re.current||document.activeElement&&ve.contains(document.activeElement);if(ve&&ie){var Q,ee,G=te.altKey&&te.key==="ArrowDown"||!te.shiftKey&&!te.altKey&&te.key==="PageDown",U=te.altKey&&te.key==="ArrowUp"||!te.shiftKey&&!te.altKey&&te.key==="PageUp";if(G)return te.preventDefault(),Q=B.get("jumpToPage"),ee=R.current+1,void(Q&&ee<H&&Q(ee));if(U)return te.preventDefault(),void function(){var J=B.get("jumpToPage"),Y=R.current-1;J&&Y>=0&&J(Y)}();if(e$9.isMac()?te.metaKey&&!te.ctrlKey:te.altKey)switch(te.key){case"ArrowLeft":te.preventDefault(),function(){var J=B.get("jumpToPreviousDestination");J&&J()}();break;case"ArrowRight":te.preventDefault(),function(){var J=B.get("jumpToNextDestination");J&&J()}()}}};return n$9.useEffect(function(){var te=$.current;if(te)return document.addEventListener("keydown",ae),te.addEventListener("mouseenter",de),te.addEventListener("mouseleave",pe),function(){document.removeEventListener("keydown",ae),te.removeEventListener("mouseenter",de),te.removeEventListener("mouseleave",pe)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),B=function(de){return n$9.createElement(p$6,o$9({},de,{store:H}))},O=function(de){return n$9.createElement(b$4,o$9({},de,{store:H}))},R=function(de){return n$9.createElement(k$3,o$9({},de,{store:H}))},re=function(de){return n$9.createElement(j,o$9({},de,{store:H}))};return{install:function(de){H.update("jumpToDestination",de.jumpToDestination),H.update("jumpToNextDestination",de.jumpToNextDestination),H.update("jumpToNextPage",de.jumpToNextPage),H.update("jumpToPage",de.jumpToPage),H.update("jumpToPreviousDestination",de.jumpToPreviousDestination),H.update("jumpToPreviousPage",de.jumpToPreviousPage)},renderViewer:function(de){var pe=de.slot;if(!$.enableShortcuts)return pe;var ae={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:de.containerRef,numPages:de.doc.numPages,store:H}),pe.children)};return o$9(o$9({},pe),ae)},onDocumentLoad:function(de){H.update("doc",de.doc),H.update("numberOfPages",de.doc.numPages)},onViewerStateChange:function(de){return H.update("currentPage",de.pageIndex),de},jumpToNextPage:function(){var de=H.get("jumpToNextPage");de&&de()},jumpToPage:function(de){var pe=H.get("jumpToPage");pe&&pe(de)},jumpToPreviousPage:function(){var de=H.get("jumpToPreviousPage");de&&de()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(de){return n$9.createElement(s$7,o$9({},de,{store:H}))},GoToFirstPage:B,GoToFirstPageButton:function(){return n$9.createElement(B,null,function(de){return n$9.createElement(m$7,o$9({},de))})},GoToFirstPageMenuItem:function(de){return n$9.createElement(B,null,function(pe){return n$9.createElement(v$5,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(de){return n$9.createElement(P$2,o$9({},de))})},GoToLastPageMenuItem:function(de){return n$9.createElement(O,null,function(pe){return n$9.createElement(E$4,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToNextPage:R,GoToNextPageButton:function(){return n$9.createElement(R,null,function(de){return n$9.createElement(D,o$9({},de))})},GoToNextPageMenuItem:function(de){return n$9.createElement(R,null,function(pe){return n$9.createElement(T,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToPreviousPage:re,GoToPreviousPageButton:function(){return n$9.createElement(re,null,function(de){return n$9.createElement(N,o$9({},de))})},GoToPreviousPageMenuItem:function(de){return n$9.createElement(re,null,function(pe){return n$9.createElement(I$2,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},NumberOfPages:function(de){return n$9.createElement(h$5,o$9({},de,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,B=a$8.useContext(e$8.LocalizationContext).l10n,O=B&&B.print?B.print.print:"Print",R=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,B=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){B.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,B=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),R=O[0],re=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(de){de===null||de.includes(4)||de.includes(2048)?H.update("printStatus",o$8.Preparing):re(!1)})},[]),R?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(de){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},B&&B.print?B.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){de(),H.update("printStatus",o$8.Cancelled)}},B&&B.print?B.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,B=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,re=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":R})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:re})),a$8.createElement(e$8.Button,{onClick:B},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,B=A.pageHeight,O=A.pageIndex,R=A.pageWidth,re=A.rotation,de=A.onLoad,pe=e$8.useIsMounted(),ae=a$8.useRef(),te=a$8.useState(""),ve=te[0],ie=te[1],Q=a$8.useMemo(function(){return typeof process<"u"&&{}.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var ee=ae.current;ee&&ee.cancel();var G=150/72;$.height=Math.floor(B*G),$.width=Math.floor(R*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var J=H.getViewport({rotation:re,scale:1});ae.current=H.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:J}),ae.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(Y){pe.current&&ie(URL.createObjectURL(Y)),Q&&de()}):(pe.current&&ie($.toDataURL()),Q&&de())},function(){})},[]),ve&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:ve,onLoad:function(){Q||de()}}))},f$6=function(A){var $=A.canvas,H=A.doc,B=A.pageIndex,O=A.pageRotation,R=A.pageSize,re=A.rotation,de=A.shouldRender,pe=A.onLoad,ae=e$8.useIsMounted(),te=a$8.useState(null),ve=te[0],ie=te[1],Q=Math.abs(re+O)%180==0;a$8.useEffect(function(){de&&e$8.getPage(H,B).then(function(G){ae.current&&ie(G)})},[de]);var ee=(R.rotation+re+O)%360;return ve&&a$8.createElement(d$6,{canvas:$,page:ve,pageHeight:Q?R.pageHeight:R.pageWidth,pageIndex:B,pageWidth:Q?R.pageWidth:R.pageHeight,rotation:ee,onLoad:pe})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,B=A.pagesRotation,O=A.pageSizes,R=A.printPages,re=A.printStatus,de=A.rotation,pe=A.onCancel,ae=A.onLoad,te=a$8.useMemo(function(){return document.createElement("canvas")},[]),ve=a$8.useMemo(function(){var ee=document.querySelector(".rpv-print__zone");if(ee)return ee;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){re===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var ee=function(){if(re===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),te.height=0,te.width=0,document.removeEventListener("mousemove",ee),pe()}};return document.addEventListener("mousemove",ee),function(){return document.removeEventListener("mousemove",ee)}},[re]);var ie=O[0].pageHeight,Q=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,R.map(function(ee,G){return a$8.createElement(f$6,{key:ee,canvas:te,doc:$,pageIndex:ee,pageRotation:B.has(ee)?B.get(ee):0,pageSize:O[ee],rotation:de,shouldRender:G===H,onLoad:ae})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(Q,"pt ").concat(ie,"pt }")}})),ve)},v$4=function(A){var $=A.doc,H=A.pagesRotation,B=A.pageSizes,O=A.renderProgressBar,R=A.rotation,re=A.setPages,de=A.store,pe=a$8.useState(o$8.Inactive),ae=pe[0],te=pe[1],ve=a$8.useState(0),ie=ve[0],Q=ve[1],ee=a$8.useMemo(function(){var Y=$.numPages;return re($).filter(function(W){return W>=0&&W<Y})},[$,re]),G=ee.length,U=function(){Q(0),te(o$8.Inactive)},J=function(Y){return te(Y)};return a$8.useEffect(function(){return de.subscribe("printStatus",J),function(){de.unsubscribe("printStatus",J)}},[]),a$8.createElement(a$8.Fragment,null,ae===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:de}),ae===o$8.Preparing&&(O?O(ie,G,U):a$8.createElement(m$6,{numLoadedPages:ie,numPages:G,onCancel:U})),(ae===o$8.Preparing||ae===o$8.Ready)&&ie<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:ie,pagesRotation:H,pageSizes:B,printPages:ee,printStatus:ae,rotation:R,onCancel:U,onLoad:function(){var Y=ie+1;Y<=G&&(Q(Y),Y===G&&te(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,B=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},B)},E$3=function(A){var $=A.containerRef,H=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,B=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var R,re,de=O.split("-").map(function(pe){return parseInt(pe,10)}).filter(function(pe){return Number.isInteger(pe)});de.length===1?B.push(de[0]-1):de.length===2&&B.push.apply(B,(R=de[0]-1,re=de[1]-1,Array(re-R+1).fill(0).map(function(pe,ae){return R+ae})))}),(H=B,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(R,re){return re})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),B=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var R=O.slot,re={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:H}),R.children)};return c$8(c$8({},R),re)},Print:B,PrintButton:function(){return a$8.createElement(B,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(B,null,function(R){return a$8.createElement(h$4,{onClick:function(){R.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,B=r$7.useState(),O=B[0],R=B[1];return r$7.useEffect(function(){$.getMetadata().then(function(re){return Promise.resolve(re)}).then(function(re){return $.getDownloadInfo().then(function(de){return Promise.resolve({fileName:re.contentDispositionFilename||"",info:re.info,length:de.length})})}).then(function(re){R(re)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,B=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":B})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,B){var O=parseInt(A,10);return O>=$&&O<=H?O:B},p$4=function(A){var $=A.doc,H=A.fileName,B=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,R=function(re){var de=function(pe){var ae=l$7.exec(pe);if(!ae)return null;var te=parseInt(ae[1],10),ve=c$7(ae[2],1,12,1)-1,ie=c$7(ae[3],1,31,1),Q=c$7(ae[4],0,23,0),ee=c$7(ae[5],0,59,0),G=c$7(ae[6],0,59,0),U=ae[7]||"Z",J=c$7(ae[8],0,23,0),Y=c$7(ae[9],0,59,0);switch(U){case"-":Q+=J,ee+=Y;break;case"+":Q-=J,ee-=Y}return new Date(Date.UTC(te,ve,ie,Q,ee,G))}(re);return de?"".concat(de.toLocaleDateString(),", ").concat(de.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(re){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:re.fileName||(ae=H,te=ae.split("/").pop(),te?te.split("#")[0].split("?")[0]:ae)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(de=re.length,pe=Math.floor(Math.log(de)/Math.log(1024)),"".concat((de/Math.pow(1024,pe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][pe]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:re.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:re.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:re.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:re.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:re.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:R(re.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:R(re.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:re.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:re.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var de,pe,ae,te}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:B},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,B=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:B,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return B},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,B=function(re){var de=r$7.useState(re.get("doc")),pe=de[0],ae=de[1],te=function(ve){ae(ve)};return r$7.useEffect(function(){return re.subscribe("doc",te),function(){re.unsubscribe("doc",te)}},[]),{currentDoc:pe}}(H).currentDoc,O=H.get("fileName")||"",R=$||function(re){return r$7.createElement(u$7,o$7({},re))};return B?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(re){return R({onClick:re})},content:function(re){return r$7.createElement(p$4,{doc:B,fileName:O,onToggle:re})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,B=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},B)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(B){return r$7.createElement(f$5,o$7({},B))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,de=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:re,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},de),content:function(){return re},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,B=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=B.get("rotate");O&&O(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,de=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:de,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},re)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(B,O){var R=H.get("rotatePage");R&&R(B,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:R=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",re=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:R=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",re=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:R=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",re=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:R=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",re=t$5.createElement(d$4,null)}return $({icon:re,label:R,onClick:B})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,H=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:R="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:H,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode===H,re=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(de){return t$5.createElement(M$2,{isDisabled:re,isSelected:R,mode:de.mode,onClick:de.onClick})})({isDisabled:re,isSelected:R,mode:H,onClick:function(){a$5(B,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:R="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:H,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:R=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",re=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:R=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",re=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:R=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",re=t$5.createElement(r$5,null)}return $({icon:re,label:R,onClick:B})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-button"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:H,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode,re=O===H,de=(R===e$5.ScrollMode.Horizontal||R===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(pe){return t$5.createElement(v$3,{isDisabled:de,isSelected:re,mode:pe.mode,onClick:pe.onClick})})({isDisabled:de,isSelected:re,mode:H,onClick:function(){h$3(B,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-menu"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:H,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(B){return t$5.createElement(S$3,i$5({},B,{store:A}))},H=function(B){return t$5.createElement(k$2,i$5({},B,{store:A}))};return{install:function(B){A.update("switchScrollMode",B.switchScrollMode),A.update("switchViewMode",B.switchViewMode)},onViewerStateChange:function(B){return A.update("scrollMode",B.scrollMode),A.update("viewMode",B.viewMode),B},switchScrollMode:function(B){a$5(A,B)},switchViewMode:function(B){h$3(A,B)},SwitchScrollMode:$,SwitchScrollModeButton:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(B){return t$5.createElement(H,{mode:B.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(B){return t$5.createElement(H,{mode:B.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,B=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var R=O.current;B&&R&&B({highlightEle:R,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(B,O){l$4(B);var R=O.parentNode;R&&R.insertBefore(B,O),l$4(O)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,B=A.renderHighlights,O=A.store,R=A.onHighlightKeyword,re=r$4.useRef(),de=r$4.useCallback(function(ze){return r$4.createElement(r$4.Fragment,null,ze.highlightAreas.map(function(Ue,Be){return r$4.createElement(s$3,{index:Be,key:Be,area:Ue,onHighlightKeyword:R})}))},[]),pe=B||de,ae=r$4.useState(O.get("matchPosition")),te=ae[0],ve=ae[1],ie=r$4.useState(O.get("keyword")||[u$4]),Q=ie[0],ee=ie[1],G=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],J=G[1],Y=r$4.useRef(null),W=r$4.useRef([]),q=r$4.useState([]),V=q[0],X=q[1],ce=function(){return!0},me=r$4.useCallback(function(){return O.get("targetPageFilter")||ce},[O.get("targetPageFilter")]),_e=function(ze){var Ue=W.current;if(Ue.length===0)return[];var Be=[],Le=[].slice.call(ze.querySelectorAll(".rpv-core__text-layer-text")),Oe=Ue.map(function(Je){return Je.char}).join("");return Q.forEach(function(Je){var Qe=Je.keyword;if(Qe.trim()){for(var Se,se=Je.regExp.flags.indexOf("g")===-1?new RegExp(Je.regExp,"".concat(Je.regExp.flags,"g")):Je.regExp,ne=[];(Se=se.exec(Oe))!==null;)ne.push({keyword:se,startIndex:Se.index,endIndex:se.lastIndex});ne.map(function(fe){return{keyword:fe.keyword,indexes:Ue.slice(fe.startIndex,fe.endIndex)}}).forEach(function(fe){var ye=fe.indexes.reduce(function(Ae,Me){return Ae[Me.spanIndex]=(Ae[Me.spanIndex]||[]).concat([Me]),Ae},{});Object.values(ye).forEach(function(Ae){if(Ae.length!==1||Ae[0].char.trim()!==""){var Me=Je.wholeWords?Ae.slice(1,-1):Ae,Ie=function(qe,rt,Ze,et,Xe){var oe=document.createRange(),ue=et.firstChild;if(!ue||ue.nodeType!==Node.TEXT_NODE)return null;var Ee=ue.textContent.length,Pe=Xe[0].charIndexInSpan,be=Xe.length===1?Pe:Xe[Xe.length-1].charIndexInSpan;if(Pe>Ee||be+1>Ee)return null;oe.setStart(ue,Pe),oe.setEnd(ue,be+1);var ke=document.createElement("span");oe.surroundContents(ke);var tt=ke.getBoundingClientRect(),ot=Ze.getBoundingClientRect(),it=ot.height,Ye=ot.width,ft=100*(tt.left-ot.left)/Ye,ut=100*(tt.top-ot.top)/it,bt=100*tt.height/it,yt=100*tt.width/Ye;return h$2(ke),{keyword:rt,keywordStr:qe,numPages:$,pageIndex:H,left:ft,top:ut,height:bt,width:yt,pageHeight:it,pageWidth:Ye}}(Qe,fe.keyword,ze,Le[Me[0].spanIndex],Me);Ie&&Be.push(Ie)}})})}}),Be.sort(d$3)},Ce=function(ze){ze&&ze.length>0&&ee(ze)},le=function(ze){return ve(ze)},xe=function(ze){if(ze.has(H)){var Ue=ze.get(H);Ue&&J({ele:Ue.ele,pageIndex:H,scale:Ue.scale,status:Ue.status})}},nt=function(){return Q.length===0||Q.length===1&&Q[0].keyword.trim()===""};return r$4.useEffect(function(){if(!nt()&&U.status===e$4.LayerRenderStatus.DidRender&&!W.current.length){var ze=U.ele,Ue=[].slice.call(ze.querySelectorAll(".rpv-core__text-layer-text")).map(function(Be){return Be.textContent}).reduce(function(Be,Le,Oe){return Be.concat(Le.split("").map(function(Je,Qe){return{char:Je,charIndexInSpan:Qe,spanIndex:Oe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);W.current=Ue}},[Q,U.status]),r$4.useEffect(function(){if(!nt()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&me()({pageIndex:H,numPages:$})){var ze=U.ele,Ue=_e(ze);X(Ue)}},[Q,te,U.status,W.current]),r$4.useEffect(function(){nt()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&X([])},[Q,U.status]),r$4.useEffect(function(){if(V.length!==0){var ze=re.current;if(te.pageIndex===H&&ze&&U.status===e$4.LayerRenderStatus.DidRender){var Ue=ze.querySelector('.rpv-search__highlight[data-index="'.concat(te.matchIndex,'"]'));if(Ue){var Be=function(Qe,Se){for(var se=Qe.offsetTop,ne=Qe.offsetLeft,fe=Qe.parentElement;fe&&fe!==Se;)se+=fe.offsetTop,ne+=fe.offsetLeft,fe=fe.parentElement;return{left:ne,top:se}}(Ue,ze),Le=Be.left,Oe=Be.top,Je=O.get("jumpToDestination");Je&&(Je({pageIndex:H,bottomOffset:(ze.getBoundingClientRect().height-Oe)/U.scale,leftOffset:Le/U.scale,scaleTo:U.scale}),Y.current&&Y.current.classList.remove("rpv-search__highlight--current"),Y.current=Ue,Ue.classList.add("rpv-search__highlight--current"))}}}},[V,te]),r$4.useEffect(function(){return O.subscribe("keyword",Ce),O.subscribe("matchPosition",le),O.subscribe("renderStatus",xe),function(){O.unsubscribe("keyword",Ce),O.unsubscribe("matchPosition",le),O.unsubscribe("renderStatus",xe)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:re},pe({getCssProperties:i$4,highlightAreas:V}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,B=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),B),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),B=r$4.useMemo(function(){if(H&&H.length===1){var le=g$2(H[0]);return{matchCase:le.regExp.flags.indexOf("i")===-1,wholeWords:le.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(le){var xe=r$4.useRef(le.get("doc")),nt=function(ze){xe.current=ze};return r$4.useEffect(function(){return le.subscribe("doc",nt),function(){le.unsubscribe("doc",nt)}},[]),xe}(A),R=r$4.useState(H),re=R[0],de=R[1],pe=r$4.useState([]),ae=pe[0],te=pe[1],ve=r$4.useState(0),ie=ve[0],Q=ve[1],ee=r$4.useState(B.matchCase),G=ee[0],U=ee[1],J=r$4.useRef([]),Y=r$4.useState(B.wholeWords),W=Y[0],q=Y[1],V=function(){return!0},X=r$4.useCallback(function(){return A.get("targetPageFilter")||V},[A.get("targetPageFilter")]),ce=function(le){var xe=ae.length;if(re.length===0||xe===0)return null;var nt=le===xe+1?1:Math.max(1,Math.min(xe,le));return Q(nt),_e(ae[nt-1])},me=function(le){return de(le===""?[]:[le])},_e=function(le){var xe=A.get("jumpToPage");return xe&&xe(le.pageIndex),A.update("matchPosition",{matchIndex:le.matchIndex,pageIndex:le.pageIndex}),le},Ce=function(le,xe,nt){var ze=O.current;if(!ze)return Promise.resolve([]);var Ue=ze.numPages,Be=le.map(function(Le){return g$2(Le,xe,nt)});return A.update("keyword",Be),Q(0),te([]),new Promise(function(Le,Oe){var Je=J.current.length===0?function(){var Qe=O.current;if(!Qe)return Promise.resolve([]);var Se=Array(Qe.numPages).fill(0).map(function(se,ne){return e$4.getPage(Qe,ne).then(function(fe){return fe.getTextContent()}).then(function(fe){var ye=fe.items.map(function(Ae){return Ae.str||""}).join("");return Promise.resolve({pageContent:ye,pageIndex:ne})})});return Promise.all(Se).then(function(se){return se.sort(function(ne,fe){return ne.pageIndex-fe.pageIndex}),Promise.resolve(se.map(function(ne){return ne.pageContent}))})}().then(function(Qe){return J.current=Qe,Promise.resolve(Qe)}):Promise.resolve(J.current);Je.then(function(Qe){var Se=[];Qe.forEach(function(se,ne){X()({pageIndex:ne,numPages:Ue})&&Be.forEach(function(fe){for(var ye,Ae=0;(ye=fe.regExp.exec(se))!==null;)Se.push({keyword:fe.regExp,matchIndex:Ae,pageIndex:ne,pageText:se,startIndex:ye.index,endIndex:fe.regExp.lastIndex}),Ae++})}),te(Se),Se.length>0&&(Q(1),_e(Se[0])),Le(Se)})})};return r$4.useEffect(function(){J.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),me(""),Q(0),te([]),U(!1),q(!1)},changeMatchCase:function(le){U(le),re.length>0&&Ce(re,le,W)},changeWholeWords:function(le){q(le),re.length>0&&Ce(re,G,le)},currentMatch:ie,jumpToMatch:ce,jumpToNextMatch:function(){return ce(ie+1)},jumpToPreviousMatch:function(){return ce(ie-1)},keywords:re,matchCase:G,numberOfMatches:ae.length,wholeWords:W,search:function(){return Ce(re,G,W)},searchFor:Ce,setKeywords:de,keyword:re.length===0?"":($=re[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:me,setTargetPages:function(le){A.update("targetPageFilter",le)}}},v$2=function(A){var $=A.children,H=A.store,B=m$3(H),O=r$4.useState(!1),R=O[0],re=O[1],de=function(pe){return re(!0)};return r$4.useEffect(function(){return H.subscribe("doc",de),function(){H.unsubscribe("doc",de)}},[]),$(c$4(c$4({},B),{isDocumentLoaded:R}))},x=function(A){var $=A.containerRef,H=A.store,B=r$4.useRef(!1),O=function(){B.current=!0},R=function(){B.current=!1},re=function(de){var pe=$.current;pe&&(de.shiftKey||de.altKey||de.key!=="f"||(e$4.isMac()?de.metaKey&&!de.ctrlKey:de.ctrlKey)&&(B.current||document.activeElement&&pe.contains(document.activeElement))&&(de.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var de=$.current;if(de)return document.addEventListener("keydown",re),de.addEventListener("mouseenter",O),de.addEventListener("mouseleave",R),function(){document.removeEventListener("keydown",re),de.removeEventListener("mouseenter",O),de.removeEventListener("mouseleave",R)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,B=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,R=r$4.useState(!1),re=R[0],de=R[1],pe=r$4.useState(!1),ae=pe[0],te=pe[1],ve=O===e$4.TextDirection.RightToLeft,ie=m$3($),Q=ie.clearKeyword,ee=ie.changeMatchCase,G=ie.changeWholeWords,U=ie.currentMatch,J=ie.jumpToNextMatch,Y=ie.jumpToPreviousMatch,W=ie.keyword,q=ie.matchCase,V=ie.numberOfMatches,X=ie.wholeWords,ce=ie.search,me=ie.setKeyword,_e=function(ze){de(!0),ce().then(function(Ue){de(!1),te(!0),ze&&ze()})};r$4.useEffect(function(){var ze=$.get("initialKeyword");ze&&ze.length===1&&W&&_e(function(){$.update("initialKeyword",[])})},[]);var Ce=B&&B.search?B.search.enterToSearch:"Enter to search",le=B&&B.search?B.search.previousMatch:"Previous match",xe=B&&B.search?B.search.nextMatch:"Next match",nt=B&&B.search?B.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Ce,autoFocus:!0,placeholder:Ce,type:"text",value:W,onChange:function(ze){te(!1),me(ze)},onKeyDown:function(ze){ze.key==="Enter"&&W&&(ae?J():_e())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!ve,"rpv-search__popover-counter--rtl":ve})},re&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!re&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",V))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:q,type:"checkbox",onChange:function(ze){te(!1),ee(ze.target.checked)}})," ",B&&B.search?B.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(ze){te(!1),G(ze.target.checked)}})," ",B&&B.search?B.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:ve?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:le,isDisabled:U<=1,onClick:Y},r$4.createElement(o$4,null)),content:function(){return le},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:xe,isDisabled:U>V-1,onClick:J},r$4.createElement(n$4,null)),content:function(){return xe},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!ve,"rpv-search__popover-footer-button--rtl":ve})},r$4.createElement(e$4.Button,{onClick:function(){H(),Q()}},nt))))},w=function(A){var $=A.children,H=A.onClick,B=r$4.useContext(e$4.LocalizationContext).l10n,O=B&&B.search?B.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,B=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",R=function(re){re&&B()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",R),function(){H.unsubscribe("areShortcutsPressed",R)}},[]),r$4.createElement(w,{onClick:B},function(re){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:re.label,testId:"search__popover-button",onClick:B},re.icon),content:function(){return re.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,B=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,R=$||function(re){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:B},re))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(re){return R({onClick:re})},content:function(re){return r$4.createElement(E$2,{store:B,onToggle:re})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),B=m$3(H),O=B.clearKeyword,R=B.jumpToMatch,re=B.jumpToNextMatch,de=B.jumpToPreviousMatch,pe=B.searchFor,ae=B.setKeywords,te=B.setTargetPages,ve=function(ie){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},ie,{store:H}))};return{install:function(ie){var Q=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],ee=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",Q),H.update("jumpToDestination",ie.jumpToDestination),H.update("jumpToPage",ie.jumpToPage),H.update("keyword",ee)},renderPageLayer:function(ie){return r$4.createElement(f$3,{key:ie.pageIndex,numPages:ie.doc.numPages,pageIndex:ie.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(ie){var Q=ie.slot;return Q.subSlot&&(Q.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:ie.containerRef,store:H}),Q.subSlot.children)),Q},uninstall:function(ie){var Q=H.get("renderStatus");Q&&Q.clear()},onDocumentLoad:function(ie){H.update("doc",ie.doc)},onTextLayerRender:function(ie){var Q=H.get("renderStatus");Q&&(Q=Q.set(ie.pageIndex,ie),H.update("renderStatus",Q))},Search:function(ie){return r$4.createElement(v$2,c$4({},ie,{store:H}))},ShowSearchPopover:ve,ShowSearchPopoverButton:function(){return r$4.createElement(ve,null,function(ie){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},ie))})},clearHighlights:function(){O()},highlight:function(ie){var Q=Array.isArray(ie)?ie:[ie];return ae(Q),pe(Q)},jumpToMatch:R,jumpToNextMatch:re,jumpToPreviousMatch:de,setTargetPages:te}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:R,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return R},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(B){return n$3.createElement(i$3,{onClick:B.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},R)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],B=$[1],O=function(R){B(R)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(B){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*B.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,H=A.store,B=e$2.useDebounceCallback(function(R){var re=H.get("zoom");re&&re(R)},40),O=function(R){if(R.ctrlKey){R.preventDefault();var re=R.target.getBoundingClientRect(),de=1-R.deltaY/100,pe=R.clientX-re.left,ae=R.clientY-re.top,te=H.get("scale"),ve=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(pe,ae).scale(de).translate(-pe,-ae).scale(te);B(ve.a)}};return e$2.useIsomorphicLayoutEffect(function(){var R=$.current;if(R)return R.addEventListener("wheel",O,l$2),function(){R.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,H=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;if(R&&document.activeElement&&R.contains(document.activeElement)){var re=H.get("zoom");if(re){var de=H.get("scale")||1,pe=1;switch(O.key){case"-":pe=v$1(de);break;case"=":pe=f$2(de);break;case"0":pe=1;break;default:pe=de}pe!==de&&(O.preventDefault(),re(pe))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,H=$===void 0?z:$,B=A.scale,O=A.onZoom,R=n$2.useContext(e$2.LocalizationContext).l10n,re=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,de=R&&R.zoom?R.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(pe){return n$2.createElement(e$2.MinimalButton,{ariaLabel:de,testId:"zoom__popover-target",onClick:function(){pe()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!re,"rpv-zoom__popover-target-scale--rtl":re})},Math.round(100*B),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(pe){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ae){var te=ae;return n$2.createElement(e$2.MenuItem,{key:te,onClick:function(){pe(),O(te)}},function(ve){switch(ve){case e$2.SpecialZoomLevel.ActualSize:return R&&R.zoom?R.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return R&&R.zoom?R.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return R&&R.zoom?R.zoom.pageWidth:"Page width"}}(te))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(ae){return n$2.createElement(e$2.MenuItem,{key:ae,onClick:function(){pe(),O(ae)}},"".concat(Math.round(100*ae),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,H=A.levels,B=A.store;return($||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(B).scale,onZoom:function(O){var R=B.get("zoom");R&&R(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,H=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomIn:"Zoom in",R=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,H=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||h$1)({enableShortcuts:H,onClick:function(){var R=B.get("zoom");R&&R(f$2(O))}})},k=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,B=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},B)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,H=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomOut:"Zoom out",R=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,H=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||M$1)({enableShortcuts:H,onClick:function(){var R=B.get("zoom");R&&R(v$1(O))}})},Z=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,B=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},B)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),B=function(re){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:H}))},O=function(re){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:H}))},R=function(re){return n$2.createElement(g$1,c$2({},re,{store:H}))};return{renderViewer:function(re){var de=re.slot;if(!$.enableShortcuts)return de;var pe={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:re.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:re.pagesContainerRef,store:H}),de.children)};return c$2(c$2({},de),pe)},install:function(re){H.update("zoom",re.zoom)},onViewerStateChange:function(re){return H.update("scale",re.scale),re},zoomTo:function(re){var de=H.get("zoom");de&&de(re)},CurrentScale:function(re){return n$2.createElement(u$2,c$2({},re,{store:H}))},ZoomIn:B,ZoomInButton:function(){return n$2.createElement(B,null,function(re){return n$2.createElement(h$1,c$2({},re))})},ZoomInMenuItem:function(re){return n$2.createElement(B,null,function(de){return n$2.createElement(k,{onClick:function(){de.onClick(),re.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(re){return n$2.createElement(M$1,c$2({},re))})},ZoomOutMenuItem:function(re){return n$2.createElement(O,null,function(de){return n$2.createElement(Z,{onClick:function(){de.onClick(),re.onClick()}})})},Zoom:R,ZoomPopover:function(re){return n$2.createElement(R,null,function(de){return n$2.createElement(d$2,c$2({levels:re==null?void 0:re.levels},de))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,R=$.EnterFullScreenMenuItem,re=$.GoToFirstPageMenuItem,de=$.GoToLastPageMenuItem,pe=$.GoToNextPageMenuItem,ae=$.GoToPreviousPageMenuItem,te=$.OpenMenuItem,ve=$.PrintMenuItem,ie=$.RotateBackwardMenuItem,Q=$.RotateForwardMenuItem,ee=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,J=$.SwitchViewModeMenuItem,Y=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:B,target:function(W,q){var V=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:B,target:_.createElement(e$1.MinimalButton,{ariaLabel:V,isSelected:q,testId:"toolbar__more-actions-popover-target",onClick:W},_.createElement(E,null)),content:function(){return V},offset:g})},content:function(W){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Y,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(te,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ve,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:W}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ae,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(pe,{onClick:W})),_.createElement(de,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(Q,{onClick:W}),_.createElement(ie,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:W}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.SinglePage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPageWithCover,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(ee,{onClick:W}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,R=H.Download,re=H.EnterFullScreen,de=H.GoToNextPage,pe=H.GoToPreviousPage,ae=H.NumberOfPages,te=H.Open,ve=H.Print,ie=H.ShowSearchPopover,Q=H.SwitchTheme,ee=H.Zoom,G=H.ZoomIn,U=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":B}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ie,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(de,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),B=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),R=i$1.printPlugin(A?A.printPlugin:{}),re=c$1.propertiesPlugin(),de=m$1.rotatePlugin(),pe=u$1.scrollModePlugin(),ae=s$1.searchPlugin(A?A.searchPlugin:{}),te=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),ve=d$1.themePlugin(),ie=p.zoomPlugin(A?A.zoomPlugin:{}),Q=[$,H,B,O,R,re,de,pe,ae,te,ve,ie],ee=_.useCallback(function(G){var U=$.EnterFullScreen,J=$.EnterFullScreenMenuItem,Y=H.Download,W=H.DownloadMenuItem,q=B.Open,V=B.OpenMenuItem,X=O.CurrentPageInput,ce=O.CurrentPageLabel,me=O.GoToFirstPage,_e=O.GoToFirstPageMenuItem,Ce=O.GoToLastPage,le=O.GoToLastPageMenuItem,xe=O.GoToNextPage,nt=O.GoToNextPageMenuItem,ze=O.GoToPreviousPage,Ue=O.GoToPreviousPageMenuItem,Be=O.NumberOfPages,Le=R.Print,Oe=R.PrintMenuItem,Je=re.ShowProperties,Qe=re.ShowPropertiesMenuItem,Se=de.Rotate,se=de.RotateBackwardMenuItem,ne=de.RotateForwardMenuItem,fe=pe.SwitchScrollMode,ye=pe.SwitchScrollModeMenuItem,Ae=pe.SwitchViewMode,Me=pe.SwitchViewModeMenuItem,Ie=ae.Search,qe=ae.ShowSearchPopover,rt=te.SwitchSelectionMode,Ze=te.SwitchSelectionModeMenuItem,et=ve.SwitchTheme,Xe=ve.SwitchThemeMenuItem,oe=ie.CurrentScale,ue=ie.Zoom,Ee=ie.ZoomIn,Pe=ie.ZoomInMenuItem,be=ie.ZoomOut,ke=ie.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:X,CurrentPageLabel:ce,CurrentScale:oe,Download:Y,DownloadMenuItem:W,EnterFullScreen:U,EnterFullScreenMenuItem:J,GoToFirstPage:me,GoToFirstPageMenuItem:_e,GoToLastPage:Ce,GoToLastPageMenuItem:le,GoToNextPage:xe,GoToNextPageMenuItem:nt,GoToPreviousPage:ze,GoToPreviousPageMenuItem:Ue,NumberOfPages:Be,Open:q,OpenMenuItem:V,Print:Le,PrintMenuItem:Oe,Rotate:Se,RotateBackwardMenuItem:se,RotateForwardMenuItem:ne,Search:Ie,ShowProperties:Je,ShowPropertiesMenuItem:Qe,ShowSearchPopover:qe,SwitchScrollMode:fe,SwitchScrollModeMenuItem:ye,SwitchSelectionMode:rt,SwitchSelectionModeMenuItem:Ze,SwitchViewMode:Ae,SwitchViewModeMenuItem:Me,SwitchTheme:et,SwitchThemeMenuItem:Xe,Zoom:ue,ZoomIn:Ee,ZoomInMenuItem:Pe,ZoomOut:be,ZoomOutMenuItem:ke}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:B,pageNavigationPluginInstance:O,printPluginInstance:R,propertiesPluginInstance:re,rotatePluginInstance:de,scrollModePluginInstance:pe,searchPluginInstance:ae,selectionModePluginInstance:te,themePluginInstance:ve,zoomPluginInstance:ie,install:function(G){Q.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,Q.map(function(U,J){return U.renderPageLayer?_.createElement(_.Fragment,{key:J},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:J})}))},renderViewer:function(G){var U=G.slot;return Q.forEach(function(J){J.renderViewer&&(U=J.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){Q.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){Q.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){Q.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){Q.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return Q.forEach(function(J){J.onViewerStateChange&&(U=J.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:ee}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var B=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,B.get?B:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,B=arguments.length;H<B;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,B=A.store,O=A.thumbnailTabContent,R=A.tabs,re=u.useRef(),de=u.useContext(e.LocalizationContext).l10n,pe=u.useState(B.get("isCurrentTabOpened")||!1),ae=pe[0],te=pe[1],ve=u.useState(Math.max(B.get("currentTab")||0,0)),ie=ve[0],Q=ve[1],ee=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:O,icon:u.createElement(d,null),title:de&&de.defaultLayout?de.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:de&&de.defaultLayout?de.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:de&&de.defaultLayout?de.defaultLayout.attachment:"Attachment"}],U=R?R(G):G,J=function(W){W>=0&&W<=U.length-1&&(B.update("isCurrentTabOpened",!0),Q(W))},Y=function(W){te(W)};return u.useEffect(function(){return B.subscribe("currentTab",J),B.subscribe("isCurrentTabOpened",Y),function(){B.unsubscribe("currentTab",J),B.unsubscribe("isCurrentTabOpened",Y)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ae,"rpv-default-layout__sidebar--ltr":!ee,"rpv-default-layout__sidebar--rtl":ee}),ref:re},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(W,q){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ie===q,key:q,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(q),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(q),position:ee?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:W.title,isSelected:ie===q,onClick:function(){return function(V){if(ie===V){B.update("isCurrentTabOpened",!B.get("isCurrentTabOpened"));var X=re.current;X&&X.style.width&&X.style.removeProperty("width")}else B.update("currentTab",V)}(q)}},W.icon),content:function(){return W.title},offset:ee?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ie),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ae,"rpv-default-layout__sidebar-content--ltr":!ee,"rpv-default-layout__sidebar-content--rtl":ee}),role:"tabpanel",tabIndex:-1},U[ie].content))),ae&&u.createElement(e.Splitter,{constrain:function(W){return W.firstHalfPercentage>=20&&W.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),B=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),R=o.toolbarPlugin(A?A.toolbarPlugin:{}),re=H.Attachments,de=B.Bookmarks,pe=O.Thumbnails,ae=R.Toolbar,te=A?A.sidebarTabs:function(ie){return ie},ve=[H,B,O,R];return{attachmentPluginInstance:H,bookmarkPluginInstance:B,thumbnailPluginInstance:O,toolbarPluginInstance:R,activateTab:function(ie){$.update("currentTab",ie)},toggleTab:function(ie){var Q=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),Q!==ie&&$.update("currentTab",ie)},install:function(ie){ve.forEach(function(Q){Q.install&&Q.install(ie)})},renderPageLayer:function(ie){return u.createElement(u.Fragment,null,ve.map(function(Q,ee){return Q.renderPageLayer?u.createElement(u.Fragment,{key:ee},Q.renderPageLayer(ie)):u.createElement(u.Fragment,{key:ee},u.createElement(u.Fragment,null))}))},renderViewer:function(ie){var Q=ie.slot;ve.forEach(function(G){G.renderViewer&&(Q=G.renderViewer(i(i({},ie),{slot:Q})))});var ee=Q.subSlot&&Q.subSlot.attrs?{className:Q.subSlot.attrs.className,"data-testid":Q.subSlot.attrs["data-testid"],ref:Q.subSlot.attrs.ref,style:Q.subSlot.attrs.style}:{};return Q.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ie.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(re,null),bookmarkTabContent:u.createElement(de,null),store:$,thumbnailTabContent:u.createElement(pe,null),tabs:te}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(ae):u.createElement(ae,null)),u.createElement("div",i({},ee),Q.subSlot.children))),Q.children),Q.subSlot.attrs={},Q.subSlot.children=u.createElement(u.Fragment,null),Q},uninstall:function(ie){ve.forEach(function(Q){Q.uninstall&&Q.uninstall(ie)})},onDocumentLoad:function(ie){ve.forEach(function(Q){Q.onDocumentLoad&&Q.onDocumentLoad(ie)}),A&&A.setInitialTab&&A.setInitialTab(ie.doc).then(function(Q){$.update("currentTab",Q),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ie){ve.forEach(function(Q){Q.onAnnotationLayerRender&&Q.onAnnotationLayerRender(ie)})},onTextLayerRender:function(ie){ve.forEach(function(Q){Q.onTextLayerRender&&Q.onTextLayerRender(ie)})},onViewerStateChange:function(ie){var Q=ie;return ve.forEach(function(ee){ee.onViewerStateChange&&(Q=ee.onViewerStateChange(Q))}),Q}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(B){if(B)switch(B){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const index$1="",index="";export{libExports$h as a,libExports as l};
